package th.co.ais.web.mm.action;

import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Date;
import java.util.HashMap;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import java.util.ResourceBundle;

import javax.faces.FacesException;
import javax.faces.context.FacesContext;
import javax.faces.model.SelectItem;

import org.apache.commons.lang.StringUtils;
import org.apache.log4j.Logger;
import org.richfaces.component.UITree;
import org.richfaces.component.html.HtmlTree;
import org.richfaces.event.NodeSelectedEvent;
import org.richfaces.model.TreeNode;
import org.richfaces.model.TreeNodeImpl;

import sap.client.service.call.WsClientService;
import th.co.ais.common.service.IMenuTreeService;
import th.co.ais.domain.common.MenuTreeSP;
import th.co.ais.domain.gm.Bank;
import th.co.ais.domain.gm.BankMasterSP;
import th.co.ais.domain.gm.CT001ExportBank;
import th.co.ais.domain.gm.Province;
import th.co.ais.domain.gm.VendorMaster;
import th.co.ais.domain.mm.ItemMasterSP;
import th.co.ais.domain.mm.ItemParamsSP;
import th.co.ais.domain.mm.ItemResultSP;
import th.co.ais.domain.mm.Mmm001AddressSP;
import th.co.ais.domain.mm.Mmm001BookbankPayeeSP;
import th.co.ais.domain.mm.Mmm001BookbankSP;
import th.co.ais.domain.mm.Mmm001ContractHistory;
import th.co.ais.domain.mm.Mmm001ContractPayHistory;
import th.co.ais.domain.mm.Mmm001ContractSP;
import th.co.ais.domain.mm.Mmm001CriteriaSP;
import th.co.ais.domain.mm.Mmm001ExpenseWithContractOfVendorSP;
import th.co.ais.domain.mm.Mmm001ExportBatchResultSP;
import th.co.ais.domain.mm.Mmm001HistorySP;
import th.co.ais.domain.mm.Mmm001PayeeSP;
import th.co.ais.domain.mm.Mmm001RequestParam;
import th.co.ais.domain.mm.Mmm001SAPBookbankSP;
import th.co.ais.domain.mm.Mmm001SAPVendorSP;
import th.co.ais.domain.mm.Mmm001ValidatePage;
import th.co.ais.domain.mm.Mmm001VendorContractSP;
import th.co.ais.domain.mm.Mmm001VendorMasterSP;
import th.co.ais.domain.mm.Mmm001VendorPayHistSP;
import th.co.ais.domain.mm.Mmm001VendorSP;
import th.co.ais.domain.rt.EMAILModel;
import th.co.ais.domain.si.LessorInfo;
import th.co.ais.domain.si.PopupContractSearchSP;
import th.co.ais.rpt.util.DateUtil;
import th.co.ais.rpt.util.bean.CellDomain;
import th.co.ais.rpt.util.bean.EnumDocStyleDomain;
import th.co.ais.rpt.util.bean.RowDomain;
import th.co.ais.rpt.util.enums.EnumDocStyle;
import th.co.ais.rpt.util.enums.EnumDocumentType;
import th.co.ais.service.gm.IBankMasterService;
import th.co.ais.service.gm.IBankService;
import th.co.ais.service.gm.IVendorMasterService;
import th.co.ais.service.si.ISiteContractService;
import th.co.ais.service.si.ISiteLessorService;
import th.co.ais.service.util.ServiceConstants;
import th.co.ais.util.ELovType;
import th.co.ais.util.EQueryName;
import th.co.ais.util.SEMConstant;
import th.co.ais.util.SEMDataUtility;
import th.co.ais.util.WrapperBeanObject;
import th.co.ais.web.action.AbstractAction;
import th.co.ais.web.el.bean.SEMMEL001Bean;
import th.co.ais.web.ir.bean.SEMMIR010Bean;
import th.co.ais.web.mm.bean.SEMMMM001Bean;
import th.co.ais.web.mm.bean.SEMMMM002Bean;
import th.co.ais.web.report.util.DocumentExportManager;
import th.co.ais.web.rt.bean.SEMMRT001Bean;
import th.co.ais.web.util.EmailMessageUtil;
import th.co.ais.web.util.FrontMessageUtils;
import th.co.ais.web.util.ProvinceCacheUtil;
import th.co.ais.web.util.SEMXPathSearch;
import th.co.ais.web.util.SemUtils;
import th.co.ais.webservice.test.TestCallService;

public class SEMMMM001Action extends AbstractAction {
	
	/**
	 * 
	 */
	private static final long serialVersionUID = -4551978165681362897L;
	
	private Logger LOG = Logger.getLogger(getClass());
	
	private SEMMMM001Bean semmmm001Bean;
	private SEMMMM001Action semmmm001Action;
	private SEMMRT001Bean semmrt001Bean;
	private SEMMEL001Bean semmel001Bean;
	private SEMMIR010Bean semmir010Bean;
	
	private static final String BEAN_SEMMEL001 = "semmel001Bean";
	
	private static final String BEAN_SEMMIR010 = "semmir010Bean";
	
	private static final ResourceBundle RSC_BUNDLE = ResourceBundle.getBundle("resources.mm.semmmm001");
	
	public SEMMMM001Bean getSemmmm001Bean() {
		//return (SEMMMM001Bean)FacesContext.getCurrentInstance().getExternalContext().getSessionMap().get("semmmm001Bean");
		
		SEMMMM001Bean semmmm001Bean = (SEMMMM001Bean)FacesContext.getCurrentInstance().getExternalContext().getSessionMap().get("semmmm001Bean");
		if(semmmm001Bean == null)
			semmmm001Bean = new SEMMMM001Bean();
		return semmmm001Bean;
	}

	public void setSemmmm001Bean(SEMMMM001Bean semmmm001Bean) {
		this.semmmm001Bean = semmmm001Bean;
		FacesContext.getCurrentInstance().getExternalContext().getSessionMap().put("semmmm001Bean", semmmm001Bean);
	}

	public SEMMMM001Action getSemmmm001Action() {
		return (SEMMMM001Action)FacesContext.getCurrentInstance().getExternalContext().getSessionMap().get("semmmm001Action");
	}

	public void setSemmmm001Action(SEMMMM001Action semmmm001Action) {
		this.semmmm001Action = semmmm001Action;
		FacesContext.getCurrentInstance().getExternalContext().getSessionMap().put("semmsa002Bean", semmmm001Action);
	}
	
	public SEMMRT001Bean getSemmrt001Bean() {
		return (SEMMRT001Bean)FacesContext.getCurrentInstance().getExternalContext().getSessionMap().get("semmrt001Bean");
	}

	public void setSemmrt001Bean(SEMMRT001Bean semmrt001Bean) {
		this.semmrt001Bean = semmrt001Bean;
		FacesContext.getCurrentInstance().getExternalContext().getSessionMap().put("semmrt001Bean", this.semmrt001Bean);
	}
	
	// --- private ---
	private SEMMEL001Bean getSEMMEL001Bean(){
		
		SEMMEL001Bean bean = (SEMMEL001Bean)FacesContext.getCurrentInstance().getExternalContext().getSessionMap().get(BEAN_SEMMEL001);
		if(bean == null){
			
			bean = new SEMMEL001Bean();
			
			FacesContext.getCurrentInstance().getExternalContext().getSessionMap().put(BEAN_SEMMEL001, bean);
		}
		
		return bean;
	}
	
	public void setSemmel001Bean(SEMMEL001Bean semmel001Bean) {
		this.semmel001Bean = semmel001Bean;
		FacesContext.getCurrentInstance().getExternalContext().getSessionMap().put("semmel001Bean", semmel001Bean);
	}
	
	// --- private ---
	private SEMMIR010Bean getSEMMIR010Bean(){
		
		SEMMIR010Bean bean = (SEMMIR010Bean)FacesContext.getCurrentInstance().getExternalContext().getSessionMap().get(BEAN_SEMMIR010);
		if(bean == null){
			
			bean = new SEMMIR010Bean();
			
			FacesContext.getCurrentInstance().getExternalContext().getSessionMap().put(BEAN_SEMMIR010, bean);
		}
		
		return bean;
	}
	
	public void setSemmir010Bean(SEMMIR010Bean semmir010Bean) {
		this.semmir010Bean = semmir010Bean;
		FacesContext.getCurrentInstance().getExternalContext().getSessionMap().put("semmir010Bean", semmir010Bean);
	}

	@Override
	public boolean actionWithNavi(String methodWithNavi) {
		LOG.info("::: SEMMMM001Action :: actionWithNavi >> BEGIN :::");
		boolean flag = false;
		
		try {
			
			// --
			semmmm001Bean = getSemmmm001Bean();
			
        	// --
			if(methodWithNavi.equalsIgnoreCase("pageLoad")) {
				flag = this.pageLoad(); 
			}if(methodWithNavi.equalsIgnoreCase("pageLoadHist")) {
				flag = this.pageLoadHist(); 
			} else if(methodWithNavi.equalsIgnoreCase("doSearch")) {
				flag = this.doSearch(); 
			} else if(methodWithNavi.equalsIgnoreCase("doClear")) {
				flag = this.doClear();	
			} else if(methodWithNavi.equalsIgnoreCase("doInitChangeTab")){
				flag = doInitChangeTab();
			}else if(methodWithNavi.equalsIgnoreCase("doInitPayeeChangeTab")){
				flag = doInitPayeeChangeTab();
			}
			
			// -- initiate master page 
			/*else if(methodWithNavi.equalsIgnoreCase("doNewVendor")) {
				flag = this.doNewVendor();	
			}*/ else if(methodWithNavi.equalsIgnoreCase("doNewBookbank")) {
				flag = this.doNewBookbank();	
			} else if(methodWithNavi.equalsIgnoreCase("doNewPayee")) {
				flag = this.doNewPayee();	
			} else if(methodWithNavi.equalsIgnoreCase("doNewBBPayee")) {
				flag = this.doNewBBPayee();	
			} else if(methodWithNavi.equalsIgnoreCase("doNewBBPayeeFromPayee")) {
				flag = this.doNewBBPayeeFromPayee();	
			} 
			
			else if(methodWithNavi.equalsIgnoreCase("doNewVendorBySelectedContract")) {
				flag = this.doNewVendorBySelectedContract();	
			} else if(methodWithNavi.equalsIgnoreCase("doNewVendorClearContent")) {
				flag = this.doNewVendorClearContent();	
			}
			
			// --
			else if(methodWithNavi.equalsIgnoreCase("doContractHistory")) {
				flag = this.doContractHistory();	
			}else if(methodWithNavi.equalsIgnoreCase("doVendorHistory")) {
				flag = this.doVendorHistory();	
			} else if(methodWithNavi.equalsIgnoreCase("doBookbankHistory")) {
				flag = this.doBookbankHistory();	
			} else if(methodWithNavi.equalsIgnoreCase("doPayeeHistory")) {
				flag = this.doPayeeHistory();	
			} else if(methodWithNavi.equalsIgnoreCase("doBookbankPayeeHistory")) {
				flag = this.doBookbankPayeeHistory();	
			} else if(methodWithNavi.equalsIgnoreCase("doManageBtn")) {
				flag = this.doManageBtn();	
			}
			
			// -- vendor --
			else if(methodWithNavi.equalsIgnoreCase("doNewVendorByContract")) {
				flag = this.doNewVendorByContract();	
			} else if(methodWithNavi.equalsIgnoreCase("doViewVendorByVendorId")) {
				flag = this.doViewVendorByVendorId();	
			} else if(methodWithNavi.equalsIgnoreCase("doViewVendorByVendorIdModeChange")) {
				flag = this.doViewVendorByVendorIdModeChange();	
			} else if(methodWithNavi.equalsIgnoreCase("doEditVendorByVendorId")) {
				flag = this.doEditVendorByVendorId();	
			} else if(methodWithNavi.equalsIgnoreCase("doChangeVendor")) {
				flag = this.doChangeVendor();	
			} else if(methodWithNavi.equalsIgnoreCase("doDeleteVendorByVendorId")) {
				flag = this.doDeleteVendorByVendorId();	
			} else if(methodWithNavi.equalsIgnoreCase("doSendToMNGByVendorId")) {
				flag = this.doSendToMNGByVendorId();	
			} else if(methodWithNavi.equalsIgnoreCase("doSaveVendorInfo")) {
				flag = this.doSaveVendorInfo();	
			//} else if(methodWithNavi.equalsIgnoreCase("doSaveChangeVendorInfo")) {
			//	flag = this.doSaveChangeVendorInfo();	
			} else if(methodWithNavi.equalsIgnoreCase("doViewVendorSAPInfo")) {
				flag = this.doViewVendorSAPInfo();	
			}else if(methodWithNavi.equalsIgnoreCase("doSelectVendorByVendorId")) {
				flag = this.doSelectVendorByVendorId();	
			}else if(methodWithNavi.equalsIgnoreCase("doNewPayeeByContract")) {
				flag = this.doNewPayeeByContract();	
			}else if(methodWithNavi.equalsIgnoreCase("doSelectVendor")){
				flag = this.doSelectVendor();
			}else if(methodWithNavi.equalsIgnoreCase("doSelectContractOfExpense")){
				flag = this.doSelectContractOfExpense();
			}
			
			// -- bookbank --
			else if(methodWithNavi.equalsIgnoreCase("doViewBookbankByVendorBookbankId")) {
				flag = this.doViewBookbankByVendorBookbankId();	
			}else if(methodWithNavi.equalsIgnoreCase("doCancelBookbankByVendorBookbankId")) {
				flag = this.doCancelBookbankByVendorBookbankId();	
			}else if(methodWithNavi.equalsIgnoreCase("doEditBookbankByVendorBookbankId")) {
				flag = this.doEditBookbankByVendorBookbankId();	
			} else if(methodWithNavi.equalsIgnoreCase("doChangeBookbank")) {
				flag = this.doChangeBookbank();	
			} else if(methodWithNavi.equalsIgnoreCase("doDeleteBookbankByVendorBookbankId")) {
				flag = this.doDeleteBookbankByVendorBookbankId();	
			} else if(methodWithNavi.equalsIgnoreCase("doDeleteBookbankMaster")) {
				flag = this.doDeleteBookbankMaster();	
			} else if(methodWithNavi.equalsIgnoreCase("doSendToMNGByVendorBookbankId")) {
				flag = this.doSendToMNGByVendorBookbankId();	
			} else if(methodWithNavi.equalsIgnoreCase("doSaveBookbankInfo")) {
				flag = this.doSaveBookbankInfo();	
			} else if(methodWithNavi.equalsIgnoreCase("doSaveChangeBookbankInfo")) {
				flag = this.doSaveChangeBookbankInfo();	
			} else if(methodWithNavi.equalsIgnoreCase("doViewBookbankSAPInfo")) {
				flag = this.doViewBookbankSAPInfo();	
			} else if(methodWithNavi.equalsIgnoreCase("initSearchBankCode")) {
				flag = this.initSearchBankCode();	
			} else if(methodWithNavi.equalsIgnoreCase("doSearchBankCode")) {
				flag = this.doSearchBankCode();	
			} else if(methodWithNavi.equalsIgnoreCase("doClearSearchBankCriteria")) {
				this.doClearSearchBankCriteria();	
			} else if(methodWithNavi.equalsIgnoreCase("doSelectBank")) {
				flag = this.doSelectBank();	
			} else if(methodWithNavi.equalsIgnoreCase("doInitNewOrUpdate")) {
				flag = this.doInitNewOrUpdate();	
			} else if(methodWithNavi.equalsIgnoreCase("doSave")) {
				flag = this.doSave();
			}else if(methodWithNavi.equalsIgnoreCase("doViewBookbankFromVendor")){
				flag = this.doViewBookbankFromVendor();
			}
			
			// -- payee --
			else if(methodWithNavi.equalsIgnoreCase("doViewPayeeByPayeeId")) {
				flag = this.doViewPayeeByPayeeId();	
			} else if(methodWithNavi.equalsIgnoreCase("doEditPayeeByPayeeId")) {
				flag = this.doEditPayeeByPayeeId();	
			} else if(methodWithNavi.equalsIgnoreCase("doChangePayee")) {
				flag = this.doChangePayee();	
			} else if(methodWithNavi.equalsIgnoreCase("doDeletePayeeByPayeeId")) {
				flag = this.doDeletePayeeByPayeeId();	
			} else if(methodWithNavi.equalsIgnoreCase("doDeletePayeeMaster")) {
				flag = this.doDeletePayeeMaster();	
			} else if(methodWithNavi.equalsIgnoreCase("doSendToMNGByPayeeId")) {
				flag = this.doSendToMNGByPayeeId();	
			} else if(methodWithNavi.equalsIgnoreCase("doSavePayeeInfo")) {
				flag = this.doSavePayeeInfo();	
			}
			
			// -- bookbank payee --
			else if(methodWithNavi.equalsIgnoreCase("doViewBBPayeeByBookbankPayeeId")) {
				flag = this.doViewBBPayeeByBookbankPayeeId();	
			}else if(methodWithNavi.equalsIgnoreCase("doViewBBPayeeFromVendor")) {
				flag = this.doViewBBPayeeFromVendor();	
			}else if(methodWithNavi.equalsIgnoreCase("doViewBBPayeeFromPayee")) {
				flag = this.doViewBBPayeeFromPayee();	
			} else if(methodWithNavi.equalsIgnoreCase("doGetBBPayeeDetail")) {
				flag = this.doGetBBPayeeDetail();	
			} else if(methodWithNavi.equalsIgnoreCase("doEditBBPayeeByBookbankPayeeId")) {
				flag = this.doEditBBPayeeByBookbankPayeeId();	
			} else if(methodWithNavi.equalsIgnoreCase("doChangeBBPayee")) {
				flag = this.doChangeBBPayee();	
			} else if(methodWithNavi.equalsIgnoreCase("doDeleteBBPayeeByBookbankPayeeId")) {
				flag = this.doDeleteBBPayeeByBookbankPayeeId();	
			} else if(methodWithNavi.equalsIgnoreCase("doDeleteBBPayeeMaster")) {
				flag = this.doDeleteBBPayeeMaster();	
			} else if(methodWithNavi.equalsIgnoreCase("doSendToMNGByBookbankPayeeId")) {
				flag = this.doSendToMNGByBookbankPayeeId();	
			} else if(methodWithNavi.equalsIgnoreCase("doSaveBBPayeeInfo")) {
				flag = this.doSaveBBPayeeInfo();	
			} else if(methodWithNavi.equalsIgnoreCase("doViewBBPayeeSAPInfo")) {
				flag = this.doViewBBPayeeSAPInfo();	
			} else if(methodWithNavi.equalsIgnoreCase("doEditVendor")) {
				flag = this.doEditVendor();	
			} else if(methodWithNavi.equalsIgnoreCase("doCopySapToSem")) {
				flag = this.doCopySapToSem();	
			} else if(methodWithNavi.equalsIgnoreCase("doSearchTree")){
				flag = this.doSearchTree();
			} else if(methodWithNavi.equalsIgnoreCase("doBBPayeeCancel")){
				flag = this.doBBPayeeCancel();
			}
			
			// -- contract vendor --
			else if(methodWithNavi.equalsIgnoreCase("doViewContractVendorSummary")){
				flag = this.doViewContractVendorSummary();
			} else if(methodWithNavi.equalsIgnoreCase("doDeleteVendorContract")){
				flag = this.doDeleteVendorContract();
			} else if(methodWithNavi.equalsIgnoreCase("doSelectContractForAssignOrChange")){
				flag = this.doSelectContractForAssignOrChange();
			} else if(methodWithNavi.equalsIgnoreCase("doAssignContractToVendor")){
				flag = this.doAssignContractToVendor();
			}
			
			
			// -- popup --
			else if(methodWithNavi.equalsIgnoreCase("doSelectContractPopup")){
				flag = this.doSelectContractPopup();
			} else if(methodWithNavi.equalsIgnoreCase("doSelectSiteContractPopup")){
				flag = this.doSelectSiteContractPopup();
			}else if(methodWithNavi.equalsIgnoreCase("doManageSelectSiteContractPopup")){
				flag = this.doManageSelectSiteContractPopup();
			}else if(methodWithNavi.equalsIgnoreCase("doInitConfirmBlackList")){
				flag = this.doInitConfirmBlackList();
			}else if(methodWithNavi.equalsIgnoreCase("doConfirmBlackList")){
				flag = this.doConfirmBlackList();
			}else if(methodWithNavi.equalsIgnoreCase("doInitConfirmContractNoVendor")){
				flag = this.doInitConfirmContractNoVendor();
			}else if(methodWithNavi.equalsIgnoreCase("doConfirmContractNoVendor")){
				flag = this.doConfirmContractNoVendor();
			}else if(methodWithNavi.equalsIgnoreCase("initPageLoad")){
				flag = this.initPageLoad();
			}
			
			
			// -- Todo master --
			else if(methodWithNavi.equalsIgnoreCase("doForwardFromTodoPage")){
				flag = this.doForwardFromTodoPage();
			}else if(methodWithNavi.equalsIgnoreCase("doBackwardFromTodoPage")){
				flag = this.doBackwardFromTodoPage();
			}else if(methodWithNavi.equalsIgnoreCase("searchTodoList")){
				flag = this.searchTodoList();
			}else if(methodWithNavi.equalsIgnoreCase("doViewVendorHistDetail")){
				flag = this.doViewVendorHistDetail();
			}else if(methodWithNavi.equalsIgnoreCase("doViewBookbankHistDetail")){
				flag = this.doViewBookbankHistDetail();
			}else if(methodWithNavi.equalsIgnoreCase("doViewPayeeHistDetail")){
				flag = this.doViewPayeeHistDetail();
			}else if(methodWithNavi.equalsIgnoreCase("doViewBBPayeeHistDetail")){
				flag = this.doViewBBPayeeHistDetail();
			}else if(methodWithNavi.equalsIgnoreCase("doInitDeleteVendorContract")){
				flag = this.doInitDeleteVendorContract();
			}else if(methodWithNavi.equalsIgnoreCase("doSaveVendorByOtherPage")){
				flag = this.doSaveVendorByOtherPage();
			}else if(methodWithNavi.equalsIgnoreCase("doEditVendorData")){
				flag = this.doEditVendorData();
			}else if(methodWithNavi.equalsIgnoreCase("doEditBookbankData")){
				flag = this.doEditBookbankData();
			}else if(methodWithNavi.equalsIgnoreCase("doEditPayeeData")){
				flag = this.doEditPayeeData();
			}else if(methodWithNavi.equalsIgnoreCase("doEditPayeeBBData")){
				flag = this.doEditPayeeBBData();
			}else if(methodWithNavi.equalsIgnoreCase("doViewVendorConfirm")){
				flag = this.doViewVendorConfirm();
			}else if(methodWithNavi.equalsIgnoreCase("doViewBookbankConfirm")){
				flag = this.doViewBookbankConfirm();
			}else if(methodWithNavi.equalsIgnoreCase("doViewPayeeConfirm")){
				flag = this.doViewPayeeConfirm();
			}else if(methodWithNavi.equalsIgnoreCase("doViewBBPayeeConfirm")){
				flag = this.doViewBBPayeeConfirm();
			}else if(methodWithNavi.equalsIgnoreCase("doNewBookbankFromVendorDetail")){
				flag = this.doNewBookbankFromVendorDetail();
			}else if(methodWithNavi.equalsIgnoreCase("doNewPayeeFromVendorDetail")){
				flag = this.doNewPayeeFromVendorDetail();
			}else if(methodWithNavi.equalsIgnoreCase("doViewPayeeFromVendorDetail")){
				flag = this.doViewPayeeFromVendorDetail();
			}else if(methodWithNavi.equalsIgnoreCase("doInitValidateBack")){
				flag = this.doInitValidateBack();
			}
			
			
		} catch (Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: actionWithNavi >> END :::");
		}
		return flag;
	}

	@Override
	public void init() {
		LOG.info("::: SEMMMM001Action :: init >> BEGIN :::");
		
		SEMMMM001Bean semmmm001Bean = new SEMMMM001Bean();
		String navProgram = (String)getFacesUtils().getRequestParameter("navProgram");
		try {
			semmmm001Bean.setCompanyList(getLovItemsByType(ELovType.T_COMPANY.name));
			semmmm001Bean.setExpenseTypeList(getLovItemsByType(ELovType.T_CT_EXPENSE_TYPE.name));
			semmmm001Bean.setBankList(getLovItemsByType(ELovType.T_CT_BG_BANK.name));
			semmmm001Bean.setVendorStatusList(getLovItemsByType(ELovType.T_MM_SAP_VENDOR_STATUS.name));
			semmmm001Bean.setBookbankStatusList(getLovItemsByType(ELovType.T_MM_SAP_BOOKBANK_STATUS.name));
			semmmm001Bean.setPayeeStatusList(getLovItemsByType(ELovType.T_MM_SAP_PAYEE_STATUS.name));
			semmmm001Bean.setBookbankPayeeStatusList(getLovItemsByType(ELovType.T_MM_SAP_BOOKBANK_STATUS.name));
			
			semmmm001Bean.setVendorFlowStatusList(getLovItemsByType(ELovType.T_MM_SAP_VENDOR_FLOW_STATUS.name));
			semmmm001Bean.setBookbankFlowStatusList(getLovItemsByType(ELovType.T_MM_SAP_BOOKBANK_FLOW_STATUS.name));
			semmmm001Bean.setPayeeFlowStatusList(getLovItemsByType(ELovType.T_MM_SAP_PAYEE_FLOW_STATUS.name));
			semmmm001Bean.setBookbankPayeeFlowStatusList(getLovItemsByType(ELovType.T_MM_SAP_BOOKBANK_PAYEE_FLOW_STATUS.name));
			
			semmmm001Bean.setRegionList(getRegionCheckList());
			
			semmmm001Bean.setVendorTypeList(getLovItemsByType(ELovType.T_CT_VENDOR_TYPE.name));
			semmmm001Bean.setVendorBlockStatusList(getLovItemsByType(ELovType.T_MM_SAP_BLOCK_STATUS.name));
			semmmm001Bean.setVendorBlackListStatusList(getLovItemsByType(ELovType.T_MM_SAP_BLACKLIST_STATUS.name));
			semmmm001Bean.setHqBranchList(getLovItemsByType(ELovType.T_CT_VENDOR_BRANCH.name));
			
			semmmm001Bean.setAccountTypeList(getLovItemsByType(ELovType.T_CT_BANK_ACC_TYPE.name));
			semmmm001Bean.setWithholdList(getLovItemsByType(ELovType.T_MM_SAP_WHT_TYPE.name));
			
			semmmm001Bean.setProvinceList(getProvinceList_SEM());
			semmmm001Bean.setAmphurList(getEmptyDropDown());
			semmmm001Bean.setTambolList(getEmptyDropDown());
			semmmm001Bean.setSelectedTab("tab0");
			semmmm001Bean.setPayeeSelectedTab("tabP0");
			
			//added by NEW 18/05/2017
			semmmm001Bean.setCompanySemList(getLovItemsByType(ELovType.T_COMPANY.name));
			semmmm001Bean.setExpenseTypeSemList(getLovItemsByType(ELovType.T_CT_EXPENSE_TYPE.name));
			semmmm001Bean.setBankSemList(getLovItemsByType(ELovType.T_CT_BG_BANK.name));
			semmmm001Bean.setVendorStatusSemList(getLovItemsByType(ELovType.T_MM_SAP_VENDOR_STATUS.name));
			semmmm001Bean.setBookbankStatusSemList(getLovItemsByType(ELovType.T_MM_SAP_BOOKBANK_STATUS.name));
			semmmm001Bean.setPayeeStatusSemList(getLovItemsByType(ELovType.T_MM_SAP_PAYEE_STATUS.name));
			semmmm001Bean.setBookbankPayeeStatusSemList(getLovItemsByType(ELovType.T_MM_SAP_BP_STATUS.name));
			
			semmmm001Bean.setVendorFlowStatusSemList(getLovItemsByType(ELovType.T_MM_SAP_VENDOR_FLOW_STATUS.name));
			semmmm001Bean.setBookbankFlowStatusSemList(getLovItemsByType(ELovType.T_MM_SAP_BOOKBANK_FLOW_STATUS.name));
			semmmm001Bean.setPayeeFlowStatusSemList(getLovItemsByType(ELovType.T_MM_SAP_PAYEE_FLOW_STATUS.name));
			
			semmmm001Bean.setRegionSemList(getRegionCheckList());
			
			semmmm001Bean.setVendorTypeSemList(getLovItemsByType(ELovType.T_CT_VENDOR_TYPE.name));
			semmmm001Bean.setVendorBlockStatusSemList(getLovItemsByType(ELovType.T_MM_SAP_BLOCK_STATUS.name));
			semmmm001Bean.setBankBranchSemList(getLovItemsByType(ELovType.T_CT_BG_BANK.name));
			
			semmmm001Bean.setAccountTypeSemList(getLovItemsByType(ELovType.T_CT_BANK_ACC_TYPE.name));
			semmmm001Bean.setActiveStatusSemList(getLovItemsByType(ELovType.T_COMPANY.name));	// --
			
			semmmm001Bean.setNoExportBatchList(getLovItemsByType(ELovType.T_MM_SAP_NO_EXPORT_BATCH_CRI.name));
			
			semmmm001Bean.setProvinceSemList(getProvinceList_SEM());
			semmmm001Bean.setAmphurSemList(getEmptyDropDown());
			semmmm001Bean.setTambolSemList(getEmptyDropDown());
			
			semmmm001Bean.setProvinceBookbankList(ProvinceCacheUtil.getInstance().getProvinceSelList());
		
			semmmm001Bean.setPayeeInfoHist(new Mmm001PayeeSP()); 
			semmmm001Bean.getPayeeInfoHist().setProvinceList(getEmptyDropDown());
			semmmm001Bean.getPayeeInfoHist().setAmphurList(getEmptyDropDown());
			semmmm001Bean.getPayeeInfoHist().setTambolList(getEmptyDropDown());
			
			//added BY new 2017/07/21
			semmmm001Bean.setBlockStatusList(getLovItemsByType(ELovType.T_MM_SAP_BLOCK_STATUS.name));
			semmmm001Bean.setBlackListStatusList(getLovItemsByType(ELovType.T_MM_SAP_BLACKLIST_STATUS.name));
			
			semmmm001Bean.setChkVendorType(true);
			semmmm001Bean.setChkPayeeType(true);
			
			semmmm001Bean.setRenderedBtnTodoBack(false);
			
			semmmm001Bean.setChkDummyFlag(false);
			semmmm001Bean.setRenderedBtnBackOthPageFlow(false);
			semmmm001Bean.setAccountNoMaxLength("10");
			semmmm001Bean.setAccountNoMaxLengthPayee("10");
			
			semmmm001Bean.setSemmmm001ReqParam(new Mmm001RequestParam());
			semmmm001Bean.setPayeePageFlag(false);
			setSemmmm001Bean(semmmm001Bean);
			this.retrieveBankSelections();
			this.getBankNameSelections();
			
			if(StringUtils.equals("SEMMMM001-0", navProgram))
				this.loadTree();
		} catch (Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: init >> END :::");
		}
	}
	
	@SuppressWarnings("unchecked")
	private void getBankNameSelections() {
		IBankMasterService service = (IBankMasterService)getBean("bankMasterService");
		List<BankMasterSP> bankMasterList = null;
		try {
			bankMasterList = service.querySPList(EQueryName.SP_MCT009_BANKMASTER_SEARCH_DDL_BANK.name, semmmm001Bean.getCriteriaBankMasterSP());
			if(bankMasterList != null){
				SelectItem t1,t2,t3;
				List<SelectItem> bankCodeList = new ArrayList<SelectItem>();
				List<SelectItem> bankNameList = new ArrayList<SelectItem>();
				List<SelectItem> backSelectionList = new ArrayList<SelectItem>();
				backSelectionList.add(setInitDropDown());
				semmmm001Bean.setBankSelectionSearchList(backSelectionList);
				for(BankMasterSP bankMSP : bankMasterList){
					t1 = new SelectItem();
					t2 = new SelectItem();
					t3 = new SelectItem();
					
					t1.setLabel(bankMSP.getBankGroupCode() + " - " + bankMSP.getBankName());
					t1.setValue(bankMSP.getBankGroupCode());
					if(bankMSP.getBankName() != null && !bankMSP.getBankName().equals("")){
						t2.setLabel(bankMSP.getBankName());
						t2.setValue(bankMSP.getBankName());
					}else{
						t2.setLabel("");
						t2.setValue("");
					}
					
					t3.setLabel(bankMSP.getBankGroupCode() + " - " + bankMSP.getBankName());
					t3.setValue(bankMSP.getBankGroupCode());
					
					backSelectionList.add(t3);
					bankCodeList.add(t1);
					bankNameList.add(t2);
				}
				
				semmmm001Bean.setBankMasterSlctList(bankMasterList);
				semmmm001Bean.setBankNameSearchList(backSelectionList);
				semmmm001Bean.setBankCodeList(bankCodeList);
				semmmm001Bean.setBankNameList(bankNameList);		
			}
		} catch(Exception e) {
			e.printStackTrace();
		}
		
	}
	
	@Override
	public void clearSessionNotUsed() {
		// do something
	}

	@Override
	public boolean validate() {
		// do something
		return false;
	}
	
	private String getMessage(String key) {
		return RSC_BUNDLE.getString(key);
	}
	
	public boolean doValidateVendorMaster() {
		LOG.info("::: SEMMMM001Action :: doValidateVendorMaster >> BEGIN :::");
		boolean flag = true;
		
		String saveFlag = semmmm001Bean.getVendorInfo().getSaveFlag() == null ? "" : 
			   (String) semmmm001Bean.getVendorInfo().getSaveFlag();
		
		try{
			if(!StringUtils.equals("V", saveFlag)){
				// -- contract Detail / Expense Detail --
				if(semmmm001Bean.isOtherExpenseFlag()){ 
					// when WithoutContract checked ContractRemark must be require!
					if(StringUtils.isBlank(semmmm001Bean.getVendorInfo().getRemarkWithoutContract())){
						addMessageError("W0001", getMessage("msg.required.remark"));
						flag = false;
					}
				}
				
				// -- Vendor Detail --
				if(StringUtils.isBlank(semmmm001Bean.getVendorInfo().getCompany())){
					addMessageError("W0001", getMessage("msg.required.company"));
					flag = false;
				} 

				if(StringUtils.isBlank(semmmm001Bean.getVendorInfo().getVendorType())){
					addMessageError("W0001", getMessage("msg.required.vendor.type"));
					flag = false;
				} 
				
				if(StringUtils.isBlank(semmmm001Bean.getVendorInfo().getVendorName1())){
					addMessageError("W0001", getMessage("msg.required.vendor.name1"));
					flag = false;
				} 
				
				if(semmmm001Bean.getVendorInfo().getVendorType().equals("01")) {
					if( semmmm001Bean.getVendorInfo().getIdCard().isEmpty()){
						addMessageError("W0001", getMessage("msg.required.citizen.id"));
						flag = false;
					}else if(!isNumeric(semmmm001Bean.getVendorInfo().getIdCard())){
						addMessageError("W0007", getMessage("msg.required.citizen.id"));
						flag = false;
					}else if(semmmm001Bean.getVendorInfo().getIdCard() != null && semmmm001Bean.getVendorInfo().getIdCard().toString().length() != 13){
						addMessageErrorWithArgument("W0092" ,getMessage("msg.required.citizen.id"), "13");
						flag = false;
					}
				}else if(semmmm001Bean.getVendorInfo().getVendorType().equals("02")){
					if( semmmm001Bean.getVendorInfo().getTaxId().isEmpty()){
						addMessageError("W0001", getMessage("msg.required.personal.tax.id"));
						flag = false;
					}else if(!isNumeric(semmmm001Bean.getVendorInfo().getTaxId())){
						addMessageError("W0007", getMessage("msg.required.personal.tax.id"));
						flag = false;
					}else if(semmmm001Bean.getVendorInfo().getTaxId() != null && semmmm001Bean.getVendorInfo().getTaxId().toString().length() != 13){
						addMessageErrorWithArgument("W0092" ,getMessage("msg.required.personal.tax.id"), "13");
						flag = false;
					}
				}

				//check Branch Code
//				if(semmmm001Bean.getVendorInfo().getHqFlag() != null && StringUtils.equals("02", semmmm001Bean.getVendorInfo().getHqFlag())){
				if(semmmm001Bean.getVendorInfo().getHqFlag() != null && StringUtils.isNotEmpty(semmmm001Bean.getVendorInfo().getHqFlag())){
					if(StringUtils.isEmpty(semmmm001Bean.getVendorInfo().getBranchNo())){
						addMessageError("W0001", getMessage("msg.required.branch.code"));
						flag = false;
					}else if(!isNumeric(semmmm001Bean.getVendorInfo().getBranchNo())){
						addMessageError("W0007", getMessage("msg.required.branch.code"));
						flag = false;
					}else if(semmmm001Bean.getVendorInfo().getBranchNo()!=null 
							&& (semmmm001Bean.getVendorInfo().getBranchNo().length()<5 || semmmm001Bean.getVendorInfo().getBranchNo().length()>5 )){
						addMessageErrorWithArgument("W0092" ,getMessage("msg.required.branch.code"), "5");
						flag = false;
					}
					
				}
			}
			
			
			
			// when contractNo is not null expenseType must be require!
			if(!StringUtils.isBlank(semmmm001Bean.getExpCntrctOfVndObj().getContractNo())){
//				if(semmmm001Bean.getExpCntrctOfVndObj().getExpenseEffectiveDt() == null){ 
//					addMessageError("W0001", "Effective Date");
//					flag = false;
//				}
				
				if(StringUtils.isBlank(semmmm001Bean.getExpCntrctOfVndObj().getExpenseType())){ 
					addMessageError("W0001", getMessage("msg.required.expense.type"));
					flag = false;
				}
			} 
			
//			if(StringUtils.isBlank(semmmm001Bean.getVendorInfo().getWhtId())){
//				addMessageError("W0001", "Withhold");
//				flag = false;
//			} 
			
			// -- Vendor Address
			if(StringUtils.isBlank(semmmm001Bean.getVendorAddrObj().getAddress1())){
				addMessageError("W0001", getMessage("msg.required.address")+" Vendor 1");
				flag = false;
			} 
//
			if(StringUtils.isBlank(semmmm001Bean.getVendorAddrObj().getProvince())){
				addMessageError("W0001", getMessage("msg.required.province"));
				flag = false;
			}
//
			if(StringUtils.isBlank(semmmm001Bean.getVendorAddrObj().getAmphur()) || 
			   semmmm001Bean.getVendorAddrObj().isChkAmphurOther()){
				if(semmmm001Bean.getVendorAddrObj().isChkAmphurOther() && 
				  !StringUtils.isBlank(semmmm001Bean.getVendorAddrObj().getAmphurName())){
					// do nothing
				} else {
					addMessageError("W0001", getMessage("msg.required.amphur"));
					flag = false;
				}
			} 
			
			if(StringUtils.isBlank(semmmm001Bean.getVendorAddrObj().getTambol()) || 
			   semmmm001Bean.getVendorAddrObj().isChkTambolOther()){
				if(semmmm001Bean.getVendorAddrObj().isChkTambolOther() && 
				  !StringUtils.isBlank(semmmm001Bean.getVendorAddrObj().getTambolName())){
					// do nothing
				} else {
					addMessageError("W0001", getMessage("msg.required.tambol"));
					flag = false;
				}
			} 
//			
			if(semmmm001Bean.getVendorAddrObj() != null){
				if(StringUtils.isBlank(semmmm001Bean.getVendorAddrObj().getPostCode())){
					addMessageError("W0001", getMessage("msg.required.post.code"));
					flag = false;
				}
			}
//			
//			// -- for SAVE CHANGE (tab draft)
//			if(semmmm001Bean.getVendorInfo().getSaveFlag() != null && 
//			   semmmm001Bean.getVendorInfo().getSaveFlag().equalsIgnoreCase("C")){ 
//				
//				// -- Vendor Detail --
//				if(StringUtils.isBlank(semmmm001Bean.getVendorInfoCmpObj().getCompany())){
//					addMessageError("W0001", getMessage("msg.required.company"));
//					flag = false;
//				} 
//				
//				if(StringUtils.isBlank(semmmm001Bean.getExpCntrctOfVndObj().getExpenseType())){ 
//					// when contractNo is not null expenseType must be require!
//					if(!StringUtils.isBlank(semmmm001Bean.getExpCntrctOfVndObj().getContractNo())){
//						addMessageError("W0001", getMessage("msg.required.expense.type"));
//						flag = false;
//					}
//				} 
//
//				if(StringUtils.isBlank(semmmm001Bean.getVendorInfoCmpObj().getVendorType())){
//					addMessageError("W0001", getMessage("msg.required.vendor.type"));
//					flag = false;
//				} 
//				
//				if(StringUtils.isBlank(semmmm001Bean.getVendorInfoCmpObj().getVendorName1())){
//					addMessageError("W0001", getMessage("msg.required.vendor.name1"));
//					flag = false;
//				} 
//				
//				if(semmmm001Bean.getVendorInfoCmpObj().getVendorType().equals("01") &&
//				   StringUtils.isBlank(semmmm001Bean.getVendorInfoCmpObj().getIdCard())){
//					addMessageError("W0001", getMessage("msg.required.citizen.id"));
//					flag = false;
//				} else if(semmmm001Bean.getVendorInfoCmpObj().getVendorType().equals("02") &&
//				   StringUtils.isBlank(semmmm001Bean.getVendorInfoCmpObj().getTaxId())){
//					addMessageError("W0001", getMessage("msg.required.personal.tax.id"));
//					flag = false;
//				}
//				
//				if(StringUtils.isBlank(semmmm001Bean.getVendorInfoCmpObj().getWhtId())){
//					addMessageError("W0001", "Withhold");
//					flag = false;
//				} 
//				
//				// -- Vendor Address
//				if(StringUtils.isBlank(semmmm001Bean.getVendorAddrCmpObj().getAddress1())){
//					addMessageError("W0001", getMessage("msg.required.address")+" Vendor 1");
//					flag = false;
//				} 
//				
//				if(StringUtils.isBlank(semmmm001Bean.getVendorAddrCmpObj().getProvince())){
//					addMessageError("W0001", getMessage("msg.required.province"));
//					flag = false;
//				}
//				
//				if(StringUtils.isBlank(semmmm001Bean.getVendorAddrCmpObj().getAmphur()) || 
//				   semmmm001Bean.getVendorAddrCmpObj().isChkAmphurOther()){
//					if(semmmm001Bean.getVendorAddrCmpObj().isChkAmphurOther() && 
//					  !StringUtils.isBlank(semmmm001Bean.getVendorAddrCmpObj().getAmphurName())){
//						// do nothing
//					} else {
//						addMessageError("W0001", getMessage("msg.required.amphur"));
//						flag = false;
//					}
//				} 
//				
//				if(StringUtils.isBlank(semmmm001Bean.getVendorAddrCmpObj().getTambol()) || 
//				   semmmm001Bean.getVendorAddrCmpObj().isChkTambolOther()){
//					if(semmmm001Bean.getVendorAddrCmpObj().isChkTambolOther() && 
//					  !StringUtils.isBlank(semmmm001Bean.getVendorAddrCmpObj().getTambolName())){
//						// do nothing
//					} else {
//						addMessageError("W0001", getMessage("msg.required.tambol"));
//						flag = false;
//					}
//				} 
//			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			LOG.info("::: SEMMMM001Action :: doValidateVendorMaster >> END :::");
		}
		return flag;
	}
	
	public boolean doValidateBookbankMaster() {
		LOG.info("::: SEMMMM001Action :: doValidateBookbankMaster >> BEGIN :::");
		boolean flag = true;
		
		try{
			
			if(semmmm001Bean.getBookbankInfo().getSaveFlag() != null && 
			   semmmm001Bean.getBookbankInfo().getSaveFlag().equalsIgnoreCase("C")){ // CHANGE
				if(StringUtils.isBlank(semmmm001Bean.getBookbankInfoCmpObj().getAccountType())){
					addMessageError("W0001", getMessage("msg.required.account.type"));
					flag = false;
				}
				
				if(StringUtils.isBlank(semmmm001Bean.getBookbankInfoCmpObj().getBankCode())){
					addMessageError("W0001", "Bank Code");
					flag = false;
				}
				
				if(StringUtils.isBlank(semmmm001Bean.getBookbankInfoCmpObj().getAccountNo())){
					addMessageError("W0001", getMessage("msg.required.account.no"));
					flag = false;
				}else if(!isNumeric(semmmm001Bean.getBookbankInfoCmpObj().getAccountNo())){
					addMessageError("W0007", getMessage("msg.required.account.no"));
					flag = false;
				} else {
					// -- incase not null just not accept AccountNo. = '0000000000'
					if(semmmm001Bean.getBookbankInfoCmpObj().getAccountNo().equals("0000000000")){
						addGeneralMessageError(getMessage("msg.required.account.no.not.accept"));
						flag = false;
					}
				}
				
				if(StringUtils.isBlank(semmmm001Bean.getBookbankInfoCmpObj().getAccountName())){
					addMessageError("W0001", getMessage("msg.required.account.name"));
					flag = false;
				}
			} else {
				if(StringUtils.isBlank(semmmm001Bean.getBookbankInfo().getAccountType())){
					addMessageError("W0001", getMessage("msg.required.account.type"));
					flag = false;
				}
				
				if(StringUtils.isBlank(semmmm001Bean.getBookbankInfo().getBankCode())){
					addMessageError("W0001", "Bank Code");
					flag = false;
				}
				
				if(StringUtils.isBlank(semmmm001Bean.getBookbankInfo().getAccountNo())){
					addMessageError("W0001", getMessage("msg.required.account.no"));
					flag = false;
				}else if(!isNumeric(semmmm001Bean.getBookbankInfo().getAccountNo())){
					addMessageError("W0007", getMessage("msg.required.account.no"));
					flag = false;
				} else {
					// -- incase not null just not accept AccountNo. = '0000000000'
					if(semmmm001Bean.getBookbankInfo().getAccountNo().equals("0000000000")){
						addGeneralMessageError(getMessage("msg.required.account.no.not.accept"));
						flag = false;
					}
				}
				
				if(StringUtils.isBlank(semmmm001Bean.getBookbankInfo().getAccountName())){
					addMessageError("W0001", getMessage("msg.required.account.name"));
					flag = false;
				}
			}
				
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			LOG.info("::: SEMMMM001Action :: doValidateBookbankMaster >> END :::");
		}
		return flag;
	}
	
	public boolean doValidatePayeeMaster() {
		LOG.info("::: SEMMMM001Action :: doValidatePayeeMaster >> BEGIN :::");
		boolean flag = true;
		
		try{
			
			if(semmmm001Bean.getPayeeInfo().getSaveFlag() != null){
//			   semmmm001Bean.getPayeeInfo().getSaveFlag().equalsIgnoreCase("C")){ // CHANGE
//				
//				if(StringUtils.isBlank(semmmm001Bean.getPayeeInfoCmpObj().getPayeeName())){
//					addMessageError("W0001", getMessage("msg.required.payee.name"));
//					flag = false;
//				} 
//				
//				if(StringUtils.isBlank(semmmm001Bean.getPayeeInfoCmpObj().getPayeeAddress1())){
//					addMessageError("W0001", getMessage("msg.required.address")+" 1");
//					flag = false;
//				} 
//
//				if(StringUtils.isBlank(semmmm001Bean.getPayeeInfoCmpObj().getProvince())){
//					addMessageError("W0001", getMessage("msg.required.province"));
//					flag = false;
//				} 
//			} else {
				if(StringUtils.isBlank(semmmm001Bean.getPayeeInfo().getPayeeName())){
					addMessageError("W0001", getMessage("msg.required.payee.name"));
					flag = false;
				} 
//				semmmm001Bean.payeeAddrObj.address1
				if(StringUtils.isBlank(semmmm001Bean.getPayeeAddrObj().getAddress1())){
					addMessageError("W0001", getMessage("msg.required.address")+" 1");
					flag = false;
				} 
//				semmmm001Bean.payeeAddrObj.province
				if(StringUtils.isBlank(semmmm001Bean.getPayeeAddrObj().getProvince())){
					addMessageError("W0001", getMessage("msg.required.province"));
					flag = false;
				}
				
				if(semmmm001Bean.getPayeeInfo().getPayeeType().equals("01")) {
					if(!isNumeric(semmmm001Bean.getPayeeInfo().getIdCard())){
						addMessageError("W0007", getMessage("msg.required.citizen.id"));
						flag = false;
					}else if(semmmm001Bean.getPayeeInfo().getIdCard() != null && semmmm001Bean.getPayeeInfo().getIdCard().toString().length() != 13){
						addMessageErrorWithArgument("W0092" ,getMessage("msg.required.citizen.id"), "13");
						flag = false;
					}else if( semmmm001Bean.getPayeeInfo().getIdCard().isEmpty()){
						addMessageError("W0001", getMessage("msg.required.citizen.id"));
						flag = false;
					}
				}else if(semmmm001Bean.getPayeeInfo().getPayeeType().equals("02")){
					if(!isNumeric(semmmm001Bean.getPayeeInfo().getTaxId())){
						addMessageError("W0007", getMessage("msg.required.personal.tax.id"));
						flag = false;
					}else if(semmmm001Bean.getPayeeInfo().getTaxId() != null && semmmm001Bean.getPayeeInfo().getTaxId().toString().length() != 13){
						addMessageErrorWithArgument("W0092" ,getMessage("msg.required.personal.tax.id"), "13");
						flag = false;
					}else if( semmmm001Bean.getPayeeInfo().getTaxId().isEmpty()){
						addMessageError("W0001", getMessage("msg.required.personal.tax.id"));
						flag = false;
					}
				}
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			LOG.info("::: SEMMMM001Action :: doValidatePayeeMaster >> END :::");
		}
		return flag;
	}
	
	public boolean doValidateBookbankPayeeMaster() {
		LOG.info("::: SEMMMM001Action :: doValidateBookbankPayeeMaster >> BEGIN :::");
		boolean flag = true;
		
		try{
			
			if(semmmm001Bean.getBookbankPayeeInfo().getSaveFlag() != null && 
			   semmmm001Bean.getBookbankPayeeInfo().getSaveFlag().equalsIgnoreCase("C")){ // CHANGE
				if(StringUtils.isBlank(semmmm001Bean.getBookbankPayeeInfoCmpObj().getAccountType())){
					addMessageError("W0001", getMessage("msg.required.account.type"));
					flag = false;
				}
				
				if(StringUtils.isBlank(semmmm001Bean.getBookbankPayeeInfoCmpObj().getBankCode())){
					addMessageError("W0001", "Bank Code");
					flag = false;
				}
				
				if(StringUtils.isBlank(semmmm001Bean.getBookbankPayeeInfoCmpObj().getAccountNo())){
					addMessageError("W0001", getMessage("msg.required.account.no"));
					flag = false;
				}else if(!isNumeric(semmmm001Bean.getBookbankPayeeInfoCmpObj().getAccountNo())){
					addMessageError("W0007", getMessage("msg.required.account.no"));
					flag = false;
				}  else {
					// -- incase not null just not accept AccountNo. = '0000000000'
					if(semmmm001Bean.getBookbankPayeeInfoCmpObj().getAccountNo().equals("0000000000")){
						addGeneralMessageError(getMessage("msg.required.account.no.not.accept"));
						flag = false;
					}
				}
				
				if(StringUtils.isBlank(semmmm001Bean.getBookbankPayeeInfoCmpObj().getAccountName())){
					addMessageError("W0001", getMessage("msg.required.account.name"));
					flag = false;
				}
			} else {
				if(StringUtils.isBlank(semmmm001Bean.getBookbankPayeeInfo().getAccountType())){
					addMessageError("W0001", getMessage("msg.required.account.type"));
					flag = false;
				}
				
				if(StringUtils.isBlank(semmmm001Bean.getBookbankPayeeInfo().getBankCode())){
					addMessageError("W0001", "Bank Code");
					flag = false;
				}
				
				if(StringUtils.isBlank(semmmm001Bean.getBookbankPayeeInfo().getAccountNo())){
					addMessageError("W0001", getMessage("msg.required.account.no"));
					flag = false;
				}else if(!isNumeric(semmmm001Bean.getBookbankPayeeInfo().getAccountNo())){
					addMessageError("W0007", getMessage("msg.required.account.no"));
					flag = false;
				}  else {
					// -- incase not null just not accept AccountNo. = '0000000000'
					if(semmmm001Bean.getBookbankPayeeInfo().getAccountNo().equals("0000000000")){
						addGeneralMessageError(getMessage("msg.required.account.no.not.accept"));
						flag = false;
					}
				}
				
				if(StringUtils.isBlank(semmmm001Bean.getBookbankPayeeInfo().getAccountName())){
					addMessageError("W0001", getMessage("msg.required.account.name"));
					flag = false;
				}
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			LOG.info("::: SEMMMM001Action :: doValidateBookbankPayeeMaster >> END :::");
		}
		return flag;
	}
	
	public boolean doValidateChkVendor(String panel) {
		LOG.info("::: SEMMMM001Action :: doValidateChkVendor >> BEGIN :::");
		boolean flag = true;
		
		try{
			if(panel.equalsIgnoreCase("C")){
				if(StringUtils.isBlank(semmmm001Bean.getVendorInfoCmpObj().getCompany()) &&
				   StringUtils.isBlank(semmmm001Bean.getVendorInfoCmpObj().getVendorName1()) &&
				   StringUtils.isBlank(semmmm001Bean.getVendorInfoCmpObj().getIdCard()) &&
				   StringUtils.isBlank(semmmm001Bean.getVendorInfoCmpObj().getTaxId()) &&
				   StringUtils.isBlank(semmmm001Bean.getVendorInfoCmpObj().getBranchNo())){
					
					addMessageError("W0001", getMessage("column.header.company") +" "+ getMessage("desc.or") +" "+ 
											getMessage("column.header.vendor.name") +" "+ getMessage("desc.or") +" "+ 
											getMessage("column.header.citizen.id") +" "+ getMessage("desc.or") +" "+ 
											getMessage("column.header.personal.tax.id") +" "+ getMessage("desc.or") +" "+ 
											getMessage("column.header.branch.code"));
					flag = false;
				}
			} else {
				if(StringUtils.isBlank(semmmm001Bean.getVendorInfo().getCompany()) &&
				   StringUtils.isBlank(semmmm001Bean.getVendorInfo().getVendorName1()) &&
				   StringUtils.isBlank(semmmm001Bean.getVendorInfo().getIdCard()) &&
				   StringUtils.isBlank(semmmm001Bean.getVendorInfo().getTaxId()) &&
				   StringUtils.isBlank(semmmm001Bean.getVendorInfo().getBranchNo())){
					
					addMessageError("W0001", getMessage("column.header.company") +" "+ getMessage("desc.or") +" "+ 
											getMessage("column.header.vendor.name") +" "+ getMessage("desc.or") +" "+ 
											getMessage("column.header.citizen.id") +" "+ getMessage("desc.or") +" "+ 
											getMessage("column.header.personal.tax.id") +" "+ getMessage("desc.or") +" "+ 
											getMessage("column.header.branch.code"));
					flag = false;
				}
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			LOG.info("::: SEMMMM001Action :: doValidateChkVendor >> END :::");
		}
		return flag;
	}
	
	
	// ---------------------------------------------------------------------------------
	public void selectAllRow(){
		LOG.info("::: SEMMMM001Action :: selectAllRow >> BEGIN :::");
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			semmmm001Bean.setDisableBtnClearBatch(true);
			boolean chkAllTblAct = semmmm001Bean.isChkSelAllTblAct();
			boolean chkAllTblTmn = semmmm001Bean.isChkSelAllTblTmn();
			
			String tblChk = getFacesUtils().getRequestParameter("tblChkParam") == null ? "" : (String) getFacesUtils().getRequestParameter("tblChkParam");
			LOG.debug(">> tableChk: " + tblChk);
			
			if(tblChk.equals("ACT")){
				List<WrapperBeanObject<Mmm001VendorMasterSP>> vendorList = new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>();
				
				// -- ACT
				vendorList = semmmm001Bean.getVendorMasterResultList();
				for(int i = 0; i < vendorList.size(); i++) {
					Mmm001VendorMasterSP o = (Mmm001VendorMasterSP) vendorList.get(i).getDataObj();
					if (StringUtils.isNotEmpty(o.getRowId())) {
						
						if(StringUtils.equals("Y", o.getClearBatchFlag())){
							//set enable btn clear batch
							semmmm001Bean.setDisableBtnClearBatch(false);
						}
						
						vendorList.get(i).setCheckBox(chkAllTblAct);
					}
				}
				
				// -- TMN >> clear
				semmmm001Bean.setChkSelAllTblTmn(false);
				vendorList = semmmm001Bean.getVendorMasterTerminateResultList();
				for(int i = 0; i < vendorList.size(); i++) {
					Mmm001VendorMasterSP o = (Mmm001VendorMasterSP) vendorList.get(i).getDataObj();
					if (StringUtils.isNotEmpty(o.getRowId())) {
						vendorList.get(i).setCheckBox(false);
					}
				}
			} else if(tblChk.equals("TMN")){
				List<WrapperBeanObject<Mmm001VendorMasterSP>> vendorList = new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>();
				
				// -- TMN
				vendorList = semmmm001Bean.getVendorMasterTerminateResultList();
				for(int i = 0; i < vendorList.size(); i++) {
					Mmm001VendorMasterSP o = (Mmm001VendorMasterSP) vendorList.get(i).getDataObj();
					if (StringUtils.isNotEmpty(o.getRowId())) {
						
						if(StringUtils.equals("Y", o.getClearBatchFlag())){
							//set enable btn clear batch
							semmmm001Bean.setDisableBtnClearBatch(false);
						}
						
						vendorList.get(i).setCheckBox(chkAllTblTmn);
					}
				}
				
				// -- ACT >> clear
				semmmm001Bean.setChkSelAllTblAct(false);
				vendorList = semmmm001Bean.getVendorMasterResultList();
				for(int i = 0; i < vendorList.size(); i++) {
					Mmm001VendorMasterSP o = (Mmm001VendorMasterSP) vendorList.get(i).getDataObj();
					if (StringUtils.isNotEmpty(o.getRowId())) {
						vendorList.get(i).setCheckBox(false);
					}
				}
			}
			
			onEnableButton();
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: selectAllRow >> END :::");
		}
	}
	
	public void selectRow(){
		LOG.info("::: SEMMMM001Action :: selectRow >> BEGIN :::");
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			//set defult btn clear batch
			semmmm001Bean.setDisableBtnClearBatch(true);
			String tblChk = getFacesUtils().getRequestParameter("tblChkParam") == null ? "" : (String) getFacesUtils().getRequestParameter("tblChkParam");
			LOG.debug(">> tableChk: " + tblChk);
			
			List<WrapperBeanObject<Mmm001VendorMasterSP>> vendorList = new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>();
			
			if(tblChk.equals("ACT")){
				// -- ACT
				vendorList = semmmm001Bean.getVendorMasterResultList();
				int tblActRecords = vendorList.size();
				int chkActRecords = 0;
				
				for (WrapperBeanObject<Mmm001VendorMasterSP> wrapperBeanObject : vendorList) {
					if(wrapperBeanObject.isCheckBox()){
						chkActRecords++;
						
						Mmm001VendorMasterSP vendorMastersp = (Mmm001VendorMasterSP) wrapperBeanObject.getDataObj();
						if(StringUtils.equals("Y", vendorMastersp.getClearBatchFlag())){
							//set enable btn clear batch
							semmmm001Bean.setDisableBtnClearBatch(false);
						}
					}
				}
				
				if(tblActRecords != 0 && tblActRecords == chkActRecords){
					semmmm001Bean.setChkSelAllTblAct(true);
				} else {
					semmmm001Bean.setChkSelAllTblAct(false);
				}

				// -- TMN >> clear
				semmmm001Bean.setChkSelAllTblTmn(false);
				vendorList = semmmm001Bean.getVendorMasterTerminateResultList();
				for(int i = 0; i < vendorList.size(); i++) {
					Mmm001VendorMasterSP o = (Mmm001VendorMasterSP) vendorList.get(i).getDataObj();
					if (StringUtils.isNotEmpty(o.getRowId())) {
						vendorList.get(i).setCheckBox(false);
					}
				}
			} else if(tblChk.equals("TMN")){
				// -- TMN
				vendorList = semmmm001Bean.getVendorMasterTerminateResultList();
				int tblTmnRecords = vendorList.size();
				int chkTmnRecords = 0;
				
				for (WrapperBeanObject<Mmm001VendorMasterSP> wrapperBeanObject : vendorList) {
					if(wrapperBeanObject.isCheckBox()){
						chkTmnRecords++;
					}
				}
				
				if(tblTmnRecords != 0 && tblTmnRecords == chkTmnRecords){
					semmmm001Bean.setChkSelAllTblTmn(true);
				} else {
					semmmm001Bean.setChkSelAllTblTmn(false);
				}
				
				// -- ACT >> clear
				semmmm001Bean.setChkSelAllTblAct(false);
				vendorList = semmmm001Bean.getVendorMasterResultList();
				for(int i = 0; i < vendorList.size(); i++) {
					Mmm001VendorMasterSP o = (Mmm001VendorMasterSP) vendorList.get(i).getDataObj();
					if (StringUtils.isNotEmpty(o.getRowId())) {
						vendorList.get(i).setCheckBox(false);
					}
				}
			}
			
			onEnableButton();
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: selectRow >> END :::");
		}
	}
	
	public void selectAllRowTblContractVendor(){
		LOG.info("::: SEMMMM001Action :: selectAllRowTblContractVendor >> BEGIN :::");
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			
			boolean isChecked = semmmm001Bean.isChkSelAllTblContractVendor();
			
			List<WrapperBeanObject<Mmm001VendorContractSP>> vendorContractList = semmmm001Bean.getVendorContractList();
			int countChecked = 0;
			
			for(int i = 0; i < vendorContractList.size(); i++) {
				Mmm001VendorContractSP o = (Mmm001VendorContractSP) vendorContractList.get(i).getDataObj();
				if (StringUtils.isNotEmpty(o.getRowId())) {
					vendorContractList.get(i).setCheckBox(isChecked);
					
					countChecked++;
				}
			}
			
			// button delete vendor
			if(countChecked > 0 && isChecked){
				semmmm001Bean.setDisableBtnDeleteVendor(false);
			} else {
				semmmm001Bean.setDisableBtnDeleteVendor(true);
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: selectAllRowTblContractVendor >> END :::");
		}
	}
	
	public void selectRowTblContractVendor(){
		LOG.info("::: SEMMMM001Action :: selectRowTblContractVendor >> BEGIN :::");
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			
			List<WrapperBeanObject<Mmm001VendorContractSP>> vendorContractList = semmmm001Bean.getVendorContractList();
			
			int records = vendorContractList.size();
			int chkRecords = 0;
			
			for (WrapperBeanObject<Mmm001VendorContractSP> obj : vendorContractList) {
				if(obj.isCheckBox()){
					chkRecords++;
				}
			}
			
			if(records != 0 && records == chkRecords){
				semmmm001Bean.setChkSelAllTblContractVendor(true);
			} else {
				semmmm001Bean.setChkSelAllTblContractVendor(false);
			}
			
			// button delete vendor
			if(chkRecords > 0){
				semmmm001Bean.setDisableBtnDeleteVendor(false);
			} else {
				semmmm001Bean.setDisableBtnDeleteVendor(true);
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: selectRowTblContractVendor >> END :::");
		}
	}
	
	public void selectRowTblBookbankOfVendor(){
		LOG.info("::: SEMMMM001Action :: selectRowTblBookbankOfVendor >> BEGIN :::");
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			
			List<WrapperBeanObject<Mmm001BookbankSP>> bookbankOfVendorList = semmmm001Bean.getBookbankList();
			
			int chkRecords = 0;
			
			for (WrapperBeanObject<Mmm001BookbankSP> obj : bookbankOfVendorList) {
				if(obj.isCheckBox()){
					chkRecords++;
				}
			}
			
			if(chkRecords == 1){
				semmmm001Bean.setDisableBtnDeleteBookbankOfVendor(false);
			} else {
				semmmm001Bean.setDisableBtnDeleteBookbankOfVendor(true);
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: selectRowTblBookbankOfVendor >> END :::");
		}
	}
	
	public void selectRowTblPayeeOfVendor(){
		LOG.info("::: SEMMMM001Action :: selectRowTblPayeeOfVendor >> BEGIN :::");
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			
			List<WrapperBeanObject<Mmm001PayeeSP>> payeeOfVendorList = semmmm001Bean.getPayeeList();
			
			int chkRecords = 0;
			
			for (WrapperBeanObject<Mmm001PayeeSP> obj : payeeOfVendorList) {
				if(obj.isCheckBox()){
					chkRecords++;
				}
			}
			
			if(chkRecords == 1){
				semmmm001Bean.setDisableBtnDeletePayeeOfVendor(false);
			} else {
				semmmm001Bean.setDisableBtnDeletePayeeOfVendor(true);
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: selectRowTblPayeeOfVendor >> END :::");
		}
	}
	
	public void selectRowTblContractOfVendor(){
		LOG.info("::: SEMMMM001Action :: selectRowTblContractOfVendor >> BEGIN :::");
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			
			List<WrapperBeanObject<Mmm001ContractSP>> contractOfVendorList = semmmm001Bean.getContractList();
			
			int chkRecords = 0;
			
			for (WrapperBeanObject<Mmm001ContractSP> obj : contractOfVendorList) {
				if(obj.isCheckBox()){
					chkRecords++;
				}
			}
			
			if(chkRecords == 1){
				semmmm001Bean.setDisableBtnChangeContractOfVendor(false);
				semmmm001Bean.setDisableBtnDeleteContractOfVendor(false);
			} else {
				semmmm001Bean.setDisableBtnChangeContractOfVendor(true);
				semmmm001Bean.setDisableBtnDeleteContractOfVendor(true);
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: selectRowTblContractOfVendor >> END :::");
		}
	}
	
	public void selectRowTblBookbankOfPayee(){
		LOG.info("::: SEMMMM001Action :: selectRowTblBookbankOfPayee >> BEGIN :::");
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			
			List<WrapperBeanObject<Mmm001BookbankPayeeSP>> bookbankOfPayeeList = semmmm001Bean.getBookbankPayeeList();
			
			int chkRecords = 0;
			
			for (WrapperBeanObject<Mmm001BookbankPayeeSP> obj : bookbankOfPayeeList) {
				if(obj.isCheckBox()){
					chkRecords++;
				}
			}
			
			if(chkRecords == 1){
				semmmm001Bean.setDisableBtnDeleteBookbankOfPayee(false);
			} else {
				semmmm001Bean.setDisableBtnDeleteBookbankOfPayee(true);
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: selectRowTblBookbankOfPayee >> END :::");
		}
	}
	
	public void onEnableButton() {
		LOG.info("::: SEMMMM001Action :: onEnableButton >> BEGIN :::");
		
		try {
			semmmm001Bean = getSemmmm001Bean();
			semmmm001Bean.setDisableBtnExportBatchVB(false);
			semmmm001Bean.setDisableBtnExportBatchPY(false);
			semmmm001Bean.setDisableBtnExportBatchPB(false);
			semmmm001Bean.setDisableBtnExportBatchVD(true);
			semmmm001Bean.setDisableBtnSendManagerVD(true);
			semmmm001Bean.setDisableBtnExportBatchVB(true);
			semmmm001Bean.setDisableBtnSendManagerVB(true);
			semmmm001Bean.setDisableBtnExportBatchPY(true);
			semmmm001Bean.setDisableBtnSendManagerPY(true);
			semmmm001Bean.setDisableBtnExportBatchPB(true);
			semmmm001Bean.setDisableBtnSendManagerPB(true);
			semmmm001Bean.setDisableBtnDelete(true);
			semmmm001Bean.setDisableBtnClearBatch(true);
			semmmm001Bean.setDisableBtnCancel(true);
			semmmm001Bean.setDisableBtnExportExcel(true);
			List<WrapperBeanObject<Mmm001VendorMasterSP>> vendorList = new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>();
			
			int chkRecords = 0;
			int countSame = 0;
			String arrActType = "";
			int canDelete = 0;
			
			
			// -- ACT
			vendorList = semmmm001Bean.getVendorMasterResultList();
			for (WrapperBeanObject<Mmm001VendorMasterSP> wrapperBeanObject : vendorList) {
				if(wrapperBeanObject.isCheckBox()){
					
					Mmm001VendorMasterSP resultObj = (Mmm001VendorMasterSP) wrapperBeanObject.getDataObj();
					
					// --
					if(chkRecords == 0) {
						arrActType = resultObj.getActionType() == null ? "" : (String)resultObj.getActionType();
						countSame++;
					} else {
						if(arrActType.equals(resultObj.getActionType()))
							countSame++;
					}
					System.out.println("resultObj.getBookbankFlowStatusCode() : "+resultObj.getBookbankFlowStatusCode());
//					System.out.println(StringUtils.indexOf("01,03,05,07", resultObj.getVendorFlowStatusCode().trim(), 0));
//					if(resultObj.getVendorFlowStatusCode() != null && StringUtils.indexOf("01,03,05,07", resultObj.getVendorFlowStatusCode().trim(), 0) >= 0){
//						semmmm001Bean.setDisableBtnSendManagerVD(false);
//					}
					
					//control Button Export Vendor
					if(resultObj.getVendorFlowStatusCode() != null && 
							!StringUtils.equals("", resultObj.getVendorFlowStatusCode())){
						semmmm001Bean.setDisableBtnExportBatchVD(false);
					}
					
					//control Button Send Vendor To Manager
					if(resultObj.getVendorFlowStatusCode() != null &&
							StringUtils.indexOf("x01,06,08,04", resultObj.getVendorFlowStatusCode().trim(), 0) >= 0){
						semmmm001Bean.setDisableBtnSendManagerVD(false);
					}
					
					//control Button Export Vendor Bookbank
					if(resultObj.getBookbankFlowStatusCode() != null &&
							!StringUtils.equals("", resultObj.getBookbankFlowStatusCode())){
						semmmm001Bean.setDisableBtnExportBatchVB(false);
					}
					
					//control Button Send Bookbank To Manager
					if(resultObj.getBookbankFlowStatusCode() != null && 
							StringUtils.indexOf("x01,12,08,13,14,17", resultObj.getBookbankFlowStatusCode().trim(), 0) >= 0){
						semmmm001Bean.setDisableBtnSendManagerVB(false);
					}
					
					//control Button Export Payee
					if(resultObj.getPayeeFlowStatusCode() != null && 
							!StringUtils.equals("", resultObj.getPayeeFlowStatusCode())){
						semmmm001Bean.setDisableBtnExportBatchPY(false);
					}else{
						
					}
					
					//control Button Send Payee To Manager
					if(resultObj.getPayeeFlowStatusCode() != null && 
							StringUtils.indexOf("x01,13,08,04", resultObj.getPayeeFlowStatusCode().trim(), 0) >= 0){
						semmmm001Bean.setDisableBtnSendManagerPY(false);
					}
					
					//control Button Export Payee Bookbank
					if(resultObj.getBpFlowStatusCode() != null && 
							!StringUtils.equals("", resultObj.getBpFlowStatusCode())){
						semmmm001Bean.setDisableBtnExportBatchPB(false);
					}
					
					//control Button Send Payee Bookbank To Manager
					if(resultObj.getBpFlowStatusCode() != null && 
							StringUtils.indexOf("x01,12,08,13,14", resultObj.getBpFlowStatusCode().trim(), 0) >= 0){
						semmmm001Bean.setDisableBtnSendManagerPB(false);
					}
					
					//control Button Delete Vendor
					if(StringUtils.indexOf("x01,06,08,04", resultObj.getVendorFlowStatusCode().trim(), 0) >= 0 && (resultObj.getVendorCode()!= null && StringUtils.equals("NO VENDOR CODE", resultObj.getVendorCode().toUpperCase()))){
						semmmm001Bean.setDisableBtnDelete(false);
					}
					
					//control Button Clear Batch
					if((resultObj.getVendorFlowStatusCode() != null && StringUtils.indexOf("x01,06,08,04", resultObj.getVendorFlowStatusCode().trim(), 0) >= 0 && StringUtils.isNotEmpty(resultObj.getVendorCode())) || 
							(resultObj.getBookbankFlowStatusCode() != null && StringUtils.indexOf("x01,12,08,13,14,17", resultObj.getBookbankFlowStatusCode().trim(), 0) >= 0 && StringUtils.isNotEmpty(resultObj.getBookbankBatch())) ||
							(resultObj.getPayeeFlowStatusCode() != null && StringUtils.indexOf("x01,13,08,04,03", resultObj.getPayeeFlowStatusCode().trim(), 0) >= 0 && StringUtils.isNotEmpty(resultObj.getPayeeBatch())) ||
							(resultObj.getBpFlowStatusCode() != null && StringUtils.indexOf("x01,12,08,13,14,06", resultObj.getBpFlowStatusCode().trim(), 0) >= 0 && StringUtils.isNotEmpty(resultObj.getBookbankPayeeBatch()))){
						semmmm001Bean.setDisableBtnClearBatch(false);
					}
					
					//control Button Delete Vendor
					if(resultObj.getVendorFlowStatusCode() != null && StringUtils.indexOf("x01,06,08", resultObj.getVendorFlowStatusCode().trim(), 0) >= 0 || 
							resultObj.getBookbankFlowStatusCode() != null && StringUtils.indexOf("x01,12,08,13,14", resultObj.getBookbankFlowStatusCode().trim(), 0) >= 0 ||
							resultObj.getPayeeFlowStatusCode() != null && StringUtils.indexOf("x01,13,08,04", resultObj.getPayeeFlowStatusCode().trim(), 0) >= 0 ||
							resultObj.getBpFlowStatusCode() != null && StringUtils.indexOf("x01,12,08,13,14", resultObj.getBpFlowStatusCode().trim(), 0) >= 0 
							){
						semmmm001Bean.setDisableBtnCancel(false);
					}
					
//					if(resultObj.getBookbankFlowStatusCode() != null && StringUtils.indexOf("01,03,05,07", resultObj.getBookbankFlowStatusCode().trim(), 0) >= 0){
//						semmmm001Bean.setDisableBtnSendManagerVB(false);
//					}
//					
//					if(StringUtils.isEmpty(resultObj.getAccountNo()) || resultObj.getAccountNo() == null || StringUtils.equals("", resultObj.getAccountNo())){
//						semmmm001Bean.setDisableBtnExportBatchVB(true);
//					}
//					
//					if(StringUtils.isEmpty(resultObj.getPayeeId()) || resultObj.getPayeeId() == null || StringUtils.equals("", resultObj.getPayeeId())){
//						semmmm001Bean.setDisableBtnExportBatchPY(true);
//					}
//					
//					if(resultObj.getPayeeFlowStatusCode() != null && StringUtils.indexOf("01,03,05,07", resultObj.getPayeeFlowStatusCode().trim(), 0) >= 0){
//						semmmm001Bean.setDisableBtnSendManagerPY(false);
//					}
//					
//					if(StringUtils.isEmpty(resultObj.getPayeeAccountNo()) || resultObj.getPayeeAccountNo() == null 
//							|| StringUtils.equals("", resultObj.getPayeeAccountNo())){
//						semmmm001Bean.setDisableBtnExportBatchPB(true);
//					}
//					
//					if(resultObj.getBpFlowStatusCode() != null && StringUtils.indexOf("01,03,05,07", resultObj.getBpFlowStatusCode().trim(), 0) >= 0){
//						semmmm001Bean.setDisableBtnSendManagerPB(false);
//					}
					
					chkRecords++;
					
					// -- check vendorCode for Delete 
//					String vendorCode = resultObj.getVendorCode() == null ? "" : (String)resultObj.getVendorCode();
//					if(vendorCode.isEmpty() || vendorCode.equalsIgnoreCase("VIEW"))
//						canDelete++;
				}
			}
			
			// -- TMN
			if(chkRecords == 0 && countSame == 0){
				vendorList = semmmm001Bean.getVendorMasterTerminateResultList();
				
				for (WrapperBeanObject<Mmm001VendorMasterSP> wrapperBeanObject : vendorList) {
					if(wrapperBeanObject.isCheckBox()){
						
						Mmm001VendorMasterSP resultObj = (Mmm001VendorMasterSP) wrapperBeanObject.getDataObj();
						
						if(chkRecords == 0) {
							arrActType = resultObj.getActionType() == null ? "" : (String)resultObj.getActionType();
							countSame++;
						} else {
							if(arrActType.equals(resultObj.getActionType()))
								countSame++;
						}
						
						//control Button Export Vendor
						if(resultObj.getVendorFlowStatusCode() != null && 
								!StringUtils.equals("", resultObj.getVendorFlowStatusCode())){
							semmmm001Bean.setDisableBtnExportBatchVD(false);
						}
						
						//control Button Send Vendor To Manager
						if(resultObj.getVendorFlowStatusCode() != null &&
								StringUtils.indexOf("x01,06,08,04", resultObj.getVendorFlowStatusCode().trim(), 0) >= 0){
							semmmm001Bean.setDisableBtnSendManagerVD(false);
						}
						
						//control Button Export Vendor Bookbank
						if(resultObj.getBookbankFlowStatusCode() != null &&
								!StringUtils.equals("", resultObj.getBookbankFlowStatusCode())){
							semmmm001Bean.setDisableBtnExportBatchVB(false);
						}
						
						//control Button Send Bookbank To Manager
						if(resultObj.getBookbankFlowStatusCode() != null && 
								StringUtils.indexOf("x01,12,08,13,14,17", resultObj.getBookbankFlowStatusCode().trim(), 0) >= 0){
							semmmm001Bean.setDisableBtnSendManagerVB(false);
						}
						
						//control Button Export Payee
						if(resultObj.getPayeeFlowStatusCode() != null && 
								!StringUtils.equals("", resultObj.getPayeeFlowStatusCode())){
							semmmm001Bean.setDisableBtnExportBatchPY(false);
						}else{
							
						}
						
						//control Button Send Payee To Manager
						if(resultObj.getPayeeFlowStatusCode() != null && 
								StringUtils.indexOf("x01,13,08,04", resultObj.getPayeeFlowStatusCode().trim(), 0) >= 0){
							semmmm001Bean.setDisableBtnSendManagerPY(false);
						}
						
						//control Button Export Payee Bookbank
						if(resultObj.getBpFlowStatusCode() != null && 
								!StringUtils.equals("", resultObj.getBpFlowStatusCode())){
							semmmm001Bean.setDisableBtnExportBatchPB(false);
						}
						
						//control Button Send Payee Bookbank To Manager
						if(resultObj.getBpFlowStatusCode() != null && 
								StringUtils.indexOf("x01,12,08,13,14", resultObj.getBpFlowStatusCode().trim(), 0) >= 0){
							semmmm001Bean.setDisableBtnSendManagerPB(false);
						}
						
						//control Button Delete Vendor
						if(StringUtils.indexOf("x01,06,08,04", resultObj.getVendorFlowStatusCode().trim(), 0) >= 0 && StringUtils.equals("NO VENDOR CODE", resultObj.getVendorCode().toUpperCase())){
							semmmm001Bean.setDisableBtnDelete(false);
						}
						
						//control Button Clear Batch
						if((resultObj.getVendorFlowStatusCode() != null && StringUtils.indexOf("x01,06,08,04", resultObj.getVendorFlowStatusCode().trim(), 0) >= 0 && StringUtils.isEmpty(resultObj.getVendorCode())) || 
								(resultObj.getBookbankFlowStatusCode() != null && StringUtils.indexOf("x01,12,08,13,14,17", resultObj.getBookbankFlowStatusCode().trim(), 0) >= 0 && StringUtils.isEmpty(resultObj.getBookbankBatch())) ||
								(resultObj.getPayeeFlowStatusCode() != null && StringUtils.indexOf("x01,13,08,04,03", resultObj.getPayeeFlowStatusCode().trim(), 0) >= 0 && StringUtils.isEmpty(resultObj.getPayeeBatch())) ||
								(resultObj.getBpFlowStatusCode() != null && StringUtils.indexOf("x01,12,08,13,14,06", resultObj.getBpFlowStatusCode().trim(), 0) >= 0 && StringUtils.isEmpty(resultObj.getBookbankPayeeBatch()))){
							semmmm001Bean.setDisableBtnClearBatch(false);
						}
						
						//control Button Delete Vendor
						if(resultObj.getVendorFlowStatusCode() != null && StringUtils.indexOf("x01,06,08", resultObj.getVendorFlowStatusCode().trim(), 0) >= 0 || 
								resultObj.getBookbankFlowStatusCode() != null && StringUtils.indexOf("x01,12,08,13,14", resultObj.getBookbankFlowStatusCode().trim(), 0) >= 0 ||
								resultObj.getPayeeFlowStatusCode() != null && StringUtils.indexOf("x01,13,08,04", resultObj.getPayeeFlowStatusCode().trim(), 0) >= 0 ||
								resultObj.getBpFlowStatusCode() != null && StringUtils.indexOf("x01,12,08,13,14", resultObj.getBpFlowStatusCode().trim(), 0) >= 0 
								){
							semmmm001Bean.setDisableBtnCancel(false);
						}
//						System.out.println(resultObj.getVendorFlowStatusCode());
//						System.out.println(StringUtils.indexOf("01,03,05,07", resultObj.getVendorFlowStatusCode().trim(), 0));
//						if(resultObj.getVendorFlowStatusCode() != null && StringUtils.indexOf("01,03,05,07", resultObj.getVendorFlowStatusCode().trim(), 0) >= 0){
//							semmmm001Bean.setDisableBtnSendManagerVD(false);
//						}
//						
//						if(resultObj.getBookbankFlowStatusCode() != null && StringUtils.indexOf("01,03,05,07", resultObj.getBookbankFlowStatusCode().trim(), 0) >= 0){
//							semmmm001Bean.setDisableBtnSendManagerVB(false);
//						}
//						
//						if(StringUtils.isEmpty(resultObj.getAccountNo()) || resultObj.getAccountNo() == null || StringUtils.equals("", resultObj.getAccountNo())){
//							semmmm001Bean.setDisableBtnExportBatchVB(true);
//						}
//						
//						if(StringUtils.isEmpty(resultObj.getPayeeId()) || resultObj.getPayeeId() == null || StringUtils.equals("", resultObj.getPayeeId())){
//							semmmm001Bean.setDisableBtnExportBatchPY(true);
//						}
//						
//						if(resultObj.getPayeeFlowStatusCode() != null && StringUtils.indexOf("01,03,05,07", resultObj.getPayeeFlowStatusCode().trim(), 0) >= 0){
//							semmmm001Bean.setDisableBtnSendManagerPY(false);
//						}
//						
//						if(StringUtils.isEmpty(resultObj.getPayeeAccountNo()) || resultObj.getPayeeAccountNo() == null 
//								|| StringUtils.equals("", resultObj.getPayeeAccountNo())){
//							semmmm001Bean.setDisableBtnExportBatchPB(true);
//						}
//						
//						if(resultObj.getBpFlowStatusCode() != null && StringUtils.indexOf("01,03,05,07", resultObj.getBpFlowStatusCode().trim(), 0) >= 0){
//							semmmm001Bean.setDisableBtnSendManagerPB(false);
//						}
						
						chkRecords++;
						
						// -- check vendorCode for Delete
//						String vendorCode = resultObj.getVendorCode() == null ? "" : (String)resultObj.getVendorCode();
//						if(vendorCode.isEmpty() || vendorCode.equalsIgnoreCase("VIEW"))
//							canDelete++;
					}
				}
			}
			
			// -- 
			if(chkRecords >= 1){
				semmmm001Bean.setDisableBtnNewVendor(true);
				semmmm001Bean.setDisableBtnExportExcel(false);
//				if(canDelete == 0)
//					semmmm001Bean.setDisableBtnDelete(false);
//				else
//					semmmm001Bean.setDisableBtnDelete(true);
			} else {
				semmmm001Bean.setDisableBtnNewVendor(false);
				semmmm001Bean.setDisableBtnExportExcel(true);
//				semmmm001Bean.setDisableBtnDelete(true);
			}
			
			// -- 
			if(chkRecords == 1 || (chkRecords > 1 )){
				//fixed by NEW request by AEK 2017/07/21
//				semmmm001Bean.setDisableBtnExportBatchVD(false);
				
//				if(arrActType.equals("VD")) {
////					semmmm001Bean.setDisableBtnExportBatchVD(false);
//					semmmm001Bean.setDisableBtnSendManagerVD(false);
//				} else if(arrActType.equals("VB")) {
//					semmmm001Bean.setDisableBtnExportBatchVB(false);
//					semmmm001Bean.setDisableBtnSendManagerVB(false);
//				} else if(arrActType.equals("PY")) {
//					semmmm001Bean.setDisableBtnExportBatchPY(false);
//					semmmm001Bean.setDisableBtnSendManagerPY(false);
//				} else if(arrActType.equals("PB")) {
//					semmmm001Bean.setDisableBtnExportBatchPB(false);
//					semmmm001Bean.setDisableBtnSendManagerPB(false);
//				}
			} else {
				semmmm001Bean.setDisableBtnExportBatchVD(true);
				semmmm001Bean.setDisableBtnSendManagerVD(true);
				semmmm001Bean.setDisableBtnExportBatchVB(true);
				semmmm001Bean.setDisableBtnSendManagerVB(true);
				semmmm001Bean.setDisableBtnExportBatchPY(true);
				semmmm001Bean.setDisableBtnSendManagerPY(true);
				semmmm001Bean.setDisableBtnExportBatchPB(true);
				semmmm001Bean.setDisableBtnSendManagerPB(true);
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: onEnableButton >> END :::");
		}
	}
	
	private boolean validateFrmSearch() {
		boolean flagValid = true;
		
		LOG.info("semmmm001Bean getVendorMasterCriteria(): " + semmmm001Bean.getVendorMasterCriteria().toString());
		if(StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getCompany()) && 
		   semmmm001Bean.getVendorMasterCriteria().getArrRegion() == null &&
		   semmmm001Bean.isChkPicoType() == false &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getSiteName()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getContractNo()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getLocationId()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getExpenseType()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getVendorCode()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getPayeeCode()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getVendorName()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getIdCard()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getTaxId()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getVendorStatus()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getVendorFlowStatus()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getPayeeStatus()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getPayeeFlowStatus()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getBankCode()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getBankBranchCode()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getAccountNo()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getAccountName()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getBookbankStatus()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getBookbankFlowStatus()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getBookbankPayeeStatus()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getBookbankPayeeFlowStatus()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getCreateBy()) &&
		   StringUtils.isBlank(semmmm001Bean.getVendorMasterCriteria().getBatchNo())){
			
			addMessageWarn("W0001", getMessage("msg.search.condition"));
			flagValid = false;
		}
		
		return flagValid;
	}
	
	
	
	
	
	// ---------------------------------------------------------------------------------
	@SuppressWarnings("unchecked")
	private List<SelectItem> getRegionCheckList() {
		LOG.info("::: SEMMMM001Action :: masterRegionList >> BEGIN :::");
		
		IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
		List<SelectItem> ret = new ArrayList<SelectItem>();
		List<ItemMasterSP> resp = null; 
		SelectItem itemRet = null;
		
		try {
			resp = service.getRegionMasterCheckList(EQueryName.SEM_SAP_REGION_CHECK_LIST.name);
			
			if (null == resp || resp.isEmpty()) {
				ret = new ArrayList<SelectItem>();
				resp = new ArrayList<ItemMasterSP>();
			} else {
				for (ItemMasterSP object : resp){
					itemRet = new SelectItem();
					itemRet.setValue(object.getRowId());
					itemRet.setDescription(object.getLabel());
					itemRet.setLabel(object.getLabel());
					
					ret.add(itemRet);
				}
			}
		} catch(Exception e) {
			e.printStackTrace();
		} finally {
			LOG.info("::: SEMMMM001Action :: masterRegionList >> END :::");
		}
		return ret;
	}
	
	private boolean initPageLoad() {
		LOG.info("::: SEMMMM001Action :: initPageLoad >> BEGIN :::");
		boolean flag = true;
		
		semmmm001Bean = getSemmmm001Bean();
		try{
			
			String navParam = getFacesUtils().getRequestParameter("navProgram") == null ? "" : (String) getFacesUtils().getRequestParameter("navProgram");
			
			String navModuleBackAfterSave = getFacesUtils().getRequestParameter("navModuleBackAfterSave") == null ? "" : (String) getFacesUtils().getRequestParameter("navModuleBackAfterSave");
			String navProgramBackAfterSave = getFacesUtils().getRequestParameter("navProgramBackAfterSave") == null ? "" : (String) getFacesUtils().getRequestParameter("navProgramBackAfterSave");
			String moduleWithNaviBackAfterSave = getFacesUtils().getRequestParameter("moduleWithNaviBackAfterSave") == null ? "" : (String) getFacesUtils().getRequestParameter("moduleWithNaviBackAfterSave");
			String actionWithNaviBackAfterSave = getFacesUtils().getRequestParameter("actionWithNaviBackAfterSave") == null ? "" : (String) getFacesUtils().getRequestParameter("actionWithNaviBackAfterSave");
			String todoManagerFlagBackAfterSave = getFacesUtils().getRequestParameter("todoManagerFlagBackAfterSave") == null ? "" : (String) getFacesUtils().getRequestParameter("todoManagerFlagBackAfterSave");
			String contractNoParamBackAfterSave = getFacesUtils().getRequestParameter("contractNoParamBackAfterSave") == null ? "" : (String) getFacesUtils().getRequestParameter("contractNoParamBackAfterSave");
			String vendorIdParamBackAfterSave = getFacesUtils().getRequestParameter("vendorIdParamBackAfterSave") == null ? "" : (String) getFacesUtils().getRequestParameter("vendorIdParamBackAfterSave");
			String actionIdBackAfterSave = getFacesUtils().getRequestParameter("actionIdBackAfterSave") == null ? "" : (String) getFacesUtils().getRequestParameter("actionIdBackAfterSave");
			String methodWithNaviBackAfterSave = getFacesUtils().getRequestParameter("methodWithNaviBackAfterSave") == null ? "" : (String) getFacesUtils().getRequestParameter("methodWithNaviBackAfterSave");
			
			String modeBackAfterSave = getFacesUtils().getRequestParameter("modeBackAfterSave") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("modeBackAfterSave");
			String headTypeBackAfterSave = getFacesUtils().getRequestParameter("headTypeBackAfterSave") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("headTypeBackAfterSave");
			
			String expenseEffectiveDtStrParamBackAfterSave = getFacesUtils().getRequestParameter("expenseEffectiveDtStrParamBackAfterSave") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("expenseEffectiveDtStrParamBackAfterSave");
			String effectiveDtStrParamBackAfterSave = getFacesUtils().getRequestParameter("effectiveDtStrParamBackAfterSave") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("effectiveDtStrParamBackAfterSave");
			String expireDtStrParamBackAfterSave = getFacesUtils().getRequestParameter("expireDtStrParamBackAfterSave") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("expireDtStrParamBackAfterSave");
			String expenseTypeIdParamBackAfterSave = getFacesUtils().getRequestParameter("expenseTypeIdParamBackAfterSave") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("expenseTypeIdParamBackAfterSave");
			String payTypeIdParamBackAfterSave = getFacesUtils().getRequestParameter("payTypeIdParamBackAfterSave") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("payTypeIdParamBackAfterSave");
			String vendorMapPayeeIdParamBackAfterSave = getFacesUtils().getRequestParameter("vendorMapPayeeIdParamBackAfterSave") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParamBackAfterSave");
			String cancelFlagBackAfterSave = getFacesUtils().getRequestParameter("cancelFlagBackAfterSave") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("cancelFlagBackAfterSave");
			
			
			semmmm001Bean.setNavModuleBackAfterSave(navModuleBackAfterSave);
			semmmm001Bean.setNavProgramBackAfterSave(navProgramBackAfterSave);
			semmmm001Bean.setModuleWithNaviBackAfterSave(moduleWithNaviBackAfterSave);
			semmmm001Bean.setActionWithNaviBackAfterSave(actionWithNaviBackAfterSave);
			semmmm001Bean.setTodoManagerFlagBackAfterSave(todoManagerFlagBackAfterSave);
			semmmm001Bean.setContractNoParamBackAfterSave(contractNoParamBackAfterSave);
			semmmm001Bean.setVendorIdParamBackAfterSave(vendorIdParamBackAfterSave);
			semmmm001Bean.setActionIdBackAfterSave(actionIdBackAfterSave);
			semmmm001Bean.setMethodWithNaviBackAfterSave(methodWithNaviBackAfterSave);
			
			semmmm001Bean.setModeBackAfterSave(modeBackAfterSave);
			semmmm001Bean.setHeadTypeBackAfterSave(headTypeBackAfterSave);
			
			semmmm001Bean.setExpenseEffectiveDtStrParamBackAfterSave(expenseEffectiveDtStrParamBackAfterSave);
			semmmm001Bean.setEffectiveDtStrParamBackAfterSave(effectiveDtStrParamBackAfterSave);
			semmmm001Bean.setExpireDtStrParamBackAfterSave(expireDtStrParamBackAfterSave);
			semmmm001Bean.setExpenseTypeIdParamBackAfterSave(expenseTypeIdParamBackAfterSave);
			semmmm001Bean.setPayTypeIdParamBackAfterSave(payTypeIdParamBackAfterSave);
			semmmm001Bean.setVendorMapPayeeIdParamBackAfterSave(vendorMapPayeeIdParamBackAfterSave);
			semmmm001Bean.setCancelFlagBackAfterSave(cancelFlagBackAfterSave);
			
			semmmm001Bean.setRenderedBtnBackVD(false);
			semmmm001Bean.setRenderedBtnBackVB(false);
			semmmm001Bean.setRenderedBtnBackPY(false);
			semmmm001Bean.setRenderedBtnBackPB(false);
			semmmm001Bean.setRenderedBtnBackVDCancel(false);
			semmmm001Bean.setRenderedBtnBackVBCancel(false);
			semmmm001Bean.setRenderedBtnBackPYCancel(false);
			semmmm001Bean.setRenderedBtnBackPBCancel(false);
			
			semmmm001Bean.setResultMsg(msg("message.back")); 
			
			if(navParam.equalsIgnoreCase("SEMMMM001-2") && !StringUtils.equals("CANCEL_VENDOR", actionIdBackAfterSave)){
				semmmm001Bean.setRenderedBtnBackVD(true);
			}else if(navParam.equalsIgnoreCase("SEMMMM001-2") && StringUtils.equals("CANCEL_VENDOR", actionIdBackAfterSave)){
				semmmm001Bean.setRenderedBtnBackVDCancel(true);
			}else if(navParam.equalsIgnoreCase("SEMMMM001-3") && !StringUtils.equals("CANCEL_VENDOR", actionIdBackAfterSave)){
				semmmm001Bean.setRenderedBtnBackVB(true);
			}else if(navParam.equalsIgnoreCase("SEMMMM001-3") && StringUtils.equals("CANCEL_VENDOR", actionIdBackAfterSave)){
				semmmm001Bean.setRenderedBtnBackVBCancel(true);
			}else if(navParam.equalsIgnoreCase("SEMMMM001-4") && !StringUtils.equals("CANCEL_VENDOR", actionIdBackAfterSave)){
				semmmm001Bean.setRenderedBtnBackPY(true);
			}else if(navParam.equalsIgnoreCase("SEMMMM001-4") && StringUtils.equals("CANCEL_VENDOR", actionIdBackAfterSave)){
				semmmm001Bean.setRenderedBtnBackPYCancel(true);
			}else if(navParam.equalsIgnoreCase("SEMMMM001-5") && !StringUtils.equals("CANCEL_VENDOR", actionIdBackAfterSave)){
				semmmm001Bean.setRenderedBtnBackPB(true);
			}else if(navParam.equalsIgnoreCase("SEMMMM001-5") && StringUtils.equals("CANCEL_VENDOR", actionIdBackAfterSave)){
				semmmm001Bean.setRenderedBtnBackPBCancel(true);
			}
		}catch (Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action initPageLoad");
			flag = false;
			// TODO: handle exception
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: initPageLoad >> END :::");
		}
		return flag;
	}
	
	// ---------------------------------------------------------------------------------
	private boolean pageLoad() {
		LOG.info("::: SEMMMM001Action :: pageLoad >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String cancelVendorDetailFlag = getFacesUtils().getRequestParameter("cancelVendorDetailFlag") == null ? "" : 
				(String)getFacesUtils().getRequestParameter("cancelVendorDetailFlag");
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				(String)getFacesUtils().getRequestParameter("contractNoParam");
			
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				(String)getFacesUtils().getRequestParameter("vendorIdParam");
			
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				(String)getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			semmmm001Bean.setDisableContent(true); 
			semmmm001Bean.setDisableEditVendorContent(true);
			semmmm001Bean.setVisiblePnlContractInfo(false);
			
			String navParam = getFacesUtils().getRequestParameter("navProgram") == null ? "" : (String) getFacesUtils().getRequestParameter("navProgram");
			
			// -- 2017/08/17 -- clear saveFlag
			semmmm001Bean.getVendorInfo().setSaveFlag("");
			semmmm001Bean.getBookbankInfo().setSaveFlag("");
			semmmm001Bean.getPayeeInfo().setSaveFlag("");
			semmmm001Bean.getBookbankPayeeInfo().setSaveFlag("");
			
			semmmm001Bean.setSelectedTab("tab0");
			semmmm001Bean.setPayeeSelectedTab("tabP0");
			
			if(StringUtils.equals("Y", cancelVendorDetailFlag))semmmm001Bean.getVendorInfo().setVendorFlowStatus(semmmm001Bean.getVendorFlowStatus());
			
			if(navParam.equalsIgnoreCase("SEMMMM001-1")){
				if(!StringUtils.equals("Y", semmmm001Bean.getNewVendorFlag()))
					this.doSearch();
					
				semmmm001Bean.setNewVendorFlag("");
				this.selectRow();
				
			}else if(navParam.equalsIgnoreCase("SEMMMM001-2")){
				// -- reload
				this.doReloadAllVendorContent(contractNo, vendorId, vendorMapPayeeId);
				
				//semmmm001Bean.setDisableBtnNewBookbank(false);
				//semmmm001Bean.setDisableBtnNewPayee(false);
				semmmm001Bean.setDisableBtnSaveVendor(true);
				semmmm001Bean.setDisableContent(true);
				semmmm001Bean.setDisableEditVendorContent(true);
				
				// -- 2017/08/08
//				semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
//				this.doCompareVendorWithSAP();
				this.doGetVendorCheckBox();
				this.doChkWithoutContract();
				this.doManageVendorDetailBtn();
				this.doValidateBtnPage();
			}else if(navParam.equalsIgnoreCase("SEMMMM001-4")){
				this.doViewPayeeByPayeeId();
			}
				
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: pageLoad >> END :::");
		}
		return flag;
	}
	
	private boolean pageLoadHist() {
		LOG.info("::: SEMMMM001Action :: pageLoadHist >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String cancelVendorDetailFlag = getFacesUtils().getRequestParameter("cancelVendorDetailFlag") == null ? "" : 
				(String)getFacesUtils().getRequestParameter("cancelVendorDetailFlag");
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				(String)getFacesUtils().getRequestParameter("contractNoParam");
			
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				(String)getFacesUtils().getRequestParameter("vendorIdParam");
			
			String backDetailFlag = getFacesUtils().getRequestParameter("backDetailFlag") == null ? "" : 
				(String)getFacesUtils().getRequestParameter("backDetailFlag");
			
			String detailPageFlag = getFacesUtils().getRequestParameter("backDetailFlag") == null ? "" : 
				(String)getFacesUtils().getRequestParameter("backDetailFlag");
			
			semmmm001Bean.setSelectedTab("tab0");
			semmmm001Bean.setPayeeSelectedTab("tabP0");
			
			if(StringUtils.equals("Y", backDetailFlag)){
				if(StringUtils.equals("VD", detailPageFlag)){
					this.doVendorHistory();
				}else if(StringUtils.equals("VB", detailPageFlag)){
					this.doBookbankHistory();
				}else if(StringUtils.equals("PY", detailPageFlag)){
					this.doPayeeHistory();
				}else if(StringUtils.equals("PB", detailPageFlag)){
					this.doBookbankPayeeHistory();
				}
				
			}
				
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: pageLoad >> END :::");
		}
		return flag;
	}
	
	private boolean doSearch() {
		LOG.info("::: SEMMMM001Action :: doSearch >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			if (!validateFrmSearch()) {
				semmmm001Bean.setRenderedMsgFormSearch(true);
				flag = false;
			} 

			if(flag){
				flag = searchVendorMasterList();
			}
			
			semmmm001Bean.setChkSelAll(false);
			semmmm001Bean.setChkSelAllTblAct(false);
			semmmm001Bean.setChkSelAllTblTmn(false);
			this.selectAllRow();
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSearch >> END :::");
		}
		return flag;
	}
	
	private boolean doClear() {
		LOG.info("::: SEMMMM001Action :: doClear >> BEGIN :::");
		boolean flag = true;

		try {
			
			init();
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doClear >> END :::");
		}
		return flag;
	}
	
	private boolean doInitChangeTab() {
		LOG.info("::: SEMMMM001Action :: doInitChangeTab >> BEGIN :::");
		boolean flag = true;

		try {
			semmmm001Bean = getSemmmm001Bean();
			
			String tabNo = getFacesUtils().getRequestParameter("tabNo") == null ? "" : (String) getFacesUtils().getRequestParameter("tabNo");
			LOG.debug(">>> tabNo" + tabNo);
			String sapFlag = getFacesUtils().getRequestParameter("sapFlag") == null ? "" : (String) getFacesUtils().getRequestParameter("sapFlag");
			//ssemmmm001Bean.setTabNo(tabNo);
			
			//added by NEW 22/05/2017
			if(StringUtils.equals("Y", sapFlag)){
				semmmm001Bean.setSelectedSapTab(tabNo);
			}else if(StringUtils.equals("N", sapFlag)){
				semmmm001Bean.setSelectedSemTab(tabNo);
			}else{
				semmmm001Bean.setSelectedTab(tabNo);
			}
			
			if(StringUtils.equals("tab6", tabNo)){
				this.doCopyVendorName();
			}
//			semmmm001Bean.setSelectedTab(tabNo);
			
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doInitChangeTab >> END :::");
		}
		return flag;
	}
	
	public void doAskForNewContract(){
		LOG.info("::: SEMMMM001Action :: doAskForNewContract >> BEGIN :::");
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("vendorIdParam");
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			
			if(contractNo.isEmpty() && vendorId.isEmpty()){
				semmmm001Bean.setRenderedAskForNewContract(true);
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doAskForNewContract >> END :::");
		}
	}
	
	private boolean doViewContractVendorSummary() {
		LOG.info("::: SEMMMM001Action :: doViewContractVendorSummary >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			semmmm001Bean.setVisiblePnlContractInfo(true);
			semmmm001Bean.setVisiblePnlAddContractInfo(false);
			semmmm001Bean.setVisiblePnlVendorInfo(false);
			semmmm001Bean.setVisiblePnlBankListInfo(false);
			semmmm001Bean.setVisiblePnlBookbankPayeeListInfo(false);
			
			semmmm001Bean.setDisableBtnSiteInfo(false);
			semmmm001Bean.setRenderedBtnNewVendor(true);
			
			// --
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("contractNoParam");
			
			// -- 2017/08/23
			semmmm001Bean.getContractInfo().setContractNo(contractNo);
			
			// default paytype
			semmmm001Bean.getExpCntrctOfVndObj().setPayType("01");
			
			if(!contractNo.isEmpty()){
				this.doGetContractInfoByContractParam(contractNo);
				this.doSetOwnerLocation();
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewContractVendorSummary >> END :::");
		}
		return flag;
	}

	/*private boolean doNewVendor() {
		LOG.info("::: SEMMMM001Action :: doNewVendor >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			Mmm001CriteriaSP tmpCriteria = null;
			List<Mmm001ContractSP> contractResultList = new ArrayList<Mmm001ContractSP>();
			List<Mmm001VendorContractSP> vendorContractResultList = new ArrayList<Mmm001VendorContractSP>();			
			List<Mmm001VendorSP> vendorResultList = new ArrayList<Mmm001VendorSP>();
			List<Mmm001AddressSP> addressResultList = new ArrayList<Mmm001AddressSP>();
			List<Mmm001BookbankSP> bookbankResultList = new ArrayList<Mmm001BookbankSP>();
			List<Mmm001PayeeSP> payeeResultList = new ArrayList<Mmm001PayeeSP>();
			
			semmmm001Bean.setVendorAddrObj(new Mmm001AddressSP()); 		// clear object
			semmmm001Bean.setRentalAddrObj(new Mmm001AddressSP()); 		// clear object
			semmmm001Bean.setElectrictAddrObj(new Mmm001AddressSP()); 	// clear object
			semmmm001Bean.setPropertyAddrObj(new Mmm001AddressSP()); 	// clear object
			semmmm001Bean.setInsureAddrObj(new Mmm001AddressSP()); 		// clear object
			semmmm001Bean.setConstructAddrObj(new Mmm001AddressSP()); 	// clear object
			semmmm001Bean.setWithholdAddrObj(new Mmm001AddressSP()); 	// clear object
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("vendorIdParam");
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			
			//if(contractNo.isEmpty()){
			//semmmm001Bean.setVisiblePnlContractInfo(false);
			
			semmmm001Bean.setContractInfo(new Mmm001ContractSP());
			semmmm001Bean.setVendorContractList(new ArrayList<WrapperBeanObject<Mmm001VendorContractSP>>());
			semmmm001Bean.setVendorInfo(new Mmm001VendorSP());
			semmmm001Bean.setBookbankList(new ArrayList<WrapperBeanObject<Mmm001BookbankSP>>());
			semmmm001Bean.setPayeeList(new ArrayList<WrapperBeanObject<Mmm001PayeeSP>>());
			semmmm001Bean.setContractList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
			
			semmmm001Bean.setDisableBtnSiteInfo(true);
			semmmm001Bean.setDisableBtnHistory(true);
			semmmm001Bean.setDisableContent(false); 
			semmmm001Bean.setDisableBtnEditVendor(true); 
			semmmm001Bean.setDisableBtnNewBookbank(true);
			semmmm001Bean.setDisableBtnNewPayee(true);
			
			semmmm001Bean.setDisableBtnNewBookbankOfVendor(true);
			semmmm001Bean.setDisableBtnNewPayeeOfVendor(true);
			semmmm001Bean.setDisableBtnAssignOrAddContract(true);
			
			this.doSetOwnerLocation();
			
			if(!contractNo.isEmpty()){
				semmmm001Bean.setVisiblePnlContractInfo(true);
				
				semmmm001Bean.setDisableContent(true); 
				
				semmmm001Bean.setDisableBtnSiteInfo(false);
				semmmm001Bean.setDisableBtnHistory(false);
				
				semmmm001Bean.setDisableBtnEditVendor(false); 
				semmmm001Bean.setDisableBtnNewBookbank(false);
				semmmm001Bean.setDisableBtnNewPayee(false);
			
				this.doGetContractInfoByContractParam(contractNo);
			} else {
				semmmm001Bean.setVisiblePnlContractInfo(false);
			}
			
			
			if(vendorId != null && !vendorId.isEmpty()){
				semmmm001Bean.setDisableBtnAssignOrAddContract(false);
				
				this.doGetVendorInfoByVendorParam(contractNo, vendorId);
				
				// -- btnNewBookbankOfVendor and btnNewPayeeOfVendor
				String vendorCode = semmmm001Bean.getVendorInfo().getVendorCode() == null ? "" : 
									(String)semmmm001Bean.getVendorInfo().getVendorCode();
				if(!vendorCode.isEmpty()){
					semmmm001Bean.setDisableBtnNewBookbankOfVendor(false);
					semmmm001Bean.setDisableBtnNewPayeeOfVendor(false);
				} else {
					semmmm001Bean.setDisableBtnNewBookbankOfVendor(true);
					semmmm001Bean.setDisableBtnNewPayeeOfVendor(true);
				}
				
				
				// -- bookbank of vendor list
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				bookbankResultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_BOOKBANK_LIST.name, tmpCriteria);
				
				semmmm001Bean.setBookbankList(new ArrayList<WrapperBeanObject<Mmm001BookbankSP>>()); // clear object
				
				if(bookbankResultList != null && bookbankResultList.size() != 0) {
					LOG.debug(">> bookbankResultList.size() = " + bookbankResultList.size());
					for (int i=0; i<bookbankResultList.size(); i++) {
						Mmm001BookbankSP obj = (Mmm001BookbankSP) bookbankResultList.get(i);
						WrapperBeanObject<Mmm001BookbankSP> tmpWrapperBean = new WrapperBeanObject<Mmm001BookbankSP>();
						
						tmpWrapperBean.setDataObj(obj);
						tmpWrapperBean.setMessage("");
						tmpWrapperBean.setCheckBox(false);
						semmmm001Bean.getBookbankList().add(tmpWrapperBean);
					}
				}
				
				// -- payee of vendor list
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				payeeResultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_PAYEE_LIST.name, tmpCriteria);
				
				semmmm001Bean.setPayeeList(new ArrayList<WrapperBeanObject<Mmm001PayeeSP>>()); // clear object
				
				if(payeeResultList != null && payeeResultList.size() != 0) {
					LOG.debug(">> payeeResultList.size() = " + payeeResultList.size());
					for (int i=0; i<payeeResultList.size(); i++) {
						Mmm001PayeeSP obj = (Mmm001PayeeSP) payeeResultList.get(i);
						WrapperBeanObject<Mmm001PayeeSP> tmpWrapperBean = new WrapperBeanObject<Mmm001PayeeSP>();
						
						tmpWrapperBean.setDataObj(obj);
						tmpWrapperBean.setMessage("");
						tmpWrapperBean.setCheckBox(false);
						semmmm001Bean.getPayeeList().add(tmpWrapperBean);
					}
				}
				
				// -- contract list
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				contractResultList = service.querySPList(EQueryName.SEM_SAP_CONTRACT_LIST.name, tmpCriteria);
				
				semmmm001Bean.setContractList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>()); // clear object
				
				if(contractResultList != null && contractResultList.size() != 0) {
					LOG.debug(">> contractResultList.size() = " + contractResultList.size());
					for (int i=0; i<contractResultList.size(); i++) {
						Mmm001ContractSP obj = (Mmm001ContractSP) contractResultList.get(i);
						WrapperBeanObject<Mmm001ContractSP> tmpWrapperBean = new WrapperBeanObject<Mmm001ContractSP>();
						
						tmpWrapperBean.setDataObj(obj);
						tmpWrapperBean.setMessage("");
						tmpWrapperBean.setCheckBox(false);
						semmmm001Bean.getContractList().add(tmpWrapperBean);
					}
				}
			} else {
				//semmmm001Bean.setVendorInfo(new Mmm001VendorSP()); // clear object
				//semmmm001Bean.setVendorInfoMissMatchWithSAPObj(new Mmm001VendorSP()); // clear object
			}
			
			//semmmm001Bean.setVisiblePnlAddContractInfo(true);
			semmmm001Bean.setDisableBtnSaveVendor(false);
			
			// temp param for saveFlag
			semmmm001Bean.getVendorInfo().setSaveFlag("N"); //NEW
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doNewVendor >> END :::");
		}
		return flag;
	}*/
	
	private boolean doNewBookbank() {
		LOG.info("::: SEMMMM001Action :: doNewBookbank >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			flag = this.doViewBookbankByCaseNewBookbank();
			
			semmmm001Bean.setBookbankInfo(new Mmm001BookbankSP());
			semmmm001Bean.setBookbankInfoMissMatchWithSAPObj(new Mmm001BookbankSP());
			semmmm001Bean.setContractOfBookbankList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
			
			// -- 2017/08/10
			semmmm001Bean.getBookbankInfo().setAccountName(semmmm001Bean.getVendorInfo().getVendorName() == null ? "" :
														  (String) semmmm001Bean.getVendorInfo().getVendorName());
			semmmm001Bean.getBookbankInfo().setBookbankStatus("01");
			
			semmmm001Bean.setDisableContent(false); 
			semmmm001Bean.setDisableEditBookbankContent(false); 
			
			semmmm001Bean.setDisableBtnEditBookbank(true);
			semmmm001Bean.setDisableBtnSaveBookbank(false);
			
			// temp param for saveFlag
			semmmm001Bean.getBookbankInfo().setSaveFlag("N"); //NEW
			
			this.doManageVendorDetailBtn();
			this.doValidateBtnPage();
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doNewBookbank >> END :::");
		}
		return flag;
	}
	
	private boolean doNewBookbankFromVendorDetail() {
		LOG.info("::: SEMMMM001Action :: doNewBookbankFromVendorDetail >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

//			if(semmmm001Bean.getExpCntrctOfVndObj().getContractNo() != null && 
//					!StringUtils.equals("", semmmm001Bean.getExpCntrctOfVndObj().getContractNo())){
				flag = this.doViewBookbankByCaseNewBookbank();
				
				semmmm001Bean.setBookbankInfo(new Mmm001BookbankSP());
				semmmm001Bean.setBookbankInfoMissMatchWithSAPObj(new Mmm001BookbankSP());
				semmmm001Bean.setContractOfBookbankList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
				
				// -- 2017/08/10
				semmmm001Bean.getBookbankInfo().setAccountName(semmmm001Bean.getVendorInfo().getVendorName() == null ? "" :
															  (String) semmmm001Bean.getVendorInfo().getVendorName());
				semmmm001Bean.getBookbankInfo().setBookbankStatus("01");
				
				semmmm001Bean.setDisableContent(false); 
				semmmm001Bean.setDisableEditBookbankContent(false); 
				
				semmmm001Bean.setDisableBtnEditBookbank(true);
				semmmm001Bean.setDisableBtnSaveBookbank(false);
				
				// temp param for saveFlag
				semmmm001Bean.getBookbankInfo().setSaveFlag("N"); //NEW
				
				semmmm001Bean.setFromVendorFlag(true);
				semmmm001Bean.setFromPayeeFlag(false);
				
				this.doManageVendorDetailBtn();
				this.doValidateBtnPage();
//				this.doCheckBBGSB();
//			}else{
//				semmmm001Bean.setRenderedMsgFormSearch(true);
//				addGeneralMessageError("W0121");
//				return false;
//				
//			}
			
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doNewBookbankFromVendorDetail >> END :::");
		}
		return flag;
	}
	
	private boolean doNewPayee() {
		LOG.info("::: SEMMMM001Action :: doNewPayee >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			flag = this.doViewPayeeCaseNewPayee();
			
			semmmm001Bean.setPayeeInfo(new Mmm001PayeeSP());
			semmmm001Bean.setSelectedTab("tab0");
			semmmm001Bean.setPayeeSelectedTab("tabP0");
//			semmmm001Bean.setVendorInfoMissMatchWithSAPObj(new Mmm001VendorSP());
//			semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
			
			semmmm001Bean.setPayeeAddrObj(new Mmm001AddressSP());
			semmmm001Bean.setRentalPayeeAddrObj(new Mmm001AddressSP());
			semmmm001Bean.setElectrictPayeeAddrObj(new Mmm001AddressSP());
			semmmm001Bean.setPropertyPayeeAddrObj(new Mmm001AddressSP());
			semmmm001Bean.setInsurePayeeAddrObj(new Mmm001AddressSP());
			semmmm001Bean.setConstructPayeeAddrObj(new Mmm001AddressSP());
			semmmm001Bean.setWithholdPayeeAddrObj(new Mmm001AddressSP());
			
			semmmm001Bean.setBookbankPayeeList(new ArrayList<WrapperBeanObject<Mmm001BookbankPayeeSP>>());
			semmmm001Bean.setContractOfPayeeList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
			
			// -- 2017/08/09 >>
			// -- default payeeInfo
			semmmm001Bean.getPayeeInfo().setPayType("01");
			LOG.debug("doNewPayee semmmm001Bean.getVendorInfo().getVendorMapPayeeId() : "+ semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
			semmmm001Bean.getPayeeInfo().setVendorMapPayeeId(semmmm001Bean.getVendorInfo().getVendorMapPayeeId() == null ? "" :
														semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
			semmmm001Bean.getPayeeInfo().setExpenseType(semmmm001Bean.getExpCntrctOfVndObj().getExpenseType() == null ? "" :
														semmmm001Bean.getExpCntrctOfVndObj().getExpenseType());
			
			if(semmmm001Bean.getExpCntrctOfVndObj().getExpenseEffectiveDt() != null) 
				semmmm001Bean.getPayeeInfo().setExpenseEffectiveDt(semmmm001Bean.getExpCntrctOfVndObj().getExpenseEffectiveDt());
			// -- <<
			
			
			semmmm001Bean.setDisableContent(false); 
			semmmm001Bean.setDisableEditPayeeContent(false); 
			
			semmmm001Bean.setDisableBtnEditPayee(true);
			semmmm001Bean.setDisableBtnSavePayee(false);
			
			//this.doSetPayeeLocation();
			this.doSetOwnerLocationPayee();
			
			// temp param for saveFlag
			semmmm001Bean.getPayeeInfo().setSaveFlag("N"); //NEW
		
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doNewPayee >> END :::");
		}
		return flag;
	}
	
	private boolean doNewPayeeFromVendorDetail() {
		LOG.info("::: SEMMMM001Action :: doNewPayeeFromVendorDetail >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			if(semmmm001Bean.getExpCntrctOfVndObj().getContractNo() != null && 
					!StringUtils.equals("", semmmm001Bean.getExpCntrctOfVndObj().getContractNo())){
				flag = this.doViewPayeeCaseNewPayee();
				
				semmmm001Bean.setPayeeInfo(new Mmm001PayeeSP());
				semmmm001Bean.setSelectedTab("tab0");
				semmmm001Bean.setPayeeSelectedTab("tabP0");
//				semmmm001Bean.setVendorInfoMissMatchWithSAPObj(new Mmm001VendorSP());
//				semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
				semmmm001Bean.setFromVendorFlag(false);
				semmmm001Bean.setFromPayeeFlag(false);
				
				semmmm001Bean.setPayeeAddrObj(new Mmm001AddressSP());
				semmmm001Bean.setRentalPayeeAddrObj(new Mmm001AddressSP());
				semmmm001Bean.setElectrictPayeeAddrObj(new Mmm001AddressSP());
				semmmm001Bean.setPropertyPayeeAddrObj(new Mmm001AddressSP());
				semmmm001Bean.setInsurePayeeAddrObj(new Mmm001AddressSP());
				semmmm001Bean.setConstructPayeeAddrObj(new Mmm001AddressSP());
				semmmm001Bean.setWithholdPayeeAddrObj(new Mmm001AddressSP());
				
				semmmm001Bean.setBookbankPayeeList(new ArrayList<WrapperBeanObject<Mmm001BookbankPayeeSP>>());
				semmmm001Bean.setContractOfPayeeList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
				
				// -- 2017/08/09 >>
				// -- default payeeInfo
				semmmm001Bean.getPayeeInfo().setPayType("01");
				LOG.debug("doNewPayee semmmm001Bean.getVendorInfo().getVendorMapPayeeId() : "+ semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
				semmmm001Bean.getPayeeInfo().setVendorMapPayeeId(semmmm001Bean.getVendorInfo().getVendorMapPayeeId() == null ? "" :
															semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
				semmmm001Bean.getPayeeInfo().setExpenseType(semmmm001Bean.getExpCntrctOfVndObj().getExpenseType() == null ? "" :
															semmmm001Bean.getExpCntrctOfVndObj().getExpenseType());
				
				if(semmmm001Bean.getExpCntrctOfVndObj().getExpenseEffectiveDt() != null) 
					semmmm001Bean.getPayeeInfo().setExpenseEffectiveDt(semmmm001Bean.getExpCntrctOfVndObj().getExpenseEffectiveDt());
				// -- <<
				
				
				semmmm001Bean.setDisableContent(false); 
				semmmm001Bean.setDisableEditPayeeContent(false); 
				
				semmmm001Bean.setDisableBtnEditPayee(true);
				semmmm001Bean.setDisableBtnSavePayee(false);
				
				//this.doSetPayeeLocation();
				this.doSetOwnerLocationPayee();
				
				// temp param for saveFlag
				semmmm001Bean.getPayeeInfo().setSaveFlag("N"); //NEW
				semmmm001Bean.setRenderedMsgNewPayee(false);
			}else{
				semmmm001Bean.setRenderedMsgNewPayee(true);
				semmmm001Bean.setRenderedMsgDataNotFound(false);
				semmmm001Bean.setRenderedMsgFormSearch(false);
				addMessageError("W0121");
				setSemmmm001Bean(semmmm001Bean);
				return false;
			}

			semmmm001Bean.setFromVendorFlag(true);
			semmmm001Bean.setFromPayeeFlag(false);
		
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doNewPayeeFromVendorDetail >> END :::");
		}
		return flag;
	}
	
	private boolean doNewBBPayee() {
		
		LOG.info("::: SEMMMM001Action :: doNewBBPayee >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			String payeePageFlag = getFacesUtils().getRequestParameter("payeePageFlag") == null ? "" : 
				(String)getFacesUtils().getRequestParameter("payeePageFlag");

//			flag = this.doViewBBPayeeByBookbankPayeeId();
			semmmm001Bean.setSelectedTab("tab0");
			semmmm001Bean.setPayeeSelectedTab("tabP0");
			
			semmmm001Bean.setBookbankPayeeInfo(new Mmm001BookbankPayeeSP());
			
			// -- 2017/08/10
			semmmm001Bean.getBookbankPayeeInfo().setAccountName(semmmm001Bean.getPayeeInfo().getPayeeName() == null ? "" :
															   (String) semmmm001Bean.getPayeeInfo().getPayeeName());
			semmmm001Bean.getBookbankPayeeInfo().setBookbankStatus("01");
			
			semmmm001Bean.setDisableContent(false); 
			semmmm001Bean.setDisableEditBookbankPayeeContent(false); 
			
			semmmm001Bean.setDisableBtnEditBookbankPayee(true);
			semmmm001Bean.setDisableBtnSaveBookbankPayee(false);
			
			// temp param for saveFlag
			semmmm001Bean.getBookbankPayeeInfo().setSaveFlag("N"); //NEW
			
//			if(StringUtils.equals("Y", payeePageFlag)){
//				semmmm001Bean.setPayeePageFlag(true);
//			}else{
//				semmmm001Bean.setPayeePageFlag(false);
//			}
//			this.doCheckBBGSBPayee();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doNewBBPayee >> END :::");
		}
		return flag;
	}
	
	private boolean doNewBBPayeeFromPayee() {
		LOG.info("::: SEMMMM001Action :: doNewBBPayeeFromPayee >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			String payeePageFlag = getFacesUtils().getRequestParameter("payeePageFlag") == null ? "" : 
				(String)getFacesUtils().getRequestParameter("payeePageFlag");

			flag = this.doViewBBPayeeCaseNewBookbankPayee();
			
			semmmm001Bean.setBookbankPayeeInfo(new Mmm001BookbankPayeeSP());
			
			// -- 2017/08/10
			semmmm001Bean.getBookbankPayeeInfo().setAccountName(semmmm001Bean.getPayeeInfo().getPayeeName() == null ? "" :
															   (String) semmmm001Bean.getPayeeInfo().getPayeeName());
			semmmm001Bean.getBookbankPayeeInfo().setBookbankStatus("01");
			
			semmmm001Bean.setDisableContent(false); 
			semmmm001Bean.setDisableEditBookbankPayeeContent(false); 
			
			semmmm001Bean.setDisableBtnEditBookbankPayee(true);
			semmmm001Bean.setDisableBtnSaveBookbankPayee(false);
			
			// temp param for saveFlag
			semmmm001Bean.getBookbankPayeeInfo().setSaveFlag("N"); //NEW
			
			if(StringUtils.equals("Y", payeePageFlag)){
				semmmm001Bean.setPayeePageFlag(true);
			}else{
				semmmm001Bean.setPayeePageFlag(false);
			}
			
			semmmm001Bean.setFromPayeeFlag(true);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doNewBBPayeeFromPayee >> END :::");
		}
		return flag;
	}
	
	private boolean doNewVendorBySelectedContract() {
		LOG.info("::: SEMMMM001Action :: doNewVendorBySelectedContract >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			Mmm001CriteriaSP tmpCriteria = null;
			List<Mmm001ContractSP> contractResultList = new ArrayList<Mmm001ContractSP>();
			List<Mmm001VendorContractSP> vendorContractResultList = new ArrayList<Mmm001VendorContractSP>();			
			
			String contractNo = "";
			
			List<WrapperBeanObject<Mmm001VendorMasterSP>> vendorMasterResultList = new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>();
			vendorMasterResultList = semmmm001Bean.getVendorMasterResultList();
			
			for (WrapperBeanObject<Mmm001VendorMasterSP> obj : vendorMasterResultList) {
				Mmm001VendorMasterSP contractSp = (Mmm001VendorMasterSP)obj.getDataObj();
				if(obj.isCheckBox()){
					contractNo = contractSp.getContractNo();
					break;
				}
			}
			
			// -- vendor detail
			semmmm001Bean.setVendorInfo(new Mmm001VendorSP()); // clear object
			// -- address
			semmmm001Bean.setVendorAddrObj(new Mmm001AddressSP()); 		// clear object
			semmmm001Bean.setRentalAddrObj(new Mmm001AddressSP()); 		// clear object
			semmmm001Bean.setElectrictAddrObj(new Mmm001AddressSP()); 	// clear object
			semmmm001Bean.setPropertyAddrObj(new Mmm001AddressSP()); 	// clear object
			semmmm001Bean.setInsureAddrObj(new Mmm001AddressSP()); 		// clear object
			semmmm001Bean.setConstructAddrObj(new Mmm001AddressSP()); 	// clear object
			semmmm001Bean.setWithholdAddrObj(new Mmm001AddressSP()); 	// clear object
			// -- bookbank of vendor list
			semmmm001Bean.setBookbankList(new ArrayList<WrapperBeanObject<Mmm001BookbankSP>>()); // clear object
			// -- payee of vendor list
			semmmm001Bean.setPayeeList(new ArrayList<WrapperBeanObject<Mmm001PayeeSP>>()); // clear object
			// -- contract list
			semmmm001Bean.setContractList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>()); // clear object
			
			if(!contractNo.isEmpty()){
				semmmm001Bean.setVisiblePnlContractInfo(true);
				
				semmmm001Bean.setDisableContent(false); 
				
				semmmm001Bean.setDisableBtnSiteInfo(false);
				semmmm001Bean.setDisableBtnHistory(false);
				
				semmmm001Bean.setDisableBtnEditVendor(true); 
				semmmm001Bean.setDisableBtnNewBookbank(true);
				semmmm001Bean.setDisableBtnNewPayee(true);
			
				// -- contract info
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId("");
				contractResultList = service.querySPList(EQueryName.SEM_SAP_CONTRACT_DETAIL.name, tmpCriteria);
				
				semmmm001Bean.setContractInfo(new Mmm001ContractSP()); // clear object
				
				if(contractResultList != null && contractResultList.size() != 0) {
					LOG.debug(">> contractResultList.size() = " + contractResultList.size());
					Mmm001ContractSP obj = (Mmm001ContractSP) contractResultList.get(0);
					
					semmmm001Bean.setContractInfo(obj);
				}
				
				// -- vendor contract list
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				vendorContractResultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_CONTRACT_LIST.name, tmpCriteria);
				
				semmmm001Bean.setVendorContractList(new ArrayList<WrapperBeanObject<Mmm001VendorContractSP>>()); // clear object
				
				if(vendorContractResultList != null && vendorContractResultList.size() != 0) {
					LOG.debug(">> vendorContractResultList.size() = " + vendorContractResultList.size());
					for (int i=0; i<vendorContractResultList.size(); i++) {
						Mmm001VendorContractSP obj = (Mmm001VendorContractSP) vendorContractResultList.get(i);
						WrapperBeanObject<Mmm001VendorContractSP> tmpWrapperBean = new WrapperBeanObject<Mmm001VendorContractSP>();
						
						tmpWrapperBean.setDataObj(obj);
						tmpWrapperBean.setMessage("");
						tmpWrapperBean.setCheckBox(false);
						semmmm001Bean.getVendorContractList().add(tmpWrapperBean);
					}
				}
				this.doSetOwnerLocation();
			}
			
			semmmm001Bean.setDisableBtnSaveVendor(false);
			
			// temp param for saveFlag
			semmmm001Bean.getVendorInfo().setSaveFlag("N"); //NEW
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doNewVendorBySelectedContract >> END :::");
		}
		return flag;
	}
	
	private boolean doManageBtn() {
		LOG.info("::: SEMMMM001Action :: doManageBtn >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String btnEvent = (String)getFacesUtils().getRequestParameter("btnEvent");
			LOG.debug(">> btnEvent: " + btnEvent);
			
			String rowIdConcatParam = "";
			String vendorIdParam = getFacesUtils().getRequestParameter("vendorId") == null ? "" : (String)getFacesUtils().getRequestParameter("vendorId");
			String bookbankIdParam = getFacesUtils().getRequestParameter("bookbankId") == null ? "" : (String)getFacesUtils().getRequestParameter("bookbankId");
			String payeeIdParam = getFacesUtils().getRequestParameter("payeeId") == null ? "" : (String)getFacesUtils().getRequestParameter("payeeId");
			String payeeBookbankIdParam = getFacesUtils().getRequestParameter("bookbankPayeeId") == null ? "" : (String)getFacesUtils().getRequestParameter("bookbankPayeeId");
			String vendorMapPayeeIdParam = getFacesUtils().getRequestParameter("vendorMapPayeeId") == null ? "" : (String)getFacesUtils().getRequestParameter("vendorMapPayeeId");
			
			String tmpVendorId = semmmm001Bean.getVendorInfo().getVendorId() == null ? "" : (String)semmmm001Bean.getVendorInfo().getVendorId();
			String contractNo = semmmm001Bean.getExpCntrctOfVndObj().getContractNo() == null ? "" : 
				   (String) semmmm001Bean.getExpCntrctOfVndObj().getContractNo();
			String navProgram = (String)getFacesUtils().getRequestParameter("navProgram") == null ? "" : (String)getFacesUtils().getRequestParameter("navProgram");
			
			String todoFlag = (String)getFacesUtils().getRequestParameter("todoFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("todoFlag");
			
			ArrayList contractRowIdList = new ArrayList();
			
			if(StringUtils.equals("Y", todoFlag)){
				contractRowIdList = getAllRowIdFromSelectedVendorMasterTodoList();
				if(contractRowIdList != null && contractRowIdList.size()>0){
					vendorIdParam = (String) contractRowIdList.get(0);
					bookbankIdParam = (String) contractRowIdList.get(1);
					payeeIdParam = (String) contractRowIdList.get(2);
					payeeBookbankIdParam = (String) contractRowIdList.get(3);
					vendorMapPayeeIdParam = (String) contractRowIdList.get(4);
				}
			}else{
				contractRowIdList = getAllRowIdFromSelectedVendorMasterList();
				if(contractRowIdList != null && contractRowIdList.size()>0){
					vendorIdParam = (String) contractRowIdList.get(0);
					bookbankIdParam = (String) contractRowIdList.get(1);
					payeeIdParam = (String) contractRowIdList.get(2);
					payeeBookbankIdParam = (String) contractRowIdList.get(3);
					vendorMapPayeeIdParam = (String) contractRowIdList.get(4);
				}
			}
			// TODO TO FIXED
			
			
			if(btnEvent.equals(SEMConstant.SEMMMM001.EXP_BTCH_VD)){
//				flag = doExportBatch("VD", rowIdConcatParam);
				flag = initExportVendorToLeader();
			} else if(btnEvent.equals(SEMConstant.SEMMMM001.SND_MNG_VD)){
				flag = doSendToMNG("VD", vendorIdParam, bookbankIdParam, payeeIdParam, payeeBookbankIdParam);
			} else if(btnEvent.equals(SEMConstant.SEMMMM001.EXP_BTCH_VB)){
//				flag = doExportBatch("VB", rowIdConcatParam);
				flag = initExportVendorBookbankToLeader();
			} else if(btnEvent.equals(SEMConstant.SEMMMM001.SND_MNG_VB)){
				flag = doSendToMNG("VB", vendorIdParam, bookbankIdParam, payeeIdParam, payeeBookbankIdParam);
			} else if(btnEvent.equals(SEMConstant.SEMMMM001.EXP_BTCH_PY)){
//				flag = doExportBatch("PY", rowIdConcatParam);
				flag = initExportPayeeToLeader();
			} else if(btnEvent.equals(SEMConstant.SEMMMM001.SND_MNG_PY)){
				flag = 	doSendToMNG("PY", vendorIdParam, bookbankIdParam, payeeIdParam, payeeBookbankIdParam);
			} else if(btnEvent.equals(SEMConstant.SEMMMM001.EXP_BTCH_PB)){
//				flag = doExportBatch("PB", rowIdConcatParam);
				flag = initExportPayeeBookbankToLeader();
			} else if(btnEvent.equals(SEMConstant.SEMMMM001.SND_MNG_PB)){
				flag = doSendToMNG("PB", vendorIdParam, bookbankIdParam, payeeIdParam, payeeBookbankIdParam);
			} else if(btnEvent.equals(SEMConstant.SEMMMM001.SND_MNG_PB)){
				flag = doSendToMNG("PB", vendorIdParam, bookbankIdParam, payeeIdParam, payeeBookbankIdParam);
			} else if(btnEvent.equals(SEMConstant.SEMMMM001.DEL)){
				flag = doFetchDeleteRowByRow();
			}else if(btnEvent.equals(SEMConstant.SEMMMM001.CLR_BATCH)){
				flag = doClearBatch(vendorMapPayeeIdParam, vendorIdParam, bookbankIdParam, payeeIdParam, payeeBookbankIdParam);
			}else if(btnEvent.equals(SEMConstant.SEMMMM001.CANCEL)){
				flag = doCancel(vendorMapPayeeIdParam, vendorIdParam, bookbankIdParam, payeeIdParam, payeeBookbankIdParam);
			}else if(btnEvent.equals(SEMConstant.SEMMMM001.CONFIRM)){
				flag = doConfirm(vendorMapPayeeIdParam, vendorIdParam, bookbankIdParam, payeeIdParam, payeeBookbankIdParam);
			}else if(btnEvent.equals(SEMConstant.SEMMMM001.EXP_EXCEL)){
				flag = initExportExcel();
			}
			
			if(flag && (navProgram != null && StringUtils.equals("SEMMMM001-1", navProgram))) 
				this.doSearch();
			
			if(navProgram != null && !StringUtils.equals("SEMMMM001-1", navProgram)){
//				if(StringUtils.equals("SEMMMM001-2", navProgram)){
//					this.doReloadAllVendorContent(contractNo, vendorIdParam);
//					
//					this.doManageVendorDetailBtn();
//				}else if(StringUtils.equals("SEMMMM001-3", navProgram)){
//					// -- bookbank of vendor list
//					this.doGetVendorBookbankByVendorParam(contractNo, vendorIdParam);
//					
//					// -- vendor detail
//					this.doGetVendorInfoByVendorParam(contractNo, vendorIdParam);
//					
//					// -- bookbank info
//					this.doGetBookbankInfoByBookbankParam(contractNo, vendorIdParam, bookbankIdParam);
//					
//					// -- contract of bookbank list
//					this.doGetContractOfBookbankByBookbankParam(bookbankIdParam);
//				
//					
//					this.doManageVBDetailBtn();
//				}else if(StringUtils.equals("SEMMMM001-4", navProgram)){
//					this.doManagePYDetailBtn();
//				}else if(StringUtils.equals("SEMMMM001-5", navProgram)){
//					this.doManagePBDetailBtn();
//				}
			
				if(StringUtils.equals("SEMMMM001-2", navProgram.toUpperCase())){
					this.doViewVendorByVendorId();
				}else if(StringUtils.equals("SEMMMM001-3", navProgram.toUpperCase())){
					this.doViewBookbankByVendorBookbankId();
				}else if(StringUtils.equals("SEMMMM001-4", navProgram.toUpperCase())){
					this.doViewPayeeByPayeeId();
				}else if(StringUtils.equals("SEMMMM001-5", navProgram.toUpperCase())){
					this.doViewBBPayeeByBookbankPayeeId();
				}else if(StringUtils.equals("SEMMMM001-0", navProgram.toUpperCase())){
					this.loadTree();
					this.searchTodoListAfterSave();
				}
			}
				
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doManageBtn >> END :::");
		}
		return flag;
	}
	
	private boolean doFetchDeleteRowByRow() {
		LOG.info("::: SEMMMM001Action :: doFetchDeleteRowByRow >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			List<WrapperBeanObject<Mmm001VendorMasterSP>> vendorTempResultList = new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>();
			
			// condition with 2 tables cannot collected together
			// request changed 2017/06/07
			// lazy fixed low performance
			// >>
			// table ACTIVE (ACT)
			vendorTempResultList = semmmm001Bean.getVendorMasterResultList();
			
			int countTmp = 0; // lazy checked for collect by only one table (for ignore table 2)
			
			for (WrapperBeanObject<Mmm001VendorMasterSP> obj : vendorTempResultList) {
				Mmm001VendorMasterSP contractSp = (Mmm001VendorMasterSP)obj.getDataObj();
				if(obj.isCheckBox()){
					String actType = contractSp.getActionType();
					String vendorId = contractSp.getVendorId();
					
					LOG.debug(">> actType: " + actType);
					LOG.debug(">> vendorId: " + vendorId);
					
					flag = this.doDeleteByRowId(actType, vendorId);
					countTmp++;
				}
			}
			
			// table TERMINATE (TMN)
			if(countTmp == 0){
				vendorTempResultList = semmmm001Bean.getVendorMasterTerminateResultList();
				
				for (WrapperBeanObject<Mmm001VendorMasterSP> obj : vendorTempResultList) {
					Mmm001VendorMasterSP contractSp = (Mmm001VendorMasterSP)obj.getDataObj();
					if(obj.isCheckBox()){
						String actType = contractSp.getActionType();
						String vendorId = contractSp.getVendorId();
						
						LOG.debug(">> actType: " + actType);
						LOG.debug(">> vendorId: " + vendorId);
						
						flag = this.doDeleteByRowId(actType, vendorId);
					}
				}
			}
			// <<
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doFetchDeleteRowByRow >> END :::");
		}
		return flag;
	}
	
	private boolean doNewVendorByContract() {
		LOG.info("::: SEMMMM001Action :: doNewVendorByContract >> BEGIN :::");
		boolean flag = true;

		try {
			String contractNoParam = getFacesUtils().getRequestParameter("contractNoParam") == null ? ""
					: (String)getFacesUtils().getRequestParameter("contractNoParam");
			
			String vendorIdParam = getFacesUtils().getRequestParameter("vendorIdParam") == null ? ""
					: (String)getFacesUtils().getRequestParameter("vendorIdParam");
			
			String vendorMapPayeeIdParam = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? ""
					: (String)getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			String expenseTypeParam = getFacesUtils().getRequestParameter("expenseTypeParam") == null ? ""
					: (String)getFacesUtils().getRequestParameter("expenseTypeParam");
			
			
			semmmm001Bean = getSemmmm001Bean();
			
//			Mmm001ExpenseWithContractOfVendorSP expCntrctOfVndObj = new Mmm001ExpenseWithContractOfVendorSP(); 
//			expCntrctOfVndObj = semmmm001Bean.getExpCntrctOfVndObj();
			
			String company = semmmm001Bean.getVendorInfo().getCompany();

			semmmm001Bean.setVendorInfo(new Mmm001VendorSP());
			
			semmmm001Bean.setVendorInfoMissMatchWithSAPObj(new Mmm001VendorSP());
//			semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
			
			semmmm001Bean.setVendorAddrObj(new Mmm001AddressSP());
			semmmm001Bean.setRentalAddrObj(new Mmm001AddressSP());
			semmmm001Bean.setElectrictAddrObj(new Mmm001AddressSP());
			semmmm001Bean.setPropertyAddrObj(new Mmm001AddressSP());
			semmmm001Bean.setInsureAddrObj(new Mmm001AddressSP());
			semmmm001Bean.setConstructAddrObj(new Mmm001AddressSP());
			semmmm001Bean.setWithholdAddrObj(new Mmm001AddressSP());
			
			semmmm001Bean.setBookbankList(new ArrayList<WrapperBeanObject<Mmm001BookbankSP>>());
			semmmm001Bean.setPayeeList(new ArrayList<WrapperBeanObject<Mmm001PayeeSP>>());
			semmmm001Bean.setContractList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
			
			semmmm001Bean.setDisableContent(false);
			semmmm001Bean.setDisableEditVendorContent(false);
			
			semmmm001Bean.setDisableBtnSiteInfo(false);
			semmmm001Bean.setDisableBtnHistory(true);
			
			semmmm001Bean.setDisableBtnEditVendor(true);
			semmmm001Bean.setDisableBtnSaveVendor(false);
			semmmm001Bean.setDisableBtnNewBookbank(true);
			semmmm001Bean.setDisableBtnNewPayee(true);
			
			semmmm001Bean.setRenderedPnlCmpVendorInfo(false);
			
			this.doSetOwnerLocation();
			
			// temp param for saveFlag
			semmmm001Bean.getVendorInfo().setSaveFlag("N"); //CHANGE
			
			semmmm001Bean.getVendorAddrObj().setChkTelephoneSapFlag(true);
			semmmm001Bean.getVendorAddrObj().setChkMobileNoSapFlag(true);
			
			semmmm001Bean.setVisiblePnlVendorInfo(true);
			semmmm001Bean.setVisiblePnlBankListInfo(false);
			semmmm001Bean.setVisiblePnlBookbankPayeeListInfo(false);
			//semmmm001Bean.setVisiblePnlContractListInfo(true);  //2017/07/25 .. unused
			
			semmmm001Bean.getVendorInfo().setContractNo(contractNoParam);
			semmmm001Bean.getVendorInfo().setVendorId(vendorIdParam);
			semmmm001Bean.getVendorInfo().setVendorMapPayeeId(vendorMapPayeeIdParam);
			semmmm001Bean.getVendorInfo().setExpenseType(expenseTypeParam);
			semmmm001Bean.getVendorInfo().setCompany(company);
//			semmmm001Bean.getExpCntrctOfVndObj().setContractNo(contractNoParam);
//			semmmm001Bean.getExpCntrctOfVndObj().setExpenseType(expenseTypeParam);
//			
////			semmmm001Bean.getExpCntrctOfVndObj().setExpenseEffectiveDt(expenseEffectiveDtParam);
////			semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDt(contractEffectiveDtParam);
////			semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDt(contractExpireDtParam);
////			
////			semmmm001Bean.getExpCntrctOfVndObj().setChkWithoutContract(chkWithoutContractParam);
//			semmmm001Bean.getExpCntrctOfVndObj().setWithoutContractRemark(withoutContractRemarkParam);
			this.doManageVendorDetailBtn();
			this.doValidateBtnPage();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doNewVendorByContract >> END :::");
		}
		return flag;
	}
	
	private boolean doNewVendorClearContent() {
		LOG.info("::: SEMMMM001Action :: doNewVendorClearContent >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo 	= getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId 	= getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String newVendorFlag 	= getFacesUtils().getRequestParameter("newVendorFlag") == null ? "" : (String) getFacesUtils().getRequestParameter("newVendorFlag");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			// 2017/07/25 .. 
			String mode 	= getFacesUtils().getRequestParameter("mode") == null ? "" : (String) getFacesUtils().getRequestParameter("mode");
			String headType 	= getFacesUtils().getRequestParameter("headType") == null ? "" : (String) getFacesUtils().getRequestParameter("headType");
			
			this.doReloadAllVendorContent(contractNo, vendorId, vendorMapPayeeId);
			
			//if((mode.equalsIgnoreCase("view") || mode.equalsIgnoreCase("edit")) && headType.equalsIgnoreCase("vendor")){
			semmmm001Bean.setVisiblePnlContractInfo(false);
			semmmm001Bean.setVisiblePnlVendorInfo(true);
			semmmm001Bean.setVisiblePnlBankListInfo(false);
			semmmm001Bean.setVisiblePnlBookbankPayeeListInfo(false);
			//semmmm001Bean.setVisiblePnlContractListInfo(true);  //2017/07/25 .. unused
			
			semmmm001Bean.setDisableContent(false); 
			semmmm001Bean.setDisableEditVendorContent(false); 
			semmmm001Bean.setDisableBtnSaveVendor(false);
			semmmm001Bean.setRenderedPnlCmpVendorInfo(false);
			semmmm001Bean.setVisiblePnlAddContractInfo(true);
			semmmm001Bean.setRenderedBtnNewVendor(false);
			
			semmmm001Bean.setDisableBtnEditVendor(true);
			//}
			
			// clear all object (vendor info)
			semmmm001Bean.setContractInfo(new Mmm001ContractSP());
			semmmm001Bean.setVendorContractList(new ArrayList<WrapperBeanObject<Mmm001VendorContractSP>>());
			semmmm001Bean.setVendorInfo(new Mmm001VendorSP());
			semmmm001Bean.setBookbankList(new ArrayList<WrapperBeanObject<Mmm001BookbankSP>>());
			semmmm001Bean.setPayeeList(new ArrayList<WrapperBeanObject<Mmm001PayeeSP>>());
			semmmm001Bean.setContractList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
			semmmm001Bean.setVendorInfoMissMatchWithSAPObj(new Mmm001VendorSP());
			semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
			
			// clear object vendor address
			semmmm001Bean.setVendorAddrObj(new Mmm001AddressSP()); 		
			semmmm001Bean.setRentalAddrObj(new Mmm001AddressSP()); 		
			semmmm001Bean.setElectrictAddrObj(new Mmm001AddressSP()); 	
			semmmm001Bean.setPropertyAddrObj(new Mmm001AddressSP()); 	
			semmmm001Bean.setInsureAddrObj(new Mmm001AddressSP()); 		
			semmmm001Bean.setConstructAddrObj(new Mmm001AddressSP()); 	
			semmmm001Bean.setWithholdAddrObj(new Mmm001AddressSP()); 
			this.doSetOwnerLocation();
			
			// clear object expense
			semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
			//disable contract panel
			semmmm001Bean.setVisiblePnlContractInfo(false);
			
			semmmm001Bean.setRenderedBtnNewAllVendor(true);
			semmmm001Bean.setRenderedBtnNewVendorDetail(false);
			semmmm001Bean.setRenderedBtnSelectVendor(false);
			semmmm001Bean.setDisableExportBatchVD(true);
			semmmm001Bean.setDisableBtnClearBatch(true);
			semmmm001Bean.setDisableCancel(true);
			
			semmmm001Bean.setNewVendorFlag(newVendorFlag);
			
			// default paytype
//			if(StringUtils.equals("", semmmm001Bean.getExpCntrctOfVndObj().getPayType()) ){
				semmmm001Bean.getExpCntrctOfVndObj().setPayType("01");
//			}
			
			// temp param for saveFlag
			semmmm001Bean.getVendorInfo().setSaveFlag("N"); //NEW
			semmmm001Bean.getVendorAddrObj().setChkTelephoneSapFlag(true);
			semmmm001Bean.getVendorAddrObj().setChkMobileNoSapFlag(true);
			
			this.doGetVendorCheckBox();
			this.doManageVendorDetailBtn();
			this.doValidateBtnPage();
			this.doChkWithoutContract();

		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doNewVendorClearContent >> END :::");
		}
		return flag;
	}
	
	private boolean doViewVendorByVendorId() {
		LOG.info("::: SEMMMM001Action :: doViewVendorByVendorId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			LOG.debug("vendorMapPayeeId 1 :  "+vendorMapPayeeId);
			String cancelFlag = getFacesUtils().getRequestParameter("cancelFlag") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("cancelFlag");
			
//			System.out.println("contractNo : "+contractNo);
//			System.out.println("vendorId : "+vendorId);
			this.doGetRequestParam();
			
		
			// -- 2017/08/23
			semmmm001Bean.getContractInfo().setContractNo(contractNo);
			
			if(StringUtils.equals("Y", cancelFlag)){
				this.doVendorClearContent();
				
			}	
			this.doReloadAllVendorContent(contractNo, vendorId, vendorMapPayeeId);
			semmmm001Bean.setSelectedTab("tab0");
			semmmm001Bean.setPayeeSelectedTab("tabP0");
			semmmm001Bean.setVisiblePnlAddContractInfo(false);
			semmmm001Bean.setVisiblePnlVendorInfo(true);
			semmmm001Bean.setVisiblePnlBankListInfo(true);
			semmmm001Bean.setVisiblePnlBookbankPayeeListInfo(true);
						
			semmmm001Bean.setDisableBtnNewVendor(false);
			
			semmmm001Bean.setDisableContent(true); 
			semmmm001Bean.setDisableEditVendorContent(true); 
			
			semmmm001Bean.setDisableBtnEditVendor(false);
			semmmm001Bean.setDisableBtnSaveVendor(true);
			
			semmmm001Bean.setRenderedPnlCmpVendorInfo(false);
			
			semmmm001Bean.setRenderedBtnNewVendor(false);
			semmmm001Bean.setRenderedBtnNewAllVendor(true);
			semmmm001Bean.setRenderedBtnNewVendorDetail(false);
			semmmm001Bean.setRenderedBtnSelectVendor(false);
				
			// temp param for saveFlag
//			semmmm001Bean.getVendorInfo().setSaveFlag("E"); //EDIT
			if(semmmm001Bean.getVendorInfo().getSaveFlag() != null){
				if(StringUtils.equals("N", semmmm001Bean.getVendorInfo().getSaveFlag())){
					semmmm001Bean.getVendorInfo().setSaveFlag("V");
				}
			}
			
			// clear object expense
			semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
			
//			// default paytype
//			if(StringUtils.equals("", semmmm001Bean.getExpCntrctOfVndObj().getPayType()) ){
//				semmmm001Bean.getExpCntrctOfVndObj().setPayType("01");
//			}
			
			
			if(!contractNo.isEmpty()){
				semmmm001Bean.setVisiblePnlContractInfo(false);
				
				this.doEditContractOfExpense(); // 2017/08/15 -- 
//				this.doFillinExpenseInfo();		// 2017/08/15 --
				semmmm001Bean.setDisableBtnSaveVendor(false);	// 2017/08/15 --
			} else { 
				semmmm001Bean.setVisiblePnlContractInfo(false);
			}
			
//			if(StringUtils.equals("", vendorMapPayeeId)){
				semmmm001Bean.getVendorInfo().setVendorMapPayeeId(vendorMapPayeeId);
//			}
			LOG.debug("vendorMapPayeeId 2 :  "+vendorMapPayeeId);
//			semmmm001Bean.setNewVendorFlag("");
			this.doCompareVendorWithSAP();
//			this.doChkWithoutContract();
			this.doGetVendorCheckBox();
			this.doManageVendorDetailBtn();
			this.doValidateBtnPage();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			LOG.debug("getNewVendorFlag : "+semmmm001Bean.getNewVendorFlag());
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewVendorByVendorId >> END :::");
		}
		return flag;
	}
	
	private boolean doSelectVendor() {
		LOG.info("::: SEMMMM001Action :: doSelectVendor >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			
			String cancelFlag = getFacesUtils().getRequestParameter("cancelFlag") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("cancelFlag");
			
			String saveFlag = semmmm001Bean.getVendorInfo().getSaveFlag() == null ? "" : (String)semmmm001Bean.getVendorInfo().getSaveFlag();
			
			String navProgramBack = semmmm001Bean.getNavProgramBack() == null ? "" : 
				(String) semmmm001Bean.getNavProgramBack();
			
			String vendorMapPayeeId = semmmm001Bean.getVendorInfo().getVendorMapPayeeId() == null ? "" : (String)semmmm001Bean.getVendorInfo().getVendorMapPayeeId();
			
			LOG.debug("vendorMapPayeeId 1 :  "+vendorMapPayeeId);
			LOG.debug("contractNo : "+contractNo);
			LOG.debug("vendorId : "+vendorId);
			LOG.debug("saveFlag : "+saveFlag);
			
			this.doGetRequestParam();
			LOG.debug("semmmm001Bean.getExpCntrctOfVndObj().getContractNo() 1 : "+semmmm001Bean.getExpCntrctOfVndObj().getContractNo());
		
			// -- 2017/08/23
			semmmm001Bean.getContractInfo().setContractNo(contractNo);
			
			if(StringUtils.equals("Y", cancelFlag)){
				this.doVendorClearContent();
				
			}	
			LOG.debug("semmmm001Bean.getExpCntrctOfVndObj().getContractNo() 2 : "+semmmm001Bean.getExpCntrctOfVndObj().getContractNo());
			this.doReloadAllVendorContent(contractNo, vendorId, vendorMapPayeeId);
			semmmm001Bean.setSelectedTab("tab0");
			semmmm001Bean.setPayeeSelectedTab("tabP0");
			semmmm001Bean.setVisiblePnlAddContractInfo(false);
			semmmm001Bean.setVisiblePnlVendorInfo(true);
			semmmm001Bean.setVisiblePnlBankListInfo(true);
			semmmm001Bean.setVisiblePnlBookbankPayeeListInfo(true);
						
			semmmm001Bean.setDisableBtnNewVendor(false);
			
			semmmm001Bean.setDisableContent(true); 
			semmmm001Bean.setDisableEditVendorContent(true); 
			
			semmmm001Bean.setDisableBtnEditVendor(false);
			semmmm001Bean.setDisableBtnSaveVendor(true);
			
			semmmm001Bean.setRenderedPnlCmpVendorInfo(false);
			
			semmmm001Bean.setRenderedBtnNewVendor(false);
			semmmm001Bean.setRenderedBtnNewAllVendor(true);
			semmmm001Bean.setRenderedBtnNewVendorDetail(false);
			semmmm001Bean.setRenderedBtnSelectVendor(false);
			LOG.debug("semmmm001Bean.getExpCntrctOfVndObj().getContractNo() 3 : "+semmmm001Bean.getExpCntrctOfVndObj().getContractNo());
			// temp param for saveFlag
//			semmmm001Bean.getVendorInfo().setSaveFlag("E"); //EDIT
			
				if(StringUtils.equals("N", saveFlag)){
					semmmm001Bean.getVendorInfo().setSaveFlag("V");
				}else{
					semmmm001Bean.getVendorInfo().setSaveFlag(saveFlag);
				}
			
//			if(StringUtils.equals("", vendorMapPayeeId)){
				semmmm001Bean.getVendorInfo().setVendorMapPayeeId(vendorMapPayeeId);
//			}
			LOG.debug("vendorMapPayeeId 2 :  "+vendorMapPayeeId);
//			// default paytype
//			if(StringUtils.equals("", semmmm001Bean.getExpCntrctOfVndObj().getPayType()) ){
//				semmmm001Bean.getExpCntrctOfVndObj().setPayType("01");
//			}
			
			
//			if(!contractNo.isEmpty()){
//				semmmm001Bean.setVisiblePnlContractInfo(false);
//				if(!StringUtils.equals("SEMMRT001-1", navProgramBack) && 
//						!StringUtils.equals("SEMMEL001-VMP", navProgramBack) &&
//						!StringUtils.equals("SEMMPT001-1", navProgramBack)){
//
//					// clear object expense
//					semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
//					this.doEditContractOfExpense(); // 2017/08/15 -- 
////					this.doFillinExpenseInfo();		// 2017/08/15 --
//				}
//				
////				semmmm001Bean.setDisableBtnSaveVendor(false);	// 2017/08/15 --
//			} else { 
//				semmmm001Bean.setVisiblePnlContractInfo(false);
//			}
//			semmmm001Bean.setNewVendorFlag("");
				LOG.debug("semmmm001Bean.getExpCntrctOfVndObj().getContractNo() 5 : "+semmmm001Bean.getExpCntrctOfVndObj().getContractNo());
			this.doCompareVendorWithSAP();
			LOG.debug("semmmm001Bean.getExpCntrctOfVndObj().getContractNo() 7 : "+semmmm001Bean.getExpCntrctOfVndObj().getContractNo());
//			this.doChkWithoutContract();
			LOG.debug("semmmm001Bean.getExpCntrctOfVndObj().getContractNo() 8 : "+semmmm001Bean.getExpCntrctOfVndObj().getContractNo());
			this.doGetVendorCheckBox();
			LOG.debug("semmmm001Bean.getExpCntrctOfVndObj().getContractNo() 9 : "+semmmm001Bean.getExpCntrctOfVndObj().getContractNo());
			this.doManageVendorDetailBtn();
			LOG.debug("semmmm001Bean.getExpCntrctOfVndObj().getContractNo() 10 : "+semmmm001Bean.getExpCntrctOfVndObj().getContractNo());
			this.doValidateBtnPage();
			LOG.debug("semmmm001Bean.getExpCntrctOfVndObj().getContractNo() 11 : "+semmmm001Bean.getExpCntrctOfVndObj().getContractNo());
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			LOG.debug("getNewVendorFlag : "+semmmm001Bean.getNewVendorFlag());
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSelectVendor >> END :::");
		}
		return flag;
	}
	
	private boolean doVendorClearContent() {
		LOG.info("::: SEMMMM001Action :: doNewVendorClearContent >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

//			this.doReloadAllVendorContent(contractNo, vendorId);
			
			//if((mode.equalsIgnoreCase("view") || mode.equalsIgnoreCase("edit")) && headType.equalsIgnoreCase("vendor")){
//			semmmm001Bean.setVisiblePnlContractInfo(false);
//			semmmm001Bean.setVisiblePnlVendorInfo(true);
//			semmmm001Bean.setVisiblePnlBankListInfo(false);
//			semmmm001Bean.setVisiblePnlBookbankPayeeListInfo(false);
//			//semmmm001Bean.setVisiblePnlContractListInfo(true);  //2017/07/25 .. unused
//			
//			semmmm001Bean.setDisableContent(false); 
//			semmmm001Bean.setDisableEditVendorContent(false); 
//			semmmm001Bean.setDisableBtnSaveVendor(false);
//			semmmm001Bean.setRenderedPnlCmpVendorInfo(false);
//			semmmm001Bean.setVisiblePnlAddContractInfo(true);
//			semmmm001Bean.setRenderedBtnNewVendor(false);
//			
//			semmmm001Bean.setDisableBtnEditVendor(true);
			//}
			
			// clear all object (vendor info)
			semmmm001Bean.setContractInfo(new Mmm001ContractSP());
			semmmm001Bean.setVendorContractList(new ArrayList<WrapperBeanObject<Mmm001VendorContractSP>>());
			semmmm001Bean.setVendorInfo(new Mmm001VendorSP());
			semmmm001Bean.setBookbankList(new ArrayList<WrapperBeanObject<Mmm001BookbankSP>>());
			semmmm001Bean.setPayeeList(new ArrayList<WrapperBeanObject<Mmm001PayeeSP>>());
			semmmm001Bean.setContractList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
			semmmm001Bean.setVendorInfoMissMatchWithSAPObj(new Mmm001VendorSP());
			semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
			
			// clear object vendor address
			semmmm001Bean.setVendorAddrObj(new Mmm001AddressSP()); 		
			semmmm001Bean.setRentalAddrObj(new Mmm001AddressSP()); 		
			semmmm001Bean.setElectrictAddrObj(new Mmm001AddressSP()); 	
			semmmm001Bean.setPropertyAddrObj(new Mmm001AddressSP()); 	
			semmmm001Bean.setInsureAddrObj(new Mmm001AddressSP()); 		
			semmmm001Bean.setConstructAddrObj(new Mmm001AddressSP()); 	
			semmmm001Bean.setWithholdAddrObj(new Mmm001AddressSP()); 
//			this.doSetOwnerLocation();
			
			// clear object expense
			semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
		
			//disable contract panel
//			semmmm001Bean.setVisiblePnlContractInfo(false);
//			
//			semmmm001Bean.setRenderedBtnNewAllVendor(true);
//			semmmm001Bean.setRenderedBtnNewVendorDetail(false);
//			semmmm001Bean.setRenderedBtnSelectVendor(false);
//			semmmm001Bean.setDisableExportBatchVD(true);
//			semmmm001Bean.setDisableBtnClearBatch(true);
//			semmmm001Bean.setDisableCancel(true);
			
//			semmmm001Bean.setNewVendorFlag(newVendorFlag);
			
			// temp param for saveFlag
//			semmmm001Bean.getVendorInfo().setSaveFlag("N"); //NEW
//			
//			this.doManageVendorDetailBtn();
//			this.doChkWithoutContract();

		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doNewVendorClearContent >> END :::");
		}
		return flag;
	}
	
	private void doGetRequestParam(){
		semmmm001Bean = getSemmmm001Bean();
		try{
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
//			System.out.println("contractNo : "+contractNo);
//			System.out.println("vendorId : "+vendorId);
			
			String expenseEffectiveDtStrParam = getFacesUtils().getRequestParameter("expenseEffectiveDtStrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("expenseEffectiveDtStrParam");
			String effectiveDtStrParam = getFacesUtils().getRequestParameter("effectiveDtStrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("effectiveDtStrParam");
			String expireDtStrParam = getFacesUtils().getRequestParameter("expireDtStrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("expireDtStrParam");
			String expenseTypeIdParam = getFacesUtils().getRequestParameter("expenseTypeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("expenseTypeIdParam");
			String payTypeIdParam = getFacesUtils().getRequestParameter("payTypeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("payTypeIdParam");
			
			
			String vendorMapPayeeIdParam = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			semmmm001Bean.getSemmmm001ReqParam().setContractNo(contractNo);
			semmmm001Bean.getSemmmm001ReqParam().setVendorId(vendorId);
			semmmm001Bean.getSemmmm001ReqParam().setExpenseEffectiveDtStrParam(expenseEffectiveDtStrParam);
			semmmm001Bean.getSemmmm001ReqParam().setEffectiveDtStrParam(effectiveDtStrParam);
			semmmm001Bean.getSemmmm001ReqParam().setExpireDtStrParam(expireDtStrParam);
			semmmm001Bean.getSemmmm001ReqParam().setExpenseTypeIdParam(expenseTypeIdParam);
			semmmm001Bean.getSemmmm001ReqParam().setPayTypeIdParam(payTypeIdParam);
			
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action doGetRequestParam : "+e);
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
	}
		
	private boolean doSelectVendorByVendorId() {
		LOG.info("::: SEMMMM001Action :: doSelectVendorByVendorId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			semmmm001Bean.getVendorInfo().setSaveFlag("C");
			
			String vendorMapPayeeId = semmmm001Bean.getVendorInfo().getVendorMapPayeeId() == null ? "" : (String)semmmm001Bean.getVendorInfo().getVendorMapPayeeId();
			
			LOG.debug("vendorMapPayeeId 1 :  "+vendorMapPayeeId);
			// -- 2017/08/23
			semmmm001Bean.getContractInfo().setContractNo(contractNo);
			
			this.doReloadVendorInfoContent(contractNo, vendorId, vendorMapPayeeId);
			
//			semmmm001Bean.setVisiblePnlAddContractInfo(false);
//			semmmm001Bean.setVisiblePnlVendorInfo(true);
//			semmmm001Bean.setVisiblePnlBankListInfo(true);
//			semmmm001Bean.setVisiblePnlBookbankPayeeListInfo(true);
//						
//			semmmm001Bean.setDisableBtnNewVendor(false);
//			
//			semmmm001Bean.setDisableContent(true); 
//			semmmm001Bean.setDisableEditVendorContent(true); 
//			
//			semmmm001Bean.setDisableBtnEditVendor(false);
//			semmmm001Bean.setDisableBtnSaveVendor(true);
//			
//			semmmm001Bean.setRenderedPnlCmpVendorInfo(false);
//			
//			semmmm001Bean.setRenderedBtnNewVendor(false);
//				
//			// temp param for saveFlag
//			semmmm001Bean.getVendorInfo().setSaveFlag("E"); //EDIT
//			
//			// clear object expense
//			semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
//			
//			// default paytype
//			semmmm001Bean.getExpCntrctOfVndObj().setPayType("01");
//			
//			// 2017/08/24 -- enabled BtnSendToMng (Vendor) when flowStatus 01, 03, 05, 07
//			String vendorFlowStatus = semmmm001Bean.getVendorInfo().getVendorFlowStatus() == null ? "" : 
//				   (String) semmmm001Bean.getVendorInfo().getVendorFlowStatus();
//			if(!vendorId.isEmpty() && StringUtils.indexOf("X01,03,05,07", vendorFlowStatus, 0) > 0)
//				semmmm001Bean.setDisableBtnSendManagerVD(false);
//			else
//				semmmm001Bean.setDisableBtnSendManagerVD(true);
//			
//			
//			if(!contractNo.isEmpty()){
//				semmmm001Bean.setVisiblePnlContractInfo(false);
//				
//				this.doEditContractOfExpense(); // 2017/08/15 -- 
//				this.doFillinExpenseInfo();		// 2017/08/15 --
//				semmmm001Bean.setDisableBtnSaveVendor(false);	// 2017/08/15 --
//			} else { 
//				semmmm001Bean.setVisiblePnlContractInfo(false);
//			}
//			
//			this.doCompareVendorWithSAP();
			semmmm001Bean.getVendorInfo().setSaveFlag("C");
//			if(StringUtils.equals("", vendorMapPayeeId)){
				semmmm001Bean.getVendorInfo().setVendorMapPayeeId(vendorMapPayeeId);
//			}
			LOG.debug("vendorMapPayeeId 2 :  "+vendorMapPayeeId);
			this.doCopyVendorName();
			this.doManageVendorDetailBtn();
			this.doValidateBtnPage();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSelectVendorByVendorId >> END :::");
		}
		return flag;
	}
	
	public void doReloadVendorInfoContent(String contractNo, String vendorId, String vendorMapPayeeId) {
		LOG.info("::: SEMMMM001Action :: doReloadAllVendorContent >> BEGIN :::");
		
		try{
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			// -- contract info + vendor of contract list
//			this.doGetContractInfoByContractParam(contractNo);
			
			// -- vendor detail
			this.doGetVendorInfoByVendorParam(contractNo, vendorId, vendorMapPayeeId);
			
			// -- vendor address
			this.doGetVendorAddressByVendorParam(contractNo, vendorId);
			
			// -- bookbank of vendor list
			this.doGetVendorBookbankByVendorParam(contractNo, vendorId);
			
			// -- payee of vendor list
			this.doGetVendorPayeeByVendorParam(contractNo, vendorId);
			
			// -- contract of vendor list
			this.doGetContractOfVendorByVendorParam(contractNo, vendorId);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			LOG.info("::: SEMMMM001Action :: doReloadAllVendorContent >> END :::");
		}
	}
	
	private boolean doViewVendorByVendorIdModeChange() {
		LOG.info("::: SEMMMM001Action :: doViewVendorByVendorIdModeChange >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");

			List<Mmm001VendorSP> vendorResultList = null;
			List<Mmm001AddressSP> addressResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			

			String vendorMapPayeeId = semmmm001Bean.getVendorInfo().getVendorMapPayeeId() == null ? "" : (String)semmmm001Bean.getVendorInfo().getVendorMapPayeeId();
			
			LOG.debug("vendorMapPayeeId 1 :  "+vendorMapPayeeId);
			
//			System.out.println("contractNo : "+contractNo);
//			System.out.println("vendorId : "+vendorId);			
			if(vendorId != null && !vendorId.isEmpty()){		
				// -- vendor detail
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setSaveFlag("");
				tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
				
				vendorResultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_DETAIL.name, tmpCriteria);
				
				semmmm001Bean.setVendorInfoCmpObj(new Mmm001VendorSP()); // clear object
				
				if(vendorResultList != null && vendorResultList.size() != 0) {
					Mmm001VendorSP obj = (Mmm001VendorSP) vendorResultList.get(0);
					
					semmmm001Bean.setVendorInfoCmpObj(obj);
					semmmm001Bean.getVendorInfoCmpObj().setChkVAT(obj.getIncludeVAT() != null && obj.getIncludeVAT().equalsIgnoreCase("Y") ? true : false);
				}
				
				
				// -- vendor address
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setGroupType("V");
				
				addressResultList = service.querySPList(EQueryName.SEM_SAP_ADDRESS.name, tmpCriteria);
								
				// clear object
				semmmm001Bean.setVendorAddrCmpObj(new Mmm001AddressSP()); 		
				semmmm001Bean.setRentalAddrCmpObj(new Mmm001AddressSP()); 		
				semmmm001Bean.setElectrictAddrCmpObj(new Mmm001AddressSP()); 	
				semmmm001Bean.setPropertyAddrCmpObj(new Mmm001AddressSP()); 	
				semmmm001Bean.setInsureAddrCmpObj(new Mmm001AddressSP()); 		
				semmmm001Bean.setConstructAddrCmpObj(new Mmm001AddressSP()); 	
				semmmm001Bean.setWithholdAddrCmpObj(new Mmm001AddressSP()); 
				
				if(addressResultList != null && addressResultList.size() != 0) {
					semmmm001Bean.setVendorAddrCmpObj((Mmm001AddressSP) addressResultList.get(0));
					semmmm001Bean.setRentalAddrCmpObj((Mmm001AddressSP) addressResultList.get(1));
					semmmm001Bean.setElectrictAddrCmpObj((Mmm001AddressSP) addressResultList.get(2));
					semmmm001Bean.setPropertyAddrCmpObj((Mmm001AddressSP) addressResultList.get(3));
					semmmm001Bean.setInsureAddrCmpObj((Mmm001AddressSP) addressResultList.get(4));
					semmmm001Bean.setConstructAddrCmpObj((Mmm001AddressSP) addressResultList.get(5));
					semmmm001Bean.setWithholdAddrCmpObj((Mmm001AddressSP) addressResultList.get(6));
					
					// --
					semmmm001Bean.getVendorAddrCmpObj().setChkTambolOther(addressResultList.get(0).getTambol() != null && addressResultList.get(0).getTambol().equalsIgnoreCase("X") ? true : false);
					semmmm001Bean.getVendorAddrCmpObj().setChkAmphurOther(addressResultList.get(0).getAmphur() != null && addressResultList.get(0).getAmphur().equalsIgnoreCase("X") ? true : false);
					semmmm001Bean.getVendorAddrCmpObj().setChkLocalDepartment(addressResultList.get(0).getpTaxFlag() != null && addressResultList.get(0).getpTaxFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getVendorAddrCmpObj().setChkTelephoneSapFlag(addressResultList.get(0).getTelephoneSapFlag() != null && addressResultList.get(0).getTelephoneSapFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getVendorAddrCmpObj().setChkMobileNoSapFlag(addressResultList.get(0).getMobileNoSapFlag() != null && addressResultList.get(0).getMobileNoSapFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getVendorAddrCmpObj().setChkFaxSapFlag(addressResultList.get(0).getFaxSapFlag() != null && addressResultList.get(0).getFaxSapFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getVendorAddrCmpObj().setChkEmailSapFlag(addressResultList.get(0).getEmailSapFlag() != null && addressResultList.get(0).getEmailSapFlag().equalsIgnoreCase("Y") ? true : false);
					
					this.doSetOwnerLocation();
				}
			}
			
			
			//semmmm001Bean.setVisiblePnlAddContractInfo(false);
			//semmmm001Bean.setVisiblePnlVendorInfo(true);
			//semmmm001Bean.setVisiblePnlBankListInfo(true);
			//semmmm001Bean.setVisiblePnlBookbankPayeeListInfo(true);
						
			//semmmm001Bean.setDisableBtnNewVendor(false);
			
			//semmmm001Bean.setDisableContent(true); 
			//semmmm001Bean.setDisableEditVendorContent(true); 
			
			//
			//semmmm001Bean.setDisableBtnSaveVendor(true);
//			if(StringUtils.equals("", vendorMapPayeeId)){
				semmmm001Bean.getVendorInfo().setVendorMapPayeeId(vendorMapPayeeId);
//			}
			LOG.debug("vendorMapPayeeId 2 :  "+vendorMapPayeeId);
			semmmm001Bean.setDisableBtnEditVendor(false);
			semmmm001Bean.setRenderedPnlCmpVendorInfo(true);
			
			//semmmm001Bean.setRenderedBtnNewVendor(false);
				
			//semmmm001Bean.setDisableBtnSaveVendor(false);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			LOG.debug("getNewVendorFlag : "+semmmm001Bean.getNewVendorFlag());
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewVendorByVendorIdModeChange >> END :::");
		}
		return flag;
	}
	
	private boolean doEditVendorByVendorId() {
		LOG.info("::: SEMMMM001Action :: doEditVendorByVendorId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			String vendorFlowStatusParam = getFacesUtils().getRequestParameter("vendorFlowStatusParam") == null ? "" : (String)getFacesUtils().getRequestParameter("vendorFlowStatusParam");

			semmmm001Bean.setDisableEditVendorContent(false); 
			
			semmmm001Bean.setDisableBtnNewBookbank(false);
			semmmm001Bean.setDisableBtnNewPayee(false);
			
			semmmm001Bean.setRenderedPnlCmpVendorInfo(false);
			semmmm001Bean.setDisableBtnSaveVendor(false);
			
			semmmm001Bean.setVisiblePnlAddContractInfo(false); //2017/07/11
			
			// temp param for saveFlag
			semmmm001Bean.getVendorInfo().setSaveFlag("E"); //EDIT
			
			//disable contract panel
			semmmm001Bean.setVisiblePnlContractInfo(false);
			
			//backup VendorFlowStatus
			semmmm001Bean.setVendorFlowStatus(vendorFlowStatusParam);
			//set VendorFlowStatus = Draft 
//			semmmm001Bean.getVendorInfo().setVendorFlowStatus("01");

			this.doCopyVendorName();
			this.doManageVendorDetailBtn();
			this.doValidateBtnPage();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doEditVendorByVendorId >> END :::");
		}
		return flag;
	}
	
	private boolean doChangeVendor() {
		LOG.info("::: SEMMMM001Action :: doChangeVendor >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			String vendorFlowStatusParam = getFacesUtils().getRequestParameter("vendorFlowStatusParam") == null ? "" 
					: (String)getFacesUtils().getRequestParameter("vendorFlowStatusParam");
			
			String contractNo = semmmm001Bean.getExpCntrctOfVndObj().getContractNo() == null ? "" 
					: semmmm001Bean.getExpCntrctOfVndObj().getContractNo(); 
//			semmmm001Bean.setVendorInfoCmpObj(new Mmm001VendorSP());
//			
//			semmmm001Bean.setVendorAddrCmpObj(new Mmm001AddressSP());
//			semmmm001Bean.setRentalAddrCmpObj(new Mmm001AddressSP());
//			semmmm001Bean.setElectrictAddrCmpObj(new Mmm001AddressSP());
//			semmmm001Bean.setPropertyAddrCmpObj(new Mmm001AddressSP());
//			semmmm001Bean.setInsureAddrCmpObj(new Mmm001AddressSP());
//			semmmm001Bean.setConstructAddrCmpObj(new Mmm001AddressSP());
//			semmmm001Bean.setWithholdAddrCmpObj(new Mmm001AddressSP());

//			semmmm001Bean.setDisableContent(false); 
//			semmmm001Bean.setDisableEditVendorContent(false); 
//			
//			semmmm001Bean.setDisableBtnSaveVendor(false);
			
			if(contractNo != null && StringUtils.isNotEmpty(contractNo)){
				
				semmmm001Bean.setRenderedPnlCmpVendorInfo(false);
				
				semmmm001Bean.setVisiblePnlAddContractInfo(false);	//
				
				this.doSetOwnerLocation();
				
				// default company same old vendor
				semmmm001Bean.getVendorInfoCmpObj().setCompany(semmmm001Bean.getVendorInfo().getCompany() == null ? "" : 
															   semmmm001Bean.getVendorInfo().getCompany());
				
				// default venderId same old vendor
				semmmm001Bean.getVendorInfoCmpObj().setVendorId(semmmm001Bean.getVendorInfo().getVendorId() == null ? "" : 
															   semmmm001Bean.getVendorInfo().getVendorId());
				
				// -- 2017/07/23 -- default vendorFlowStatus
				semmmm001Bean.getVendorInfoCmpObj().setVendorFlowStatus("01");
				//enable contract panel
				semmmm001Bean.setVisiblePnlContractInfo(true);
				// temp param for saveFlag
//				semmmm001Bean.getVendorInfo().setSaveFlag("C"); //CHANGE
				
				//backup VendorFlowStatus
				semmmm001Bean.setVendorFlowStatus(vendorFlowStatusParam);
				//set VendorFlowStatus = Draft 
				semmmm001Bean.getVendorInfo().setVendorFlowStatus("01");
				
				this.doGetContractInfoByContractParam(contractNo);
				
				this.doManageVendorDetailBtn();
				this.doValidateBtnPage();
				semmmm001Bean.setDisableBtnSaveVendor(true);
			}else{
				addMessageError("W0121");
				setSemmmm001Bean(semmmm001Bean);
				return false;
			}
			
			
//			semmmm001Bean.setRenderedBtnNewAllVendor(false);
//			semmmm001Bean.setRenderedBtnNewVendorDetail(true);
//			semmmm001Bean.setRenderedBtnSelectVendor(true);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doChangeVendor >> END :::");
		}
		return flag;
	}

	private boolean doDeleteVendorByVendorId() {
		LOG.info("::: SEMMMM001Action :: doDeleteVendorByVendorId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorIdParam");
			
			LOG.debug(">>> vendorId: " + vendorId);

			flag = this.doDeleteByRowId("VD", vendorId);
			
			if(flag) {
				//flag = this.doNewVendorByContract();
				
				// -- 2017/08/10 -- reload
				String contractNo = semmmm001Bean.getContractInfo().getContractNo() == null ? "" : 
					   (String) semmmm001Bean.getContractInfo().getContractNo();
//				this.doReloadAllVendorContent(contractNo, vendorId);
				
				semmmm001Bean.setDisableEditVendorContent(true);
				
				semmmm001Bean.setRenderedMsgConfirm("");
				
				semmmm001Bean.setRenderedBtnCheck(true);
				
				semmmm001Bean.setNavProgram("SEMMMM001-1");
				semmmm001Bean.setMethodWithNavi("pageLoad");
			}
			
			semmmm001Bean.setRenderedPnlCmpVendorInfo(false);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doDeleteVendorByVendorId >> END :::");
		}
		return flag;
	}
	
	private boolean doSendToMNGByVendorId() {
		LOG.info("::: SEMMMM001Action :: doSendToMNGByVendorId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String actionType = getFacesUtils().getRequestParameter("actionTypeParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("actionTypeParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			LOG.debug(">>> vendorId: " + vendorId);
			LOG.debug(">>> actionType: " + actionType);
		
			flag = this.doSendToMNG("VD", vendorId, "", "", "");
			
			if(flag){
				//flag = this.doNewVendorByContract();
				
				
				// -- 2017/08/10 -- reload
				String contractNo = semmmm001Bean.getContractInfo().getContractNo() == null ? "" : 
					   (String) semmmm001Bean.getContractInfo().getContractNo();
				this.doReloadAllVendorContent(contractNo, vendorId, vendorMapPayeeId);
				
				semmmm001Bean.setDisableEditVendorContent(true);
			}
			
			semmmm001Bean.setRenderedPnlCmpVendorInfo(false);
			this.doManageVendorDetailBtn();
			this.doValidateBtnPage();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSendToMNGByVendorId >> END :::");
		}
		return flag;
	}
	
	private boolean doSaveVendorInfo() {
		LOG.info("::: SEMMMM001Action :: doSaveVendorInfo >> BEGIN :::");
		boolean flag = true;
		semmmm001Bean = getSemmmm001Bean();
		try {
		
			semmmm001Bean.setSaveSuccessFlag(false);
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<ItemResultSP> result = null;
			
			semmmm001Bean.setRenderedMsgFormSearch(false);
			
			if(!doValidateVendorMaster()){
				semmmm001Bean.setRenderedResultMsgAlert(false);
				flag = false;
			}
			
			String saveFlag = semmmm001Bean.getVendorInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getVendorInfo().getSaveFlag();
			String contractNo = semmmm001Bean.getExpCntrctOfVndObj().getContractNo() == null ? "" : 
				   (String) semmmm001Bean.getExpCntrctOfVndObj().getContractNo();
			String vedorIdForCallBack = "";
			String vendorMapPayeeId = semmmm001Bean.getVendorInfo().getVendorMapPayeeId() == null ? "" : 
				   (String) semmmm001Bean.getVendorInfo().getVendorMapPayeeId();
			String validateFlag = getFacesUtils().getRequestParameter("validateFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("validateFlag");
			String validateCaseId = getFacesUtils().getRequestParameter("validateCaseId") == null ? "" : (String)getFacesUtils().getRequestParameter("validateCaseId");
			
			
			LOG.debug(">>> saveFlag: " + saveFlag);
			LOG.debug(">>> contractNo: " + contractNo);
			LOG.debug(">>> validateFlag: " + validateFlag);
			LOG.debug(">>> validateCaseId: " + validateCaseId);
			LOG.debug(">>> vendorMapPayeeId: " + vendorMapPayeeId);
			
//			
				
			if(flag) { // NEW, EDIT, CHANGE
				vedorIdForCallBack = semmmm001Bean.getVendorInfo().getVendorId();
				
				if(StringUtils.equals("C", saveFlag)){ // CHANGE
					vedorIdForCallBack = semmmm001Bean.getVendorInfoCmpObj().getVendorId() == null ? "" : 
				    (String)semmmm001Bean.getVendorInfoCmpObj().getVendorId();
					
					// support case change old
					if(!vedorIdForCallBack.isEmpty()){
												
						semmmm001Bean.getVendorInfo().setVendorIdChngeFrm(vedorIdForCallBack);
						
					}
				}
				
				semmmm001Bean.getVendorInfo().setContractNo(contractNo);
				semmmm001Bean.getVendorInfo().setIncludeVAT(semmmm001Bean.getVendorInfo().isChkVAT() ? "Y" : "N");
				//added by NEW 2017/10/06
				semmmm001Bean.getVendorInfo().setValidateFlag(validateFlag);
				semmmm001Bean.getVendorInfo().setValidateCaseId(validateCaseId);
				semmmm001Bean.getVendorInfo().setUpdateBy(getUserLogIn());
				
				if(semmmm001Bean.getVendorInfo().getEffectiveDt() != null){
					String effectiveDtStr = DateUtil.convertDateTime2StringWithLocale(semmmm001Bean.getVendorInfo().getEffectiveDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale);
					semmmm001Bean.getVendorInfo().setEffectiveDtStr(effectiveDtStr);
				}
				this.doSetVendorCheckBox();
				LOG.info("semmmm001Bean.getVendorInfo(): " + semmmm001Bean.getVendorInfo());
				LOG.info("semmmm001Bean.getVendorInfo().getVendorBlackListStatus : " + semmmm001Bean.getVendorInfo().getVendorBlackListStatus());
				LOG.info("semmmm001Bean.getVendorInfo().getVendorMapPayeeId : " + semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
				LOG.info("semmmm001Bean.getVendorInfo().getVendorId : " + semmmm001Bean.getVendorInfo().getVendorId());
				
				result = service.querySPList(EQueryName.SEM_SAP_VENDOR_SAVE_DRAFT.name, semmmm001Bean.getVendorInfo());
				
				if(result != null && result.size() != 0 && result.get(0) != null) {
					if(result.get(0).getResultType() != null && 
					   result.get(0).getResultType().equalsIgnoreCase("SUCCESS")){
						String tmpVendorId = result.get(0).getResultParam();
						if(StringUtils.isEmpty(vedorIdForCallBack)) vedorIdForCallBack = tmpVendorId;
						
						semmmm001Bean.getVendorAddrObj().setSapFlag(		semmmm001Bean.getVendorAddrObj().isChkSendToSap() ? "Y" : "N");
						semmmm001Bean.getVendorAddrObj().setTabNo("1");		semmmm001Bean.getVendorAddrObj().setVendorId(tmpVendorId);		semmmm001Bean.getVendorAddrObj().setUpdateBy(getUserLogIn());
						semmmm001Bean.getRentalAddrObj().setTabNo("2");		semmmm001Bean.getRentalAddrObj().setVendorId(tmpVendorId);		semmmm001Bean.getRentalAddrObj().setUpdateBy(getUserLogIn());
						semmmm001Bean.getElectrictAddrObj().setTabNo("3");	semmmm001Bean.getElectrictAddrObj().setVendorId(tmpVendorId);	semmmm001Bean.getElectrictAddrObj().setUpdateBy(getUserLogIn());
						semmmm001Bean.getPropertyAddrObj().setTabNo("4");	semmmm001Bean.getPropertyAddrObj().setVendorId(tmpVendorId);	semmmm001Bean.getPropertyAddrObj().setUpdateBy(getUserLogIn());
						semmmm001Bean.getInsureAddrObj().setTabNo("5");		semmmm001Bean.getInsureAddrObj().setVendorId(tmpVendorId);		semmmm001Bean.getInsureAddrObj().setUpdateBy(getUserLogIn());
						semmmm001Bean.getConstructAddrObj().setTabNo("6");	semmmm001Bean.getConstructAddrObj().setVendorId(tmpVendorId);	semmmm001Bean.getConstructAddrObj().setUpdateBy(getUserLogIn());
						semmmm001Bean.getWithholdAddrObj().setTabNo("7");	semmmm001Bean.getWithholdAddrObj().setVendorId(tmpVendorId);	semmmm001Bean.getWithholdAddrCmpObj().setUpdateBy(getUserLogIn());
						
						if(semmmm001Bean.getVendorAddrObj().isChkTambolOther()){ 	semmmm001Bean.getVendorAddrObj().setTambol("X"); } else { semmmm001Bean.getVendorAddrObj().setTambolName(""); }
						if(semmmm001Bean.getVendorAddrObj().isChkAmphurOther()){ 	semmmm001Bean.getVendorAddrObj().setAmphur("X"); } else { semmmm001Bean.getVendorAddrObj().setAmphurName(""); }
						if(semmmm001Bean.getVendorAddrObj().isChkLocalDepartment()){semmmm001Bean.getVendorAddrObj().setpTaxFlag("Y"); } else { semmmm001Bean.getVendorAddrObj().setpTaxFlag(""); }
						if(semmmm001Bean.getVendorAddrObj().isChkTelephoneSapFlag()){ semmmm001Bean.getVendorAddrObj().setTelephoneSapFlag("Y"); } else { semmmm001Bean.getVendorAddrObj().setTelephoneSapFlag(""); }
						if(semmmm001Bean.getVendorAddrObj().isChkMobileNoSapFlag()){semmmm001Bean.getVendorAddrObj().setMobileNoSapFlag("Y"); } else { semmmm001Bean.getVendorAddrObj().setMobileNoSapFlag(""); }
						if(semmmm001Bean.getVendorAddrObj().isChkFaxSapFlag()){ 	semmmm001Bean.getVendorAddrObj().setFaxSapFlag("Y"); } else { semmmm001Bean.getVendorAddrObj().setFaxSapFlag(""); }
						if(semmmm001Bean.getVendorAddrObj().isChkEmailSapFlag()){ 	semmmm001Bean.getVendorAddrObj().setEmailSapFlag("Y"); } else { semmmm001Bean.getVendorAddrObj().setEmailSapFlag(""); }
						
						if(semmmm001Bean.getRentalAddrObj().isChkTambolOther()){ 	semmmm001Bean.getRentalAddrObj().setTambol("X"); } else { semmmm001Bean.getRentalAddrObj().setTambolName(""); }
						if(semmmm001Bean.getRentalAddrObj().isChkAmphurOther()){ 	semmmm001Bean.getRentalAddrObj().setAmphur("X"); } else { semmmm001Bean.getRentalAddrObj().setAmphurName(""); }
						if(semmmm001Bean.getRentalAddrObj().isChkLocalDepartment()){semmmm001Bean.getRentalAddrObj().setpTaxFlag("Y"); } else { semmmm001Bean.getRentalAddrObj().setpTaxFlag(""); }
						
						if(semmmm001Bean.getElectrictAddrObj().isChkTambolOther()){ semmmm001Bean.getElectrictAddrObj().setTambol("X"); } else { semmmm001Bean.getElectrictAddrObj().setTambolName(""); }
						if(semmmm001Bean.getElectrictAddrObj().isChkAmphurOther()){ semmmm001Bean.getElectrictAddrObj().setAmphur("X"); } else { semmmm001Bean.getElectrictAddrObj().setAmphurName(""); }
						if(semmmm001Bean.getElectrictAddrObj().isChkLocalDepartment()){ semmmm001Bean.getElectrictAddrObj().setpTaxFlag("Y"); } else { semmmm001Bean.getElectrictAddrObj().setpTaxFlag(""); }
						
						if(semmmm001Bean.getPropertyAddrObj().isChkTambolOther()){ 	semmmm001Bean.getPropertyAddrObj().setTambol("X"); } else { semmmm001Bean.getPropertyAddrObj().setTambolName(""); }
						if(semmmm001Bean.getPropertyAddrObj().isChkAmphurOther()){ 	semmmm001Bean.getPropertyAddrObj().setAmphur("X"); } else { semmmm001Bean.getPropertyAddrObj().setAmphurName(""); }
						if(semmmm001Bean.getPropertyAddrObj().isChkLocalDepartment()){ semmmm001Bean.getPropertyAddrObj().setpTaxFlag("Y"); } else { semmmm001Bean.getPropertyAddrObj().setpTaxFlag(""); }
						
						if(semmmm001Bean.getInsureAddrObj().isChkTambolOther()){ 	semmmm001Bean.getInsureAddrObj().setTambol("X"); } else { semmmm001Bean.getInsureAddrObj().setTambolName(""); }
						if(semmmm001Bean.getInsureAddrObj().isChkAmphurOther()){ 	semmmm001Bean.getInsureAddrObj().setAmphur("X"); } else { semmmm001Bean.getInsureAddrObj().setAmphurName(""); }
						if(semmmm001Bean.getInsureAddrObj().isChkLocalDepartment()){semmmm001Bean.getInsureAddrObj().setpTaxFlag("Y"); } else { semmmm001Bean.getInsureAddrObj().setpTaxFlag(""); }
						
						if(semmmm001Bean.getConstructAddrObj().isChkTambolOther()){ semmmm001Bean.getConstructAddrObj().setTambol("X"); } else { semmmm001Bean.getConstructAddrObj().setTambolName(""); }
						if(semmmm001Bean.getConstructAddrObj().isChkAmphurOther()){ semmmm001Bean.getConstructAddrObj().setAmphur("X"); } else { semmmm001Bean.getConstructAddrObj().setAmphurName(""); }
						if(semmmm001Bean.getConstructAddrObj().isChkLocalDepartment()){ semmmm001Bean.getConstructAddrObj().setpTaxFlag("Y"); } else { semmmm001Bean.getConstructAddrObj().setpTaxFlag(""); }
						
						if(semmmm001Bean.getWithholdAddrObj().isChkTambolOther()){ 	semmmm001Bean.getWithholdAddrObj().setTambol("X"); } else { semmmm001Bean.getWithholdAddrObj().setTambolName(""); }
						if(semmmm001Bean.getWithholdAddrObj().isChkAmphurOther()){ 	semmmm001Bean.getWithholdAddrObj().setAmphur("X"); } else { semmmm001Bean.getWithholdAddrObj().setAmphurName(""); }
						if(semmmm001Bean.getWithholdAddrObj().isChkLocalDepartment()){ semmmm001Bean.getWithholdAddrObj().setpTaxFlag("Y"); } else { semmmm001Bean.getWithholdAddrObj().setpTaxFlag(""); }
						
						List<ItemResultSP> resultList = new ArrayList<ItemResultSP>();
						resultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_SAVE_ADDRESS.name, semmmm001Bean.getVendorAddrObj());
						if(resultList != null && !StringUtils.equals("SUCCESS", resultList.get(0).getResultType().toUpperCase())){
							addMessageError("EL0000", "SEMMMM001Action doSaveVendorInfo Save vendor Address");
							addGeneralMessageError( resultList.get(0).getResultMessage());
							return false;
 						}else
 							 resultList = new ArrayList<ItemResultSP>();
						
						resultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_SAVE_ADDRESS.name, semmmm001Bean.getRentalAddrObj());
						if(resultList != null && !StringUtils.equals("SUCCESS", resultList.get(0).getResultType().toUpperCase())){
							addMessageError("EL0000", "SEMMMM001Action doSaveVendorInfo Save vendor rental Address");
							addGeneralMessageError( resultList.get(0).getResultMessage());
							return false;
 						}else
 							 resultList = new ArrayList<ItemResultSP>();
						
						resultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_SAVE_ADDRESS.name, semmmm001Bean.getElectrictAddrObj());
						if(resultList != null && !StringUtils.equals("SUCCESS", resultList.get(0).getResultType().toUpperCase())){
							addMessageError("EL0000", "SEMMMM001Action doSaveVendorInfo Save vendor Electric Address");
							addGeneralMessageError( resultList.get(0).getResultMessage());
							return false;
 						}else
 							 resultList = new ArrayList<ItemResultSP>();
						
						resultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_SAVE_ADDRESS.name, semmmm001Bean.getPropertyAddrObj());
						if(resultList != null && !StringUtils.equals("SUCCESS", resultList.get(0).getResultType().toUpperCase())){
							addMessageError("EL0000", "SEMMMM001Action doSaveVendorInfo Save vendor Property Address");
							addGeneralMessageError( resultList.get(0).getResultMessage());
							return false;
 						}else
 							 resultList = new ArrayList<ItemResultSP>();
						
						resultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_SAVE_ADDRESS.name, semmmm001Bean.getInsureAddrObj());
						if(resultList != null && !StringUtils.equals("SUCCESS", resultList.get(0).getResultType().toUpperCase())){
							addMessageError("EL0000", "SEMMMM001Action doSaveVendorInfo Save vendor Insurence Address");
							addGeneralMessageError( resultList.get(0).getResultMessage());
							return false;
 						}else
 							 resultList = new ArrayList<ItemResultSP>();
						
						resultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_SAVE_ADDRESS.name, semmmm001Bean.getConstructAddrObj());
						if(resultList != null && !StringUtils.equals("SUCCESS", resultList.get(0).getResultType().toUpperCase())){
							addMessageError("EL0000", "SEMMMM001Action doSaveVendorInfo Save vendor Construct Address");
							addGeneralMessageError( resultList.get(0).getResultMessage());
							return false;
 						}else
 							 resultList = new ArrayList<ItemResultSP>();
						
						resultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_SAVE_ADDRESS.name, semmmm001Bean.getWithholdAddrObj());
						if(resultList != null && !StringUtils.equals("SUCCESS", resultList.get(0).getResultType().toUpperCase())){
							addMessageError("EL0000", "SEMMMM001Action doSaveVendorInfo Save vendor Withhold Address");
							addGeneralMessageError( resultList.get(0).getResultMessage());
							return false;
 						}else
 							 resultList = new ArrayList<ItemResultSP>();
						
						// -- save expense info
						semmmm001Bean.getExpCntrctOfVndObj().setVendorId(tmpVendorId);
						semmmm001Bean.getVendorInfo().setVendorId(tmpVendorId);
						//
//						if(!StringUtils.equals("Y", semmmm001Bean.getVendorInfo().getOtherExpenseFlag())){
							flag = this.doSaveExpenseInfo();
//						}
						
						
						//send email
						if(StringUtils.equals("Y", semmmm001Bean.getRetResultObj().getEmailFlag())){
							EMAILModel email = new EMAILModel();
							boolean sendMailResult = false;
							if(semmmm001Bean.getRetResultObj().getEmailFrom()!=null && !StringUtils.equals("", semmmm001Bean.getRetResultObj().getEmailFrom()))
								email.setEmail_from(semmmm001Bean.getRetResultObj().getEmailFrom());
							if(semmmm001Bean.getRetResultObj().getEmailTo()!=null && !StringUtils.equals("", semmmm001Bean.getRetResultObj().getEmailTo()))
								email.setEmail_to(semmmm001Bean.getRetResultObj().getEmailTo());
							if(semmmm001Bean.getRetResultObj().getEmailSubject()!=null && !StringUtils.equals("", semmmm001Bean.getRetResultObj().getEmailSubject()))
								email.setV_Subject(semmmm001Bean.getRetResultObj().getEmailSubject());
							if(semmmm001Bean.getRetResultObj().getEmailDetail()!=null && !StringUtils.equals("", semmmm001Bean.getRetResultObj().getEmailDetail()))
								email.setV_Message(semmmm001Bean.getRetResultObj().getEmailDetail());
							
//							EmailMessageUtil.sendEmail(emailM);doSendEmail(email);
							
							sendMailResult = EmailMessageUtil.sendEmail(email);
							if(!sendMailResult){
								addGeneralMessageWarn(msg("message.sendmailerror")+" : "+email.getEmail_to());
							}
							LOG.debug("sendMailEesult = "+sendMailResult);
						}
						LOG.debug("semmmm001Bean.getVendorInfo().getVendorMapPayeeId() 1 :"+semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
						
						// -- reload
						this.doReloadAllVendorContent(contractNo, tmpVendorId, semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
						LOG.debug("semmmm001Bean.getVendorInfo().getVendorMapPayeeId() 2 :"+semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
//						this.doVendorGetPayment(vendorMapPayeeIdParam,contractNo);
						//semmmm001Bean.setDisableBtnNewBookbank(false);
						//semmmm001Bean.setDisableBtnNewPayee(false);
						semmmm001Bean.setDisableBtnSaveVendor(true);
						semmmm001Bean.setDisableContent(true);
						semmmm001Bean.setDisableEditVendorContent(true);
						
						//set backup contractNo
//						semmmm001Bean.getSemmmm001ReqParam().setContractNo(contractNo);
						
						// -- 2017/08/08
//						semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
//						this.doCompareVendorWithSAP();
						this.doGetVendorCheckBox();
//						this.doChkWithoutContract();
						this.doManageVendorDetailBtn();
//						this.doValidateBtnPage();
						this.doValidateBtnPage(semmmm001Bean.getVendorInfo().getVendorId(), semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
						
						//backup new data after save for cancel 
						this.doBackupRequestParam();
						
//						addGeneralMessageInfo("success !!");
						if(flag)
							addMessageInfo("M0001");
					} else {
						flag = false;
						addMessageError("EL0000", result.get(0).getResultMessage());
					}
				} else {
					flag = false;
					addMessageError("EL0000", "SEMMMM001Action doSaveVendorInfo");
				}
			}
			
			// - result dialog -
			resultDialog(result);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action doSaveVendorInfo");
			flag = false;
			
			resultDialogException(SEMDataUtility.buildMessage(getMessageByCode("EL0000"), "SEMMMM001Action doSaveVendorInfo"));
		} finally {
			semmmm001Bean.setRenderedMsgFormSearch(true);
			semmmm001Bean.setSaveSuccessFlag(flag);
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSaveVendorInfo >> END :::");
		}
		return flag;
	}
	
	private boolean doAssignContractToVendor() {
		LOG.info("::: SEMMMM001Action :: doAssignContractToVendor >> BEGIN :::");
		boolean flag = true;
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<ItemResultSP> result = null;
			
			String contractNo = semmmm001Bean.getContractInfo().getContractNo() == null ? "" : (String)semmmm001Bean.getContractInfo().getContractNo();
			String vendorMapPayeeId = semmmm001Bean.getContractInfo().getVendorMapPayeeId() == null ? "" : (String)semmmm001Bean.getContractInfo().getVendorMapPayeeId();
			String vendorId = semmmm001Bean.getVendorInfo().getVendorId() == null ? "" : (String)semmmm001Bean.getVendorInfo().getVendorId();
			String expenseType = semmmm001Bean.getVendorInfo().getExpenseType() == null ? "" : (String)semmmm001Bean.getVendorInfo().getExpenseType();
			
			if(StringUtils.isEmpty(semmmm001Bean.getVendorInfo().getExpenseType())){ 
				// when contractNo is not null expenseType must be require!
				if(!StringUtils.isEmpty(semmmm001Bean.getContractInfo().getContractNo())){
					addMessageError("W0001", getMessage("msg.required.expense.type"));
					flag = false;
				}
			}
			
			if(flag){
				ItemParamsSP params = new ItemParamsSP();
				params.setParam1(vendorMapPayeeId);			
				params.setParam2(contractNo);	
				params.setParam3(vendorId);
				params.setParam4(expenseType);
				params.setParam5(getUserLogIn());
				
				result = service.querySPList(EQueryName.SEM_SAP_ASSGN_CNTRCT_TO_VNDR.name, params);
				
				// -- reload
				if(result != null && result.size() != 0 &&
				   result.get(0).getResultType() != null && 
				   result.get(0).getResultType().equalsIgnoreCase("SUCCESS")){
					
					// -- reload
					this.doReloadAllVendorContent(contractNo, vendorId, vendorMapPayeeId);
					
					flag = true;
				} else {
					flag = false;
				}
			}
			
			// - result dialog -
			resultDialog(result);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
			
			resultDialogException(SEMDataUtility.buildMessage(getMessageByCode("EL0000"), "SEMMMM001Action"));
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doAssignContractToVendor >> END :::");
		}
		return flag;
	}
	
	private boolean doSaveExpenseInfo() {
		LOG.info("::: SEMMMM001Action :: doSaveExpenseInfo >> BEGIN :::");
		boolean flag = true;
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<ItemResultSP> result = null;
			
			String contractNoOld = semmmm001Bean.getExpCntrctOfVndObj().getContractNoOld() == null ? "" : 
				   (String) semmmm001Bean.getExpCntrctOfVndObj().getContractNoOld();
			String contractNo = semmmm001Bean.getExpCntrctOfVndObj().getContractNo() == null ? "" : 
				   (String) semmmm001Bean.getExpCntrctOfVndObj().getContractNo();
			String expenseEffectiveDtStr = semmmm001Bean.getExpCntrctOfVndObj().getExpenseEffectiveDt() == null ? "" : 
				   (String) DateUtil.convertDateTime2StringWithLocale(semmmm001Bean.getExpCntrctOfVndObj().getExpenseEffectiveDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale);
			String vendorMapPayeeId = semmmm001Bean.getVendorInfo().getVendorMapPayeeId() == null ? "" : 
			  	   (String) semmmm001Bean.getVendorInfo().getVendorMapPayeeId();
			String vendorId = semmmm001Bean.getVendorInfo().getVendorId() == null ? "" : 
				   (String) semmmm001Bean.getVendorInfo().getVendorId();
			String expenseType = semmmm001Bean.getExpCntrctOfVndObj().getExpenseType() == null ? "" : 
				   (String) semmmm001Bean.getExpCntrctOfVndObj().getExpenseType();
			String payType = semmmm001Bean.getExpCntrctOfVndObj().getPayType() == null ? "" : 
				   (String) semmmm001Bean.getExpCntrctOfVndObj().getPayType();
			String saveFlag = semmmm001Bean.getVendorInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getVendorInfo().getSaveFlag();
			LOG.debug("doSaveExpenseInfo() saveFlag : "+saveFlag);
			String withoutContractFlag = semmmm001Bean.getExpCntrctOfVndObj().isChkWithoutContract() ? "Y" : "N";
			String withoutContractRemark = semmmm001Bean.getVendorInfo().getRemarkWithoutContract() == null ? "" : 
				   (String)semmmm001Bean.getVendorInfo().getRemarkWithoutContract();
			
			if(withoutContractFlag.equalsIgnoreCase("Y")){
				if(StringUtils.isEmpty(withoutContractRemark)){
					addMessageError("W0001", getMessage("msg.required.remark"));
					flag = false;
				}
			} else {
				if(semmmm001Bean.getVendorInfo().getSaveFlag() != null &&
				   semmmm001Bean.getVendorInfo().getSaveFlag().equalsIgnoreCase("N")){
					if(StringUtils.isEmpty(contractNo)){ 
						addMessageError("W0001", getMessage("msg.required.contract.number"));
						flag = false;
					} else if(StringUtils.isEmpty(expenseEffectiveDtStr)){ 
						addMessageError("W0001", "Effective Date");
						flag = false;
					} else if(StringUtils.isEmpty(expenseType)){ 
						addMessageError("W0001", getMessage("msg.required.expense.type"));
						flag = false;
					}
				}
			}
			
			if(flag){
				ItemParamsSP params = new ItemParamsSP();
				params.setParam1(vendorMapPayeeId);			
				params.setParam2(vendorId);	
				params.setParam3(contractNo);
				params.setParam4(expenseEffectiveDtStr);
				params.setParam5(expenseType);
				params.setParam6(payType);
				params.setParam7(withoutContractFlag);
				params.setParam8(withoutContractRemark);
				params.setParam9(getUserLogIn());
				params.setParam10(contractNoOld); // --
				params.setParam11(saveFlag);
				result = service.querySPList(EQueryName.SEM_SAP_EXP_WTH_CNTRT_OF_VNDR.name, params);
				
				// -- reload
				if(result != null && result.size() != 0 &&
				   result.get(0).getResultType() != null && 
				   result.get(0).getResultType().equalsIgnoreCase("SUCCESS")){
					
					if(result.get(0).getVendorMapPayeeId() != null){
						semmmm001Bean.getVendorInfo().setVendorMapPayeeId(result.get(0).getVendorMapPayeeId());
					}
					
					// -- contract of vendor list
					this.doGetContractOfVendorByVendorParam(contractNo, vendorId);
					
					flag = true;
				} else {
					flag = false;
				}
			}
			
			// - result dialog -
			//resultDialog(result);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSaveExpenseInfo >> END :::");
		}
		return flag;
	}
	
	private boolean doViewVendorSAPInfo() {
		LOG.info("::: SEMMMM001Action :: doViewVendorSAPInfo >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001VendorSP> vendorResultList = new ArrayList<Mmm001VendorSP>();
			
			semmmm001Bean.setVendorAddrObj(new Mmm001AddressSP()); 		// clear object
			semmmm001Bean.setRentalAddrObj(new Mmm001AddressSP()); 		// clear object
			semmmm001Bean.setElectrictAddrObj(new Mmm001AddressSP()); 	// clear object
			semmmm001Bean.setPropertyAddrObj(new Mmm001AddressSP()); 	// clear object
			semmmm001Bean.setInsureAddrObj(new Mmm001AddressSP()); 		// clear object
			semmmm001Bean.setConstructAddrObj(new Mmm001AddressSP()); 	// clear object
			semmmm001Bean.setWithholdAddrObj(new Mmm001AddressSP()); 	// clear object
			
			semmmm001Bean.setVendorInfoMissMatchWithSAPObj(new Mmm001VendorSP());	// clear object
			
			String rowId = getFacesUtils().getRequestParameter("rowIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("rowIdParam");
			
			String saveFlag = semmmm001Bean.getVendorInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getVendorInfo().getSaveFlag();
			
			LOG.debug(">> rowId: " + rowId);
			LOG.debug(">> saveFlag: " +saveFlag);
			
			List<WrapperBeanObject<Mmm001VendorSP>> tmpPopupSAPList = semmmm001Bean.getPopupSAPVendorlist();
			if(tmpPopupSAPList != null && !rowId.equals("")){
				// -- detail (SAP)
				Mmm001VendorSP tmpVendorParams = new Mmm001VendorSP();
				Mmm001VendorSP vendorSAPObj = new Mmm001VendorSP();
				for(WrapperBeanObject<Mmm001VendorSP> obj : tmpPopupSAPList){
					vendorSAPObj = (Mmm001VendorSP)obj.getDataObj();
					if(vendorSAPObj.getRowId().equals(rowId)){
						tmpVendorParams.setVendorId(semmmm001Bean.getVendorInfo().getVendorId());
						tmpVendorParams.setSaveFlag(semmmm001Bean.getVendorInfo().getSaveFlag());
						tmpVendorParams.setVendorCode(vendorSAPObj.getVendorCode());
						tmpVendorParams.setVendorName(vendorSAPObj.getVendorName());
						tmpVendorParams.setVendorName1(vendorSAPObj.getVendorName1());
						tmpVendorParams.setVendorName2(vendorSAPObj.getVendorName2());
						tmpVendorParams.setVendorName3(vendorSAPObj.getVendorName3());
						tmpVendorParams.setVendorName4(vendorSAPObj.getVendorName4());
						tmpVendorParams.setTitleName(vendorSAPObj.getTitleName());
						tmpVendorParams.setIdCard(vendorSAPObj.getIdCard());
						tmpVendorParams.setVendorBlockStatus(vendorSAPObj.getVendorBlockStatus());
						tmpVendorParams.setCompany(vendorSAPObj.getCompany());
						tmpVendorParams.setWhtType(vendorSAPObj.getWhtType());
						tmpVendorParams.setWhtCode(vendorSAPObj.getWhtCode());
						tmpVendorParams.setRecipientType(vendorSAPObj.getRecipientType());
						
						tmpVendorParams.setAddress1(vendorSAPObj.getAddress1());
						tmpVendorParams.setAddress2(vendorSAPObj.getAddress2());
						tmpVendorParams.setTambolName(vendorSAPObj.getTambolName());
						tmpVendorParams.setAmphurName(vendorSAPObj.getAmphurName());
						tmpVendorParams.setProvince(vendorSAPObj.getProvince());
						tmpVendorParams.setPostCode(vendorSAPObj.getPostCode());
						tmpVendorParams.setTelephone(vendorSAPObj.getTelephone());
						tmpVendorParams.setMobileNo(vendorSAPObj.getMobileNo());
						tmpVendorParams.setFax(vendorSAPObj.getFax());
						tmpVendorParams.setEmail(vendorSAPObj.getEmail());
						break;
					}
				}
				vendorResultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_DETAIL_SAP.name, tmpVendorParams);
				semmmm001Bean.setVendorInfo(new Mmm001VendorSP()); // clear object
				
				if(vendorResultList != null && vendorResultList.size() != 0) {
					Mmm001VendorSP obj = (Mmm001VendorSP) vendorResultList.get(0);
					
					if(saveFlag.equalsIgnoreCase("C")){
						semmmm001Bean.setVendorInfoCmpObj(obj);
						semmmm001Bean.getVendorInfoCmpObj().setChkVAT(obj.getIncludeVAT() != null && obj.getIncludeVAT().equalsIgnoreCase("Y") ? true : false);
						
						// -- address and contact info
						semmmm001Bean.getVendorAddrCmpObj().setAddress1(obj.getAddress1());
						semmmm001Bean.getVendorAddrCmpObj().setAddress2(obj.getAddress1());
						semmmm001Bean.getVendorAddrCmpObj().setTambol(obj.getTambol());
						semmmm001Bean.getVendorAddrCmpObj().setAmphur(obj.getAmphur());
						semmmm001Bean.getVendorAddrCmpObj().setProvince(obj.getProvince());
						semmmm001Bean.getVendorAddrCmpObj().setPostCode(obj.getPostCode());
						
						semmmm001Bean.getVendorAddrCmpObj().setTelephone(obj.getTelephone());
						semmmm001Bean.getVendorAddrCmpObj().setMobileNo(obj.getMobileNo());
						semmmm001Bean.getVendorAddrCmpObj().setFax(obj.getFax());
						semmmm001Bean.getVendorAddrCmpObj().setEmail(obj.getEmail());
						
						semmmm001Bean.getVendorAddrCmpObj().setChkTambolOther(obj.getTambol() != null && obj.getTambol().equalsIgnoreCase("X") ? true : false);
						semmmm001Bean.getVendorAddrCmpObj().setChkAmphurOther(obj.getAmphur() != null && obj.getAmphur().equalsIgnoreCase("X") ? true : false);
						semmmm001Bean.getVendorAddrCmpObj().setTambolName(semmmm001Bean.getVendorAddrCmpObj().isChkTambolOther() ? obj.getTambolName() : "");
						semmmm001Bean.getVendorAddrCmpObj().setAmphurName(semmmm001Bean.getVendorAddrCmpObj().isChkAmphurOther() ? obj.getAmphurName() : "");
						
						semmmm001Bean.getVendorAddrCmpObj().setChkLocalDepartment(false);
						semmmm001Bean.getVendorAddrCmpObj().setChkTelephoneSapFlag(obj.getTelephone() != null && !obj.getTelephone().isEmpty() ? true : false);
						semmmm001Bean.getVendorAddrCmpObj().setChkMobileNoSapFlag(obj.getMobileNo() != null && !obj.getMobileNo().isEmpty() ? true : false);
						semmmm001Bean.getVendorAddrCmpObj().setChkFaxSapFlag(obj.getFax() != null && !obj.getFax().isEmpty() ? true : false);
						semmmm001Bean.getVendorAddrCmpObj().setChkEmailSapFlag(obj.getEmail() != null && !obj.getEmail().isEmpty() ? true : false);
					} else {
						semmmm001Bean.setVendorInfo(obj);
						semmmm001Bean.getVendorInfo().setChkVAT(obj.getIncludeVAT() != null && obj.getIncludeVAT().equalsIgnoreCase("Y") ? true : false);
						
						// -- address and contact info
						semmmm001Bean.getVendorAddrObj().setAddress1(obj.getAddress1());
						semmmm001Bean.getVendorAddrObj().setAddress2(obj.getAddress1());
						semmmm001Bean.getVendorAddrObj().setTambol(obj.getTambol());
						semmmm001Bean.getVendorAddrObj().setAmphur(obj.getAmphur());
						semmmm001Bean.getVendorAddrObj().setProvince(obj.getProvince());
						semmmm001Bean.getVendorAddrObj().setPostCode(obj.getPostCode());
						
						semmmm001Bean.getVendorAddrObj().setTelephone(obj.getTelephone());
						semmmm001Bean.getVendorAddrObj().setMobileNo(obj.getMobileNo());
						semmmm001Bean.getVendorAddrObj().setFax(obj.getFax());
						semmmm001Bean.getVendorAddrObj().setEmail(obj.getEmail());
						
						semmmm001Bean.getVendorAddrObj().setChkTambolOther(obj.getTambol() != null && obj.getTambol().equalsIgnoreCase("X") ? true : false);
						semmmm001Bean.getVendorAddrObj().setChkAmphurOther(obj.getAmphur() != null && obj.getAmphur().equalsIgnoreCase("X") ? true : false);
						semmmm001Bean.getVendorAddrObj().setTambolName(semmmm001Bean.getVendorAddrObj().isChkTambolOther() ? obj.getTambolName() : "");
						semmmm001Bean.getVendorAddrObj().setAmphurName(semmmm001Bean.getVendorAddrObj().isChkAmphurOther() ? obj.getAmphurName() : "");
						
						semmmm001Bean.getVendorAddrObj().setChkLocalDepartment(false);
						semmmm001Bean.getVendorAddrObj().setChkTelephoneSapFlag(obj.getTelephone() != null && !obj.getTelephone().isEmpty() ? true : false);
						semmmm001Bean.getVendorAddrObj().setChkMobileNoSapFlag(obj.getMobileNo() != null && !obj.getMobileNo().isEmpty() ? true : false);
						semmmm001Bean.getVendorAddrObj().setChkFaxSapFlag(obj.getFax() != null && !obj.getFax().isEmpty() ? true : false);
						semmmm001Bean.getVendorAddrObj().setChkEmailSapFlag(obj.getEmail() != null && !obj.getEmail().isEmpty() ? true : false);
						
					}
					
					this.doSetOwnerLocation();
					semmmm001Bean.setDisableContent(true); 
					semmmm001Bean.setDisableEditVendorContent(true);
				}
			
			}
			 
			semmmm001Bean.setDisableBtnEditVendor(false);
			semmmm001Bean.setDisableBtnSaveVendor(true);
			semmmm001Bean.setRenderedPnlCmpVendorInfo(false);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			LOG.debug("getNewVendorFlag : "+semmmm001Bean.getNewVendorFlag());
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewVendorSAPInfo >> END :::");
		}
		return flag;
	}
	
	private boolean doViewBookbankByCaseNewBookbank() {
		LOG.info("::: SEMMMM001Action :: doViewBookbankByCaseNewBookbank >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String vendorBookbankId = getFacesUtils().getRequestParameter("vendorBookbankIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorBookbankIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");

			String saveFlag = semmmm001Bean.getBookbankInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getBookbankInfo().getSaveFlag();
			
			this.doGetVBRequestParam();
			if(saveFlag.equalsIgnoreCase("C")){
				// -- bookbank info (CMP)
				this.doGetBookbankInfoCmpByBookbankParam(contractNo, vendorId, vendorBookbankId, vendorMapPayeeId);
				
				semmmm001Bean.setRenderedPnlCmpBookbankInfo(true);
			} else {
				// -- vendor detail
//				this.doGetVendorInfoByVendorParam(contractNo, vendorId);
				
				// -- bookbank info
//				this.doGetBookbankInfoByBookbankParam(contractNo, vendorId, vendorBookbankId);
				
				// -- contract of bookbank list
				this.doGetContractOfBookbankByBookbankParam(vendorId, vendorBookbankId);
				
				
				semmmm001Bean.setDisableContent(true); 
				semmmm001Bean.setDisableEditBookbankContent(true); 
				
				semmmm001Bean.setDisableBtnSaveBookbank(true);
				semmmm001Bean.setDisableBtnEditBookbank(false);
				
				semmmm001Bean.setRenderedPnlCmpBookbankInfo(false);
			} 
			
			// 2017/08/24 -- enabled BtnSendToMng (Bookbank) when flowStatus 01, 03, 05, 07
			String bookbankFlowStatus = semmmm001Bean.getBookbankInfo().getBookbankFlowStatus() == null ? "" : 
				   (String) semmmm001Bean.getBookbankInfo().getBookbankFlowStatus();
			if(!vendorBookbankId.isEmpty() && StringUtils.indexOf("X01,03,05,07", bookbankFlowStatus, 0) > 0)
				semmmm001Bean.setDisableBtnSendManagerVB(false);
			else
				semmmm001Bean.setDisableBtnSendManagerVB(true);
			
			
			this.doManageVBDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewBookbankByCaseNewBookbank >> END :::");
		}
		return flag;
	}
	
	private boolean doViewBookbankByVendorBookbankId() {
		LOG.info("::: SEMMMM001Action :: doViewBookbankByVendorBookbankId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String vendorBookbankId = getFacesUtils().getRequestParameter("vendorBookbankIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorBookbankIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");

			String saveFlag = semmmm001Bean.getBookbankInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getBookbankInfo().getSaveFlag();
			
			this.doGetVBRequestParam();
			if(saveFlag.equalsIgnoreCase("C")){
				// -- bookbank info (CMP)
				this.doGetBookbankInfoCmpByBookbankParam(contractNo, vendorId, vendorBookbankId, vendorMapPayeeId);
				
				semmmm001Bean.setRenderedPnlCmpBookbankInfo(true);
			} else {
				// -- vendor detail
				this.doGetVendorInfoByVendorParam(contractNo, vendorId, vendorMapPayeeId);
				
				// -- bookbank info
				this.doGetBookbankInfoByBookbankParam(contractNo, vendorId, vendorBookbankId, vendorMapPayeeId);
				
				// -- contract of bookbank list
				this.doGetContractOfBookbankByBookbankParam(vendorId, vendorBookbankId);
				
				
				semmmm001Bean.setDisableContent(true); 
				semmmm001Bean.setDisableEditBookbankContent(true); 
				
				semmmm001Bean.setDisableBtnSaveBookbank(true);
				semmmm001Bean.setDisableBtnEditBookbank(false);
				
				semmmm001Bean.setRenderedPnlCmpBookbankInfo(false);
			} 
			
			// 2017/08/24 -- enabled BtnSendToMng (Bookbank) when flowStatus 01, 03, 05, 07
			String bookbankFlowStatus = semmmm001Bean.getBookbankInfo().getBookbankFlowStatus() == null ? "" : 
				   (String) semmmm001Bean.getBookbankInfo().getBookbankFlowStatus();
			if(!vendorBookbankId.isEmpty() && StringUtils.indexOf("X01,03,05,07", bookbankFlowStatus, 0) > 0)
				semmmm001Bean.setDisableBtnSendManagerVB(false);
			else
				semmmm001Bean.setDisableBtnSendManagerVB(true);
			
			
			this.doManageVBDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewBookbankByVendorBookbankId >> END :::");
		}
		return flag;
	}
	
	private boolean doViewBookbankFromVendor() {
		LOG.info("::: SEMMMM001Action :: doViewBookbankFromVendor >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String vendorBookbankId = getFacesUtils().getRequestParameter("vendorBookbankIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorBookbankIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");

			String saveFlag = semmmm001Bean.getBookbankInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getBookbankInfo().getSaveFlag();
			
			this.doGetVBRequestParam();
			if(saveFlag.equalsIgnoreCase("C")){
				// -- bookbank info (CMP)
				this.doGetBookbankInfoCmpByBookbankParam(contractNo, vendorId, vendorBookbankId, vendorMapPayeeId);
				
				semmmm001Bean.setRenderedPnlCmpBookbankInfo(true);
			} else {
				// -- vendor detail
//				this.doGetVendorInfoByVendorParam(contractNo, vendorId);
				
				// -- bookbank info
				this.doGetBookbankInfoByBookbankParam(contractNo, vendorId, vendorBookbankId, vendorMapPayeeId);
				
				// -- contract of bookbank list
				this.doGetContractOfBookbankByBookbankParam(vendorId, vendorBookbankId);
				
				
				semmmm001Bean.setDisableContent(true); 
				semmmm001Bean.setDisableEditBookbankContent(true); 
				
				semmmm001Bean.setDisableBtnSaveBookbank(true);
				semmmm001Bean.setDisableBtnEditBookbank(false);
				
				semmmm001Bean.setRenderedPnlCmpBookbankInfo(false);
			} 
			
			// 2017/08/24 -- enabled BtnSendToMng (Bookbank) when flowStatus 01, 03, 05, 07
			String bookbankFlowStatus = semmmm001Bean.getBookbankInfo().getBookbankFlowStatus() == null ? "" : 
				   (String) semmmm001Bean.getBookbankInfo().getBookbankFlowStatus();
			if(!vendorBookbankId.isEmpty() && StringUtils.indexOf("X01,03,05,07", bookbankFlowStatus, 0) > 0)
				semmmm001Bean.setDisableBtnSendManagerVB(false);
			else
				semmmm001Bean.setDisableBtnSendManagerVB(true);
			
			semmmm001Bean.setFromVendorFlag(true);
			semmmm001Bean.setFromPayeeFlag(false);
			this.doManageVBDetailBtn();
//			this.doCheckBBGSB();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewBookbankFromVendor >> END :::");
		}
		return flag;
	}
	
	private boolean doCancelBookbankByVendorBookbankId() {
		LOG.info("::: SEMMMM001Action :: doCancelBookbankByVendorBookbankId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String vendorBookbankId = getFacesUtils().getRequestParameter("vendorBookbankIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorBookbankIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");

//			String saveFlag = semmmm001Bean.getBookbankInfo().getSaveFlag() == null ? "" : 
//				   (String) semmmm001Bean.getBookbankInfo().getSaveFlag();
			
			String saveFlag = getFacesUtils().getRequestParameter("btnActionType") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("btnActionType");
			
			this.doGetVBRequestParam();
			if(saveFlag.equalsIgnoreCase("C")){
				// -- bookbank info (CMP)
				this.doGetBookbankInfoCmpByBookbankParam(contractNo, vendorId, vendorBookbankId, vendorMapPayeeId);
				
				semmmm001Bean.setRenderedPnlCmpBookbankInfo(true);
			} else {
				// -- vendor detail
				this.doGetVendorInfoByVendorParam(contractNo, vendorId, vendorMapPayeeId);
				
				// -- bookbank info
				this.doGetBookbankInfoByBookbankParam(contractNo, vendorId, vendorBookbankId, vendorMapPayeeId);
				
				// -- contract of bookbank list
				this.doGetContractOfBookbankByBookbankParam(vendorId, vendorBookbankId);
				
				
				semmmm001Bean.setDisableContent(true); 
				semmmm001Bean.setDisableEditBookbankContent(true); 
				
				semmmm001Bean.setDisableBtnSaveBookbank(true);
				semmmm001Bean.setDisableBtnEditBookbank(false);
				
				semmmm001Bean.setRenderedPnlCmpBookbankInfo(false);
			} 
			
			// 2017/08/24 -- enabled BtnSendToMng (Bookbank) when flowStatus 01, 03, 05, 07
			String bookbankFlowStatus = semmmm001Bean.getBookbankInfo().getBookbankFlowStatus() == null ? "" : 
				   (String) semmmm001Bean.getBookbankInfo().getBookbankFlowStatus();
			if(!vendorBookbankId.isEmpty() && StringUtils.indexOf("X01,03,05,07", bookbankFlowStatus, 0) > 0)
				semmmm001Bean.setDisableBtnSendManagerVB(false);
			else
				semmmm001Bean.setDisableBtnSendManagerVB(true);
			
			//clear Account No Max Length
			if(semmmm001Bean.getBookbankInfo().getAccountNo() != null && StringUtils.isNotEmpty(semmmm001Bean.getBookbankInfo().getAccountNo())){
				int maxLength = semmmm001Bean.getBookbankInfo().getAccountNo().length();
				LOG.debug("maxLength : "+maxLength);
				semmmm001Bean.setAccountNoMaxLength(String.valueOf(maxLength));
			}else{
				semmmm001Bean.setAccountNoMaxLength("");
			}
			semmmm001Bean.setAccountNoMaxLengthCmp("");
			
			this.doManageVBDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doCancelBookbankByVendorBookbankId >> END :::");
		}
		return flag;
	}
	
	private void doGetVBRequestParam(){
		semmmm001Bean = getSemmmm001Bean();
		try{
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String vendorBookbankId = getFacesUtils().getRequestParameter("vendorBookbankIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorBookbankIdParam");
			
			
			semmmm001Bean.getSemmmm001ReqParam().setContractNoVB(contractNo);
			semmmm001Bean.getSemmmm001ReqParam().setVendorIdVB(vendorId);
			semmmm001Bean.getSemmmm001ReqParam().setVendorBookbankId(vendorBookbankId);
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action doGetVBRequestParam : "+e);
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
	}
	
	private boolean doEditBookbankByVendorBookbankId() {
		LOG.info("::: SEMMMM001Action :: doEditBookbankByVendorBookbankId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			semmmm001Bean.setRenderedPnlCmpBookbankInfo(false);
			
			semmmm001Bean.setDisableContent(true);
			semmmm001Bean.setDisableEditBookbankContent(false); 
			
			semmmm001Bean.setDisableBtnNewBookbank(false);
			semmmm001Bean.setDisableBtnSaveBookbank(false);
			
			// temp param for saveFlag
			semmmm001Bean.getBookbankInfo().setSaveFlag("E"); //EDIT
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doEditBookbankByVendorBookbankId >> END :::");
		}
		return flag;
	}
	
	private boolean doChangeBookbank() {
		LOG.info("::: SEMMMM001Action :: doChangeBookbank >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			semmmm001Bean.setBookbankInfoCmpObj(new Mmm001BookbankSP());
			
			// -- 2017/07/23 -- default bookbankStatus
			semmmm001Bean.getBookbankInfoCmpObj().setBookbankStatus("01");
			
			//default bookbank name BY vendor name
			if(semmmm001Bean.getBookbankInfoCmpObj().getAccountName() == null || StringUtils.equals("", semmmm001Bean.getBookbankInfoCmpObj().getAccountName())){
				if(semmmm001Bean.getVendorInfo().getVendorName1() != null){
					semmmm001Bean.getBookbankInfoCmpObj().setAccountName(semmmm001Bean.getVendorInfo().getVendorName1());
				}
			}
			
			semmmm001Bean.setDisableContent(true); 
			semmmm001Bean.setDisableEditBookbankContent(true); 
			
			semmmm001Bean.setDisableBtnSaveBookbank(false);

			semmmm001Bean.setRenderedPnlCmpBookbankInfo(true);
			
			// temp param for saveFlag
			semmmm001Bean.getBookbankInfo().setSaveFlag("C"); //CHANGE
			
			this.doManageVBDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doChangeBookbank >> END :::");
		}
		return flag;
	}

	private boolean doDeleteBookbankByVendorBookbankId() {
		LOG.info("::: SEMMMM001Action :: doDeleteBookbankByVendorBookbankId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String vendorBookbankId = getFacesUtils().getRequestParameter("vendorBookbankIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorBookbankIdParam");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> vendorBookbankId: " + vendorBookbankId);

			flag = this.doDeleteByRowId("VB", vendorBookbankId);
			
			if(flag)
				flag = this.doNewBookbank();
			
			semmmm001Bean.setContractList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
			semmmm001Bean.setRenderedPnlCmpBookbankInfo(false);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doDeleteBookbankByVendorBookbankId >> END :::");
		}
		return flag;
	}
	
	private boolean doDeleteBookbankMaster() {
		LOG.info("::: SEMMMM001Action :: doDeleteBookbankMaster >> BEGIN :::");
		boolean flag = true;
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorIdParam");
			String vendorBookbankId = getFacesUtils().getRequestParameter("vendorBookbankIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorBookbankIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> vendorBookbankId: " + vendorBookbankId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);

			if(!vendorId.isEmpty() && !vendorBookbankId.isEmpty()){
				// -- call delete master
				this.doDeleteMaster("VB", "", vendorId, vendorBookbankId, "", "", contractNo);
				
				// -- bookbank Get data
				this.doGetBookbankInfoByVendorBookbankId(contractNo, vendorId,
						vendorBookbankId, vendorMapPayeeId);
				
				// -- bookbank of vendor list
				this.doGetVendorBookbankByVendorParam(contractNo, vendorId);
			}
			
			this.doManageVBDetailBtn();
//			this.doValidateBtnPage();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doDeleteBookbankMaster >> END :::");
		}
		return flag;
	}
	
	private boolean doSendToMNGByVendorBookbankId() {
		LOG.info("::: SEMMMM001Action :: doSendToMNGByVendorBookbankId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorIdParam");
			String vendorBookbankId = getFacesUtils().getRequestParameter("vendorBookbankIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorBookbankIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> vendorBookbankId: " + vendorBookbankId);
			
			flag = this.doSendToMNG("VB", vendorId, vendorBookbankId, "", "");
			LOG.debug("semmmm001Bean.getRetResultObj().getResultMessage() : "+semmmm001Bean.getRetResultObj().getResultMessage());
			if(flag){
				this.doGetBookbankInfoByVendorBookbankId(contractNo, vendorId,
						vendorBookbankId, vendorMapPayeeId);
				// -- bookbank of vendor list
				this.doGetVendorBookbankByVendorParam(contractNo, 
						vendorId);
				LOG.debug("semmmm001Bean.getRetResultObj().getResultMessage() : "+semmmm001Bean.getRetResultObj().getResultMessage());
				semmmm001Bean.setRenderedPnlCmpBookbankInfo(false);
				flag = true;
				
//				addGeneralMessageInfo("success !!");
				this.doManageVBDetailBtn();
				semmmm001Bean.setRenderedResultMsgAlert(true);
			}
//				flag = this.doViewVendorByVendorId();
			LOG.debug("semmmm001Bean.getRetResultObj().getResultMessage() : "+semmmm001Bean.getRetResultObj().getResultMessage());
			semmmm001Bean.setRenderedPnlCmpBookbankInfo(false);
			
		
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSendToMNGByVendorBookbankId >> END :::");
		}
		return flag;
	}
	
	private boolean doSaveBookbankInfo() {
		LOG.info("::: SEMMMM001Action :: doSaveBookbankInfo >> BEGIN :::");
		boolean flag = true;
		semmmm001Bean = getSemmmm001Bean();
		try {
			
			
			semmmm001Bean.setSaveSuccessFlag(false);
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<ItemResultSP> result = null;
			
			String saveFlag = semmmm001Bean.getBookbankInfo() == null ? "" : 
				   (String)semmmm001Bean.getBookbankInfo().getSaveFlag();
			
			String validateFlag = getFacesUtils().getRequestParameter("validateFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("validateFlag");
			String validateCaseId = getFacesUtils().getRequestParameter("validateCaseId") == null ? "" : (String)getFacesUtils().getRequestParameter("validateCaseId");
			
			LOG.debug(">>> saveFlag: " + saveFlag);
			LOG.debug(">>> contractInfoObj: " + semmmm001Bean.getContractInfo().toString());
			LOG.debug(">>> validateFlag: " + validateFlag);
			LOG.debug(">>> validateCaseId: " + validateCaseId);
			
			
			if(!doValidateBookbankMaster()){
				semmmm001Bean.setRenderedResultMsgAlert(false);
				flag = false;
			}
			
			
			
			if(saveFlag.equals("C")){ // CHANGE
				if(flag){
					semmmm001Bean.getBookbankInfoCmpObj().setSaveFlag("C");
					semmmm001Bean.getBookbankInfoCmpObj().setContractNo(semmmm001Bean.getContractInfo().getContractNo());
					semmmm001Bean.getBookbankInfoCmpObj().setVendorId(semmmm001Bean.getVendorInfo().getVendorId());
					semmmm001Bean.getBookbankInfoCmpObj().setVendorBookbankId(semmmm001Bean.getBookbankInfo().getVendorBookbankId());
					semmmm001Bean.getBookbankInfoCmpObj().setUpdateBy(getUserLogIn());

					semmmm001Bean.getBookbankInfoCmpObj().setValidateFlag(validateFlag);
					semmmm001Bean.getBookbankInfoCmpObj().setValidateCaseId(validateCaseId);
					
					LOG.debug(">>> bookbankInfoCmpObj: " + semmmm001Bean.getBookbankInfoCmpObj().toString());
					result = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_SAVE_DRAFT.name, semmmm001Bean.getBookbankInfoCmpObj());
				}
			} else { // NEW, EDIT
//			if(flag){
//					if(saveFlag.equals("C")){
//						semmmm001Bean.getBookbankInfo().setSaveFlag("C");
//					}
//						
//					
					semmmm001Bean.getBookbankInfo().setContractNo(semmmm001Bean.getContractInfo().getContractNo());
					semmmm001Bean.getBookbankInfo().setVendorId(semmmm001Bean.getVendorInfo().getVendorId());
					semmmm001Bean.getBookbankInfo().setUpdateBy(getUserLogIn());
					

					semmmm001Bean.getBookbankInfo().setValidateFlag(validateFlag);
					semmmm001Bean.getBookbankInfo().setValidateCaseId(validateCaseId);
					
					LOG.debug(">>> bookbankInfoObj: " + semmmm001Bean.getBookbankInfo().toString());
					
					LOG.debug("getContractNo : "+semmmm001Bean.getBookbankInfo().getContractNo());
					LOG.debug("getVendorId : "+semmmm001Bean.getBookbankInfo().getVendorId());
					LOG.debug("getUpdateBy : "+semmmm001Bean.getBookbankInfo().getUpdateBy());
					result = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_SAVE_DRAFT.name, semmmm001Bean.getBookbankInfo());
				
			}
			
			// -- reload
			if(result != null && result.size() != 0 &&
			   result.get(0).getResultType() != null && 
			   result.get(0).getResultType().equalsIgnoreCase("SUCCESS")){
				
				//send email
				if(StringUtils.equals("Y", semmmm001Bean.getRetResultObj().getEmailFlag())){
					EMAILModel email = new EMAILModel();
					boolean sendMailResult = false;
					if(semmmm001Bean.getRetResultObj().getEmailFrom()!=null && !StringUtils.equals("", semmmm001Bean.getRetResultObj().getEmailFrom()))
						email.setEmail_from(semmmm001Bean.getRetResultObj().getEmailFrom());
					if(semmmm001Bean.getRetResultObj().getEmailTo()!=null && !StringUtils.equals("", semmmm001Bean.getRetResultObj().getEmailTo()))
						email.setEmail_to(semmmm001Bean.getRetResultObj().getEmailTo());
					if(semmmm001Bean.getRetResultObj().getEmailSubject()!=null && !StringUtils.equals("", semmmm001Bean.getRetResultObj().getEmailSubject()))
						email.setV_Subject(semmmm001Bean.getRetResultObj().getEmailSubject());
					if(semmmm001Bean.getRetResultObj().getEmailDetail()!=null && !StringUtils.equals("", semmmm001Bean.getRetResultObj().getEmailDetail()))
						email.setV_Message(semmmm001Bean.getRetResultObj().getEmailDetail());
					
//					EmailMessageUtil.sendEmail(emailM);doSendEmail(email);
					
					sendMailResult = EmailMessageUtil.sendEmail(email);
					if(!sendMailResult){
						addGeneralMessageWarn(msg("message.sendmailerror")+" : "+email.getEmail_to());
					}
					LOG.debug("sendMailEesult = "+sendMailResult);
				}
				
//				this.doGetBookbankInfoByVendorBookbankId(semmmm001Bean.getBookbankInfo().getContractNo(), semmmm001Bean.getBookbankInfo().getVendorId(),
//						result.get(0).getResultCode());
				if(!StringUtils.equals("", saveFlag)){
					semmmm001Bean.setRenderedBtnBackHide(true);
				}
				
				this.doGetBookbankInfoAfterSave(semmmm001Bean.getContractInfo().getContractNo(), semmmm001Bean.getVendorInfo().getVendorId(),
						result.get(0).getResultCode(), semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
				// -- bookbank of vendor list
				this.doGetVendorBookbankByVendorParam(semmmm001Bean.getContractInfo().getContractNo(), 
													  semmmm001Bean.getVendorInfo().getVendorId());
				
				semmmm001Bean.setRenderedPnlCmpBookbankInfo(false);
				flag = true;
				
//				addGeneralMessageInfo("success !!");
				this.doManageVBDetailBtn();
				
				//backup new data after save for cancel 
				this.doBackupVBRequestParam();
				
				//clear Account No Max Length
				if(semmmm001Bean.getBookbankInfo().getAccountNo() != null && StringUtils.isNotEmpty(semmmm001Bean.getBookbankInfo().getAccountNo())){
					int maxLength = semmmm001Bean.getBookbankInfo().getAccountNo().length();
					LOG.debug("maxLength : "+maxLength);
					semmmm001Bean.setAccountNoMaxLength(String.valueOf(maxLength));
				}else{
					semmmm001Bean.setAccountNoMaxLength("");
				}
				semmmm001Bean.setAccountNoMaxLengthCmp("");
				
				addMessageInfo("M0001");
			} else {
				flag = false;
			}
		
			// - result dialog -
			resultDialog(result);
			
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
			
			resultDialogException(SEMDataUtility.buildMessage(getMessageByCode("EL0000"), "SEMMMM001Action"));
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			semmmm001Bean.setSaveSuccessFlag(flag);
			LOG.info("::: SEMMMM001Action :: doSaveBookbankInfo >> END :::");
		}
		return flag;
	}
	
	private boolean doGetBookbankInfoAfterSave(String contractNo, String vendorId, String vendorBookbankId,String vendorMapPayeeId) {
		LOG.info("::: SEMMMM001Action :: doGetBookbankInfoByVendorBookbankId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
//
//			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
//				   (String) getFacesUtils().getRequestParameter("contractNoParam");
//			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
//				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
//			String vendorBookbankId = getFacesUtils().getRequestParameter("vendorBookbankIdParam") == null ? "" : 
//				   (String) getFacesUtils().getRequestParameter("vendorBookbankIdParam");

			String saveFlag = semmmm001Bean.getBookbankInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getBookbankInfo().getSaveFlag();
			
			this.doGetVBRequestParam();
//			if(saveFlag.equalsIgnoreCase("C")){
//				// -- bookbank info (CMP)
//				this.doGetBookbankInfoCmpByBookbankParam(contractNo, vendorId, vendorBookbankId);
//				
//				semmmm001Bean.setRenderedPnlCmpBookbankInfo(true);
//			} else {
				// -- vendor detail
				this.doGetVendorInfoByVendorParam(contractNo, vendorId, vendorMapPayeeId);
				
				// -- bookbank info
				this.doGetBookbankInfoByBookbankParam(contractNo, vendorId, vendorBookbankId, vendorMapPayeeId);
				
				// -- contract of bookbank list
				this.doGetContractOfBookbankByBookbankParam(vendorId, vendorBookbankId);
				
				
				semmmm001Bean.setDisableContent(true); 
				semmmm001Bean.setDisableEditBookbankContent(true); 
				
				semmmm001Bean.setDisableBtnSaveBookbank(true);
				semmmm001Bean.setDisableBtnEditBookbank(false);
				
				semmmm001Bean.setRenderedPnlCmpBookbankInfo(false);
//			} 
			
			
//			this.doManageVBDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetBookbankInfoByVendorBookbankId >> END :::");
		}
		return flag;
	}
	
	private boolean doGetBookbankInfoByVendorBookbankId(String contractNo, String vendorId, String vendorBookbankId, String vendorMapPayeeId) {
		LOG.info("::: SEMMMM001Action :: doGetBookbankInfoByVendorBookbankId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
//
//			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
//				   (String) getFacesUtils().getRequestParameter("contractNoParam");
//			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
//				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
//			String vendorBookbankId = getFacesUtils().getRequestParameter("vendorBookbankIdParam") == null ? "" : 
//				   (String) getFacesUtils().getRequestParameter("vendorBookbankIdParam");

			String saveFlag = semmmm001Bean.getBookbankInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getBookbankInfo().getSaveFlag();
			
			this.doGetVBRequestParam();
			if(saveFlag.equalsIgnoreCase("C")){
				// -- bookbank info (CMP)
				this.doGetBookbankInfoCmpByBookbankParam(contractNo, vendorId, vendorBookbankId, vendorMapPayeeId);
				
				semmmm001Bean.setRenderedPnlCmpBookbankInfo(true);
			} else {
				// -- vendor detail
//				this.doGetVendorInfoByVendorParam(contractNo, vendorId);
				
				// -- bookbank info
				this.doGetBookbankInfoByBookbankParam(contractNo, vendorId, vendorBookbankId, vendorMapPayeeId);
				
				// -- contract of bookbank list
				this.doGetContractOfBookbankByBookbankParam(vendorId, vendorBookbankId);
				
				
				semmmm001Bean.setDisableContent(true); 
				semmmm001Bean.setDisableEditBookbankContent(true); 
				
				semmmm001Bean.setDisableBtnSaveBookbank(true);
				semmmm001Bean.setDisableBtnEditBookbank(false);
				
				semmmm001Bean.setRenderedPnlCmpBookbankInfo(false);
			} 
			
			
//			this.doManageVBDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetBookbankInfoByVendorBookbankId >> END :::");
		}
		return flag;
	}
	
	private boolean doViewBookbankSAPInfo() {
		LOG.info("::: SEMMMM001Action :: doViewBookbankSAPInfo >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001BookbankSP> bookbankResultList = new ArrayList<Mmm001BookbankSP>();
			
			String rowId = getFacesUtils().getRequestParameter("rowIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("rowIdParam");
			
			String saveFlag = semmmm001Bean.getBookbankInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getBookbankInfo().getSaveFlag();
			
			LOG.debug(">> rowId: " + rowId);
			LOG.debug(">> saveFlag: " + saveFlag);
			
			List<WrapperBeanObject<Mmm001SAPBookbankSP>> tmpPopupSAPList = semmmm001Bean.getSemSapBookbankList();
			if(tmpPopupSAPList != null && !rowId.equals("")){
				// -- detail (SAP)
				Mmm001SAPBookbankSP tmpBookbankParams = new Mmm001SAPBookbankSP();
				Mmm001SAPBookbankSP bookbankSAPObj = new Mmm001SAPBookbankSP();
				for(WrapperBeanObject<Mmm001SAPBookbankSP> obj : tmpPopupSAPList){
					bookbankSAPObj = (Mmm001SAPBookbankSP)obj.getDataObj();
					if(bookbankSAPObj.getRowId().equals(rowId)){
						tmpBookbankParams.setAccountNo(bookbankSAPObj.getAccountNo());
						tmpBookbankParams.setAccountName(bookbankSAPObj.getAccountName());
						tmpBookbankParams.setAccountType(bookbankSAPObj.getAccountType());
						tmpBookbankParams.setBankCode(bookbankSAPObj.getBankCode());
						break;
					}
				}
				
				bookbankResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_DETAIL_SAP.name, tmpBookbankParams);
				// xxx
				
				if(bookbankResultList != null && bookbankResultList.size() != 0) {
					LOG.debug(">> bookbankResultList.size() = " + bookbankResultList.size());
					Mmm001BookbankSP obj = (Mmm001BookbankSP) bookbankResultList.get(0);
					
					if(saveFlag.equalsIgnoreCase("C")){
						semmmm001Bean.setBookbankInfoCmpObj(new Mmm001BookbankSP()); // clear object
						
						semmmm001Bean.setBookbankInfoCmpObj(obj);
						this.doFillinBookbankInfoCmp();
						
						semmmm001Bean.setRenderedPnlCmpBookbankInfo(true);
					} else {
						semmmm001Bean.setBookbankInfo(new Mmm001BookbankSP()); // clear object
						
						semmmm001Bean.setBookbankInfo(obj);
						this.doFillinBookbankInfo();
						
						semmmm001Bean.setDisableContent(true); 
						semmmm001Bean.setDisableBtnEditBookbank(false);
						semmmm001Bean.setRenderedPnlCmpBookbankInfo(false);
						
					} 
				}
			}
						
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewBookbankSAPInfo >> END :::");
		}
		return flag;
	}
	
	private boolean doViewPayeeCaseNewPayee() {
		LOG.info("::: SEMMMM001Action :: doViewPayeeCaseNewPayee >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("payeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			String btnActionType = getFacesUtils().getRequestParameter("btnActionType") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("btnActionType");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);

			if(!StringUtils.equals("N", btnActionType)){
				this.doGetPYRequestParam();
			}
			
			
			if(contractNo.isEmpty()){
				semmmm001Bean.setVisiblePnlContractInfo(false);
			} else {
				semmmm001Bean.setVisiblePnlContractInfo(true);
			}
			
			
			// -- contract info + vendor of contract list
			this.doGetContractInfoByContractParam(contractNo);
			
			// -- vendor detail
//			this.doGetVendorInfoByVendorParam(contractNo, vendorId);
			
			// -- contract of vendor list
			this.doGetContractOfVendorByVendorParam(contractNo, vendorId);
			
			// -- payee detail
//			this.doGetPayeeInfoByPayeeParam(contractNo, vendorId, payeeId, vendorMapPayeeId);
			
			// -- payee address
//			this.doGetPayeeAddressByVendorParam(contractNo, payeeId);
			
			// -- bookbank of payee list
//			this.doGetBookbankPayeeByPayeeParam(contractNo, vendorId, payeeId, vendorMapPayeeId);
			
			// -- contract of payee list
			this.doGetContractOfPayeeByPayeeParam(vendorId, payeeId);
			
			this.doSetPayeeLocation();
			
			semmmm001Bean.setDisableContent(true); 
			semmmm001Bean.setDisableEditPayeeContent(true); 
			
			semmmm001Bean.setDisableBtnSavePayee(true);
			semmmm001Bean.setDisableBtnEditPayee(false);
			
			semmmm001Bean.setRenderedPnlCmpPayeeInfo(false);
			
			// 2017/08/24 -- enabled BtnSendToMng (Payee) when flowStatus 01, 03, 05, 07
			String payeeFlowStatus = semmmm001Bean.getPayeeInfo().getPayeeFlowStatus() == null ? "" : 
				   (String) semmmm001Bean.getPayeeInfo().getPayeeFlowStatus();
			if(!payeeId.isEmpty() && StringUtils.indexOf("X01,03,05,07", payeeFlowStatus, 0) > 0)
				semmmm001Bean.setDisableBtnSendManagerPY(false);
			else
				semmmm001Bean.setDisableBtnSendManagerPY(true);
			
			if(!StringUtils.equals("", vendorMapPayeeId)){
				semmmm001Bean.getVendorInfo().setVendorMapPayeeId(vendorMapPayeeId);
			}
			
			this.doManagePYDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewPayeeCaseNewPayee >> END :::");
		}
		return flag;
	}
	
	private boolean doViewPayeeByPayeeId() {
		LOG.info("::: SEMMMM001Action :: doViewPayeeByPayeeId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("payeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			String btnActionType = getFacesUtils().getRequestParameter("btnActionType") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("btnActionType");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);

			if(!StringUtils.equals("N", btnActionType)){
				this.doGetPYRequestParam();
			}
			
			
			if(contractNo.isEmpty()){
				semmmm001Bean.setVisiblePnlContractInfo(false);
			} else {
				semmmm001Bean.setVisiblePnlContractInfo(true);
			}
			
			
			// -- contract info + vendor of contract list
			this.doGetContractInfoByContractParam(contractNo);
			
			// -- vendor detail
			this.doGetVendorInfoByVendorParam(contractNo, vendorId, vendorMapPayeeId);
			
			// -- contract of vendor list
			this.doGetContractOfVendorByVendorParam(contractNo, vendorId);
			
			// -- payee detail
			this.doGetPayeeInfoByPayeeParam(contractNo, vendorId, payeeId, vendorMapPayeeId);
			
			// -- payee address
			this.doGetPayeeAddressByVendorParam(contractNo, payeeId);
			
			// -- bookbank of payee list
			this.doGetBookbankPayeeByPayeeParam(contractNo, vendorId, payeeId, vendorMapPayeeId);
			
			// -- contract of payee list
			this.doGetContractOfPayeeByPayeeParam(vendorId, payeeId);
			
			this.doSetPayeeLocation();
			
			semmmm001Bean.setDisableContent(true); 
			semmmm001Bean.setDisableEditPayeeContent(true); 
			
			semmmm001Bean.setDisableBtnSavePayee(true);
			semmmm001Bean.setDisableBtnEditPayee(false);
			
			semmmm001Bean.setRenderedPnlCmpPayeeInfo(false);
			
			// 2017/08/24 -- enabled BtnSendToMng (Payee) when flowStatus 01, 03, 05, 07
			String payeeFlowStatus = semmmm001Bean.getPayeeInfo().getPayeeFlowStatus() == null ? "" : 
				   (String) semmmm001Bean.getPayeeInfo().getPayeeFlowStatus();
			if(!payeeId.isEmpty() && StringUtils.indexOf("X01,03,05,07", payeeFlowStatus, 0) > 0)
				semmmm001Bean.setDisableBtnSendManagerPY(false);
			else
				semmmm001Bean.setDisableBtnSendManagerPY(true);
			
			if(!StringUtils.equals("", vendorMapPayeeId)){
				semmmm001Bean.getVendorInfo().setVendorMapPayeeId(vendorMapPayeeId);
			}
			
			this.doManagePYDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewPayeeByPayeeId >> END :::");
		}
		return flag;
	}
	
	private void doGetPYRequestParam(){
		semmmm001Bean = getSemmmm001Bean();
		try{
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("payeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			semmmm001Bean.getSemmmm001ReqParam().setContractNoPY(contractNo);
			semmmm001Bean.getSemmmm001ReqParam().setVendorIdPY(vendorId);
			semmmm001Bean.getSemmmm001ReqParam().setPayeeIdPY(payeeId);
			semmmm001Bean.getSemmmm001ReqParam().setVendorMapPayeeIdPY(vendorMapPayeeId);
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action doGetPYRequestParam : "+e);
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
	}
	
	private boolean doEditPayeeByPayeeId() {
		LOG.info("::: SEMMMM001Action :: doEditPayeeByPayeeId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			semmmm001Bean.setRenderedPnlCmpPayeeInfo(false);
			
			semmmm001Bean.setDisableContent(true);
			semmmm001Bean.setDisableEditPayeeContent(false); 
			
			semmmm001Bean.setDisableBtnNewPayee(false);
			semmmm001Bean.setDisableBtnSavePayee(false);
			
			this.doSetPayeeLocation();
			
			// temp param for saveFlag
			semmmm001Bean.getPayeeInfo().setSaveFlag("E"); //EDIT
			this.doManagePYDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doEditPayeeByPayeeId >> END :::");
		}
		return flag;
	}
	
	private boolean doChangePayee() {
		LOG.info("::: SEMMMM001Action :: doChangePayee >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			semmmm001Bean.setPayeeInfoCmpObj(new Mmm001PayeeSP());
			
			// -- 2017/07/23 -- default payeeStatus
			semmmm001Bean.getPayeeInfoCmpObj().setPayeeStatus("01");
			
			this.doSetPayeeLocation();
			
			semmmm001Bean.setDisableContent(true); 
			semmmm001Bean.setDisableEditPayeeContent(true); 
			
			semmmm001Bean.setDisableBtnSavePayee(false);

			semmmm001Bean.setRenderedPnlCmpPayeeInfo(true);
			
			// temp param for saveFlag
			semmmm001Bean.getPayeeInfo().setSaveFlag("C"); //CHANGE
			
			this.doManagePYDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doChangePayee >> END :::");
		}
		return flag;
	}
	
	private boolean doDeletePayeeByPayeeId() {
		LOG.info("::: SEMMMM001Action :: doDeletePayeeByPayeeId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("payeeIdParam");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);

			flag = this.doDeleteByRowId("PY", payeeId);
			
			if(flag)
				flag = this.doNewPayee();
			
			semmmm001Bean.setContractList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
			semmmm001Bean.setRenderedPnlCmpPayeeInfo(false);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doDeletePayeeByPayeeId >> END :::");
		}
		return flag;
	}
	
	private boolean doDeletePayeeMaster() {
		LOG.info("::: SEMMMM001Action :: doDeletePayeeMaster >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("payeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);

			// -- call delete master
			flag = this.doDeleteMaster("PY", "", vendorId, "", payeeId, "", contractNo);
			
			// -- payee of vendor list
			if(flag){
				this.doGetPayeeByPayeeId(contractNo, vendorId, payeeId, vendorMapPayeeId);
				this.doGetVendorPayeeByVendorParam(contractNo, vendorId);
				this.doManagePYDetailBtn();
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doDeletePayeeMaster >> END :::");
		}
		return flag;
	}

	private boolean doSendToMNGByPayeeId() {
		LOG.info("::: SEMMMM001Action :: doSendToMNGByPayeeId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("payeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);
			
			flag = this.doSendToMNG("PY", vendorId, "", payeeId, "");
			
			// -- payee of vendor list
			if(flag){
				this.doGetPayeeByPayeeId(contractNo, vendorId, payeeId, vendorMapPayeeId);
				// -- payee of vendor list
				this.doGetVendorPayeeByVendorParam(semmmm001Bean.getContractInfo().getContractNo(), 
												   semmmm001Bean.getVendorInfo().getVendorId());
				
				this.doManagePYDetailBtn();
				semmmm001Bean.setRenderedResultMsgAlert(true);
			}
//				this.doGetVendorPayeeByVendorParam(contractNo, vendorId);
			
//			semmmm001Bean.setContractList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
			semmmm001Bean.setRenderedPnlCmpPayeeInfo(false);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSendToMNGByPayeeId >> END :::");
		}
		return flag;
	}
	
	private boolean doSavePayeeInfo() {
		LOG.info("::: SEMMMM001Action :: doSavePayeeInfo >> BEGIN :::");
		boolean flag = true;
		semmmm001Bean = getSemmmm001Bean();

		try {
			
			
			semmmm001Bean.setSaveSuccessFlag(false);
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<ItemResultSP> result = null;
			
			String saveFlag = semmmm001Bean.getPayeeInfo().getSaveFlag() == null ? "" :
				   (String) semmmm001Bean.getPayeeInfo().getSaveFlag();
			
			String payeeIdForCallBack = "";
			
			String validateFlag = getFacesUtils().getRequestParameter("validateFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("validateFlag");
			String validateCaseId = getFacesUtils().getRequestParameter("validateCaseId") == null ? "" : (String)getFacesUtils().getRequestParameter("validateCaseId");
			
			LOG.debug(">>> saveFlag: " + saveFlag);
			LOG.debug(">>> validateFlag: " + validateFlag);
			LOG.debug(">>> validateCaseId: " + validateCaseId);
			
			if(!doValidatePayeeMaster()){
				semmmm001Bean.setRenderedResultMsgAlert(false);
				flag = false;
			}
			
//			if(saveFlag.equals("C")){ // CHANGE
//				
//				if(flag){
//					semmmm001Bean.getPayeeInfoCmpObj().setSaveFlag("C");
//					semmmm001Bean.getPayeeInfoCmpObj().setContractNo(semmmm001Bean.getContractInfo().getContractNo());
//					semmmm001Bean.getPayeeInfoCmpObj().setVendorId(semmmm001Bean.getVendorInfo().getVendorId());
//					semmmm001Bean.getPayeeInfoCmpObj().setVendorMapPayeeId(semmmm001Bean.getPayeeInfo().getVendorMapPayeeId());
//					semmmm001Bean.getPayeeInfoCmpObj().setUpdateBy(getUserLogIn());
//					
//					if(semmmm001Bean.getPayeeInfoCmpObj().getExpenseEffectiveDt() != null){
//						String expenseEffectiveDtStr = DateUtil.convertDateTime2StringWithLocale(semmmm001Bean.getPayeeInfoCmpObj().getExpenseEffectiveDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale);
//						semmmm001Bean.getPayeeInfoCmpObj().setExpenseEffectiveDtStr(expenseEffectiveDtStr);
//					}
//					
//					semmmm001Bean.getPayeeInfoCmpObj().setpTaxFlag(semmmm001Bean.getPayeeInfoCmpObj().isChkLocalDepartment() ? "Y" : "N");
//					
//					semmmm001Bean.getPayeeInfoCmpObj().setValidateFlag(validateFlag);
//					semmmm001Bean.getPayeeInfoCmpObj().setValidateCaseId(validateCaseId);
//					
//					LOG.debug(">>> payeeInfoCmpObj: " + semmmm001Bean.getPayeeInfoCmpObj().toString());
//					result = service.querySPList(EQueryName.SEM_SAP_PAYEE_SAVE_DRAFT.name, semmmm001Bean.getPayeeInfoCmpObj());
//				}
//			} else { // NEW, EDIT
				
			if(flag){
				LOG.debug("VendorMapPayeeId : "+semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
				semmmm001Bean.getPayeeInfo().setContractNo(semmmm001Bean.getContractInfo().getContractNo());
				semmmm001Bean.getPayeeInfo().setVendorId(semmmm001Bean.getVendorInfo().getVendorId());
				semmmm001Bean.getPayeeInfo().setUpdateBy(getUserLogIn());
				
				payeeIdForCallBack = semmmm001Bean.getPayeeInfo().getVendorId();
				
				if(StringUtils.equals("C", saveFlag)){ // CHANGE

					payeeIdForCallBack = semmmm001Bean.getVendorInfoCmpObj().getVendorId() == null ? "" : 
				    (String)semmmm001Bean.getVendorInfoCmpObj().getVendorId();
					
					semmmm001Bean.getPayeeInfoCmpObj().setSaveFlag("C");
				}
				
				if(semmmm001Bean.getPayeeInfo().getExpenseEffectiveDt() != null){
					String expenseEffectiveDtStr = DateUtil.convertDateTime2StringWithLocale(semmmm001Bean.getPayeeInfo().getExpenseEffectiveDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale);
					semmmm001Bean.getPayeeInfo().setExpenseEffectiveDtStr(expenseEffectiveDtStr);
				}
				
				semmmm001Bean.getPayeeInfo().setpTaxFlag(semmmm001Bean.getPayeeInfo().isChkLocalDepartment() ? "Y" : "N");
				
				if(semmmm001Bean.getVendorInfo().getVendorMapPayeeId() != null)
					semmmm001Bean.getPayeeInfo().setVendorMapPayeeId(semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
				semmmm001Bean.getPayeeInfo().setValidateFlag(validateFlag);
				semmmm001Bean.getPayeeInfo().setValidateCaseId(validateCaseId);
				LOG.debug(">>> payeeInfoObj: " + semmmm001Bean.getPayeeInfo().toString());
				LOG.debug(">>> payeeInfoObj getContractNo : " + semmmm001Bean.getPayeeInfo().getContractNo());
				LOG.debug(">>> payeeInfoObj getVendorId  : " + semmmm001Bean.getPayeeInfo().getVendorId());
				LOG.debug(">>> payeeInfoObj getVendorMapPayeeId : " + semmmm001Bean.getPayeeInfo().getVendorMapPayeeId());
				result = service.querySPList(EQueryName.SEM_SAP_PAYEE_SAVE_DRAFT.name, semmmm001Bean.getPayeeInfo());
			}
			
			// -- reload
			if(result != null && result.size() != 0 &&
			   result.get(0).getResultType() != null && 
			   result.get(0).getResultType().equalsIgnoreCase("SUCCESS")){
				
//				String tmpVendorId = result.get(0).getResultParam();
				String tmpPayeeId = result.get(0).getResultCode();
				LOG.debug("result.get(0).getResultCode() : "+result.get(0).getResultCode());
//				if(StringUtils.isEmpty(vedorIdForCallBack)) vedorIdForCallBack = tmpVendorId;
				
				semmmm001Bean.getPayeeAddrObj().setSapFlag(		semmmm001Bean.getVendorAddrObj().isChkSendToSap() ? "Y" : "N");
				semmmm001Bean.getPayeeAddrObj().setTabNo("P1");		semmmm001Bean.getPayeeAddrObj().setVendorId(tmpPayeeId);		semmmm001Bean.getPayeeAddrObj().setUpdateBy(getUserLogIn());
				semmmm001Bean.getRentalPayeeAddrObj().setTabNo("P2");		semmmm001Bean.getRentalPayeeAddrObj().setVendorId(tmpPayeeId);		semmmm001Bean.getRentalPayeeAddrObj().setUpdateBy(getUserLogIn());
				semmmm001Bean.getElectrictPayeeAddrObj().setTabNo("P3");	semmmm001Bean.getElectrictPayeeAddrObj().setVendorId(tmpPayeeId);	semmmm001Bean.getElectrictPayeeAddrObj().setUpdateBy(getUserLogIn());
				semmmm001Bean.getPropertyPayeeAddrObj().setTabNo("P4");	semmmm001Bean.getPropertyPayeeAddrObj().setVendorId(tmpPayeeId);	semmmm001Bean.getPropertyPayeeAddrObj().setUpdateBy(getUserLogIn());
				semmmm001Bean.getInsurePayeeAddrObj().setTabNo("P5");		semmmm001Bean.getInsurePayeeAddrObj().setVendorId(tmpPayeeId);		semmmm001Bean.getInsurePayeeAddrObj().setUpdateBy(getUserLogIn());
				semmmm001Bean.getConstructPayeeAddrObj().setTabNo("P6");	semmmm001Bean.getConstructPayeeAddrObj().setVendorId(tmpPayeeId);	semmmm001Bean.getConstructPayeeAddrObj().setUpdateBy(getUserLogIn());
				semmmm001Bean.getWithholdPayeeAddrObj().setTabNo("P7");	semmmm001Bean.getWithholdPayeeAddrObj().setVendorId(tmpPayeeId);	semmmm001Bean.getWithholdPayeeAddrObj().setUpdateBy(getUserLogIn());
				
				if(semmmm001Bean.getPayeeAddrObj().isChkTambolOther()){ 	semmmm001Bean.getPayeeAddrObj().setTambol("X"); } else { semmmm001Bean.getPayeeAddrObj().setTambolName(""); }
				if(semmmm001Bean.getPayeeAddrObj().isChkAmphurOther()){ 	semmmm001Bean.getPayeeAddrObj().setAmphur("X"); } else { semmmm001Bean.getPayeeAddrObj().setAmphurName(""); }
				if(semmmm001Bean.getPayeeAddrObj().isChkLocalDepartment()){semmmm001Bean.getPayeeAddrObj().setpTaxFlag("Y"); } else { semmmm001Bean.getPayeeAddrObj().setpTaxFlag(""); }
				if(semmmm001Bean.getPayeeAddrObj().isChkTelephoneSapFlag()){ semmmm001Bean.getPayeeAddrObj().setTelephoneSapFlag("Y"); } else { semmmm001Bean.getPayeeAddrObj().setTelephoneSapFlag(""); }
				if(semmmm001Bean.getPayeeAddrObj().isChkMobileNoSapFlag()){semmmm001Bean.getPayeeAddrObj().setMobileNoSapFlag("Y"); } else { semmmm001Bean.getPayeeAddrObj().setMobileNoSapFlag(""); }
				if(semmmm001Bean.getPayeeAddrObj().isChkFaxSapFlag()){ 	semmmm001Bean.getPayeeAddrObj().setFaxSapFlag("Y"); } else { semmmm001Bean.getPayeeAddrObj().setFaxSapFlag(""); }
				if(semmmm001Bean.getPayeeAddrObj().isChkEmailSapFlag()){ 	semmmm001Bean.getPayeeAddrObj().setEmailSapFlag("Y"); } else { semmmm001Bean.getPayeeAddrObj().setEmailSapFlag(""); }
				
				if(semmmm001Bean.getRentalPayeeAddrObj().isChkTambolOther()){ 	semmmm001Bean.getRentalPayeeAddrObj().setTambol("X"); } else { semmmm001Bean.getRentalPayeeAddrObj().setTambolName(""); }
				if(semmmm001Bean.getRentalPayeeAddrObj().isChkAmphurOther()){ 	semmmm001Bean.getRentalPayeeAddrObj().setAmphur("X"); } else { semmmm001Bean.getRentalPayeeAddrObj().setAmphurName(""); }
				if(semmmm001Bean.getRentalPayeeAddrObj().isChkLocalDepartment()){semmmm001Bean.getRentalPayeeAddrObj().setpTaxFlag("Y"); } else { semmmm001Bean.getRentalPayeeAddrObj().setpTaxFlag(""); }
				
				if(semmmm001Bean.getElectrictPayeeAddrObj().isChkTambolOther()){ semmmm001Bean.getElectrictPayeeAddrObj().setTambol("X"); } else { semmmm001Bean.getElectrictPayeeAddrObj().setTambolName(""); }
				if(semmmm001Bean.getElectrictPayeeAddrObj().isChkAmphurOther()){ semmmm001Bean.getElectrictPayeeAddrObj().setAmphur("X"); } else { semmmm001Bean.getElectrictPayeeAddrObj().setAmphurName(""); }
				if(semmmm001Bean.getElectrictPayeeAddrObj().isChkLocalDepartment()){ semmmm001Bean.getElectrictPayeeAddrObj().setpTaxFlag("Y"); } else { semmmm001Bean.getElectrictPayeeAddrObj().setpTaxFlag(""); }
				
				if(semmmm001Bean.getPropertyPayeeAddrObj().isChkTambolOther()){ 	semmmm001Bean.getPropertyPayeeAddrObj().setTambol("X"); } else { semmmm001Bean.getPropertyPayeeAddrObj().setTambolName(""); }
				if(semmmm001Bean.getPropertyPayeeAddrObj().isChkAmphurOther()){ 	semmmm001Bean.getPropertyPayeeAddrObj().setAmphur("X"); } else { semmmm001Bean.getPropertyPayeeAddrObj().setAmphurName(""); }
				if(semmmm001Bean.getPropertyPayeeAddrObj().isChkLocalDepartment()){ semmmm001Bean.getPropertyPayeeAddrObj().setpTaxFlag("Y"); } else { semmmm001Bean.getPropertyPayeeAddrObj().setpTaxFlag(""); }
				
				if(semmmm001Bean.getInsurePayeeAddrObj().isChkTambolOther()){ 	semmmm001Bean.getInsurePayeeAddrObj().setTambol("X"); } else { semmmm001Bean.getInsurePayeeAddrObj().setTambolName(""); }
				if(semmmm001Bean.getInsurePayeeAddrObj().isChkAmphurOther()){ 	semmmm001Bean.getInsurePayeeAddrObj().setAmphur("X"); } else { semmmm001Bean.getInsurePayeeAddrObj().setAmphurName(""); }
				if(semmmm001Bean.getInsurePayeeAddrObj().isChkLocalDepartment()){semmmm001Bean.getInsurePayeeAddrObj().setpTaxFlag("Y"); } else { semmmm001Bean.getInsurePayeeAddrObj().setpTaxFlag(""); }
				
				if(semmmm001Bean.getConstructPayeeAddrObj().isChkTambolOther()){ semmmm001Bean.getConstructPayeeAddrObj().setTambol("X"); } else { semmmm001Bean.getConstructPayeeAddrObj().setTambolName(""); }
				if(semmmm001Bean.getConstructPayeeAddrObj().isChkAmphurOther()){ semmmm001Bean.getConstructPayeeAddrObj().setAmphur("X"); } else { semmmm001Bean.getConstructPayeeAddrObj().setAmphurName(""); }
				if(semmmm001Bean.getConstructPayeeAddrObj().isChkLocalDepartment()){ semmmm001Bean.getConstructPayeeAddrObj().setpTaxFlag("Y"); } else { semmmm001Bean.getConstructPayeeAddrObj().setpTaxFlag(""); }
				
				if(semmmm001Bean.getWithholdPayeeAddrObj().isChkTambolOther()){ 	semmmm001Bean.getWithholdPayeeAddrObj().setTambol("X"); } else { semmmm001Bean.getWithholdPayeeAddrObj().setTambolName(""); }
				if(semmmm001Bean.getWithholdPayeeAddrObj().isChkAmphurOther()){ 	semmmm001Bean.getWithholdPayeeAddrObj().setAmphur("X"); } else { semmmm001Bean.getWithholdPayeeAddrObj().setAmphurName(""); }
				if(semmmm001Bean.getWithholdPayeeAddrObj().isChkLocalDepartment()){ semmmm001Bean.getWithholdPayeeAddrObj().setpTaxFlag("Y"); } else { semmmm001Bean.getWithholdPayeeAddrObj().setpTaxFlag(""); }
				
				List<ItemResultSP> resultList = new ArrayList<ItemResultSP>(); 
				
				resultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_SAVE_ADDRESS.name, semmmm001Bean.getPayeeAddrObj());
				if(resultList != null && !StringUtils.equals("SUCCESS", resultList.get(0).getResultType().toUpperCase())){
					addMessageError("EL0000", "SEMMMM001Action doSaveVendorInfo Save Payee Address");
					addGeneralMessageError(resultList.get(0).getResultMessage());
					return false;
				}else
					resultList = new ArrayList<ItemResultSP>();
				
				resultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_SAVE_ADDRESS.name, semmmm001Bean.getRentalPayeeAddrObj());
				if(resultList != null && !StringUtils.equals("SUCCESS", resultList.get(0).getResultType().toUpperCase())){
					addMessageError("EL0000", "SEMMMM001Action doSaveVendorInfo Save Payee Rental Address");
					addGeneralMessageError(resultList.get(0).getResultMessage());
					return false;
				}else
					resultList = new ArrayList<ItemResultSP>();
				
				resultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_SAVE_ADDRESS.name, semmmm001Bean.getElectrictPayeeAddrObj());
				if(resultList != null && !StringUtils.equals("SUCCESS", resultList.get(0).getResultType().toUpperCase())){
					addMessageError("EL0000", "SEMMMM001Action doSaveVendorInfo Save Payee Electric Address");
					addGeneralMessageError(resultList.get(0).getResultMessage());
					return false;
				}else
					resultList = new ArrayList<ItemResultSP>();
				
				resultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_SAVE_ADDRESS.name, semmmm001Bean.getPropertyPayeeAddrObj());
				if(resultList != null && !StringUtils.equals("SUCCESS", resultList.get(0).getResultType().toUpperCase())){
					addMessageError("EL0000", "SEMMMM001Action doSaveVendorInfo Save Payee Property Address");
					addGeneralMessageError(resultList.get(0).getResultMessage());
					return false;
				}else
					resultList = new ArrayList<ItemResultSP>();
				
				resultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_SAVE_ADDRESS.name, semmmm001Bean.getInsurePayeeAddrObj());
				if(resultList != null && !StringUtils.equals("SUCCESS", resultList.get(0).getResultType().toUpperCase())){
					addMessageError("EL0000", "SEMMMM001Action doSaveVendorInfo Save Payee Insurance Address");
					addGeneralMessageError(resultList.get(0).getResultMessage());
					return false;
				}else
					resultList = new ArrayList<ItemResultSP>();
				
				resultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_SAVE_ADDRESS.name, semmmm001Bean.getConstructPayeeAddrObj());
				if(resultList != null && !StringUtils.equals("SUCCESS", resultList.get(0).getResultType().toUpperCase())){
					addMessageError("EL0000", "SEMMMM001Action doSaveVendorInfo Save Payee Construct Address");
					addGeneralMessageError(resultList.get(0).getResultMessage());
					return false;
				}else
					resultList = new ArrayList<ItemResultSP>();
				
				resultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_SAVE_ADDRESS.name, semmmm001Bean.getWithholdPayeeAddrObj());
				if(resultList != null && !StringUtils.equals("SUCCESS", resultList.get(0).getResultType().toUpperCase())){
					addMessageError("EL0000", "SEMMMM001Action doSaveVendorInfo Save Payee Withhold Address");
					addGeneralMessageError(resultList.get(0).getResultMessage());
					return false;
				}else
					resultList = new ArrayList<ItemResultSP>();
				
				//send email
				if(StringUtils.equals("Y", semmmm001Bean.getRetResultObj().getEmailFlag())){
					EMAILModel email = new EMAILModel();
					boolean sendMailResult = false;
					if(semmmm001Bean.getRetResultObj().getEmailFrom()!=null && !StringUtils.equals("", semmmm001Bean.getRetResultObj().getEmailFrom()))
						email.setEmail_from(semmmm001Bean.getRetResultObj().getEmailFrom());
					if(semmmm001Bean.getRetResultObj().getEmailTo()!=null && !StringUtils.equals("", semmmm001Bean.getRetResultObj().getEmailTo()))
						email.setEmail_to(semmmm001Bean.getRetResultObj().getEmailTo());
					if(semmmm001Bean.getRetResultObj().getEmailSubject()!=null && !StringUtils.equals("", semmmm001Bean.getRetResultObj().getEmailSubject()))
						email.setV_Subject(semmmm001Bean.getRetResultObj().getEmailSubject());
					if(semmmm001Bean.getRetResultObj().getEmailDetail()!=null && !StringUtils.equals("", semmmm001Bean.getRetResultObj().getEmailDetail()))
						email.setV_Message(semmmm001Bean.getRetResultObj().getEmailDetail());
					
//					EmailMessageUtil.sendEmail(emailM);doSendEmail(email);
					
					sendMailResult = EmailMessageUtil.sendEmail(email);
					if(!sendMailResult){
						addGeneralMessageWarn(msg("message.sendmailerror")+" : "+email.getEmail_to());
					}
					LOG.debug("sendMailEesult = "+sendMailResult);
				}
				
				this.doGetPayeeByPayeeId(semmmm001Bean.getContractInfo().getContractNo(), semmmm001Bean.getVendorInfo().getVendorId(), 
						result.get(0).getResultCode(), semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
				// -- payee of vendor list
				this.doGetVendorPayeeByVendorParam(semmmm001Bean.getContractInfo().getContractNo(), 
												   semmmm001Bean.getVendorInfo().getVendorId());
				
				semmmm001Bean.setDisableContent(true);

				semmmm001Bean.setDisableEditPayeeContent(true);
				flag = true;
//				addGeneralMessageInfo("success !!");
				
				this.doManagePYDetailBtn();
				
				//backup new data after save for cancel 
				this.doBackupPYRequestParam();
				addMessageInfo("M0001");
			} else {
				flag = false;
			}
			
			// - result dialog -
			resultDialog(result);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action doSavePayeeInfo");
			flag = false;
			
			resultDialogException(SEMDataUtility.buildMessage(getMessageByCode("EL0000"), "SEMMMM001Action"));
		} finally {
			semmmm001Bean.setSaveSuccessFlag(flag);
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSavePayeeInfo >> END :::");
		}
		return flag;
	}
	
	private boolean doGetPayeeByPayeeId(String contractNo, String vendorId, String payeeId, String vendorMapPayeeId) {
		LOG.info("::: SEMMMM001Action :: doGetPayeeByPayeeId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
//			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
//				   (String) getFacesUtils().getRequestParameter("contractNoParam");
//			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
//				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
//			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
//				   (String) getFacesUtils().getRequestParameter("payeeIdParam");
//			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
//				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
//			String btnActionType = getFacesUtils().getRequestParameter("btnActionType") == null ? "" : 
//				   (String) getFacesUtils().getRequestParameter("btnActionType");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);
//
//			if(!StringUtils.equals("N", btnActionType)){
//				this.doGetPYRequestParam();
//			}
//			
//			
//			if(contractNo.isEmpty()){
//				semmmm001Bean.setVisiblePnlContractInfo(false);
//			} else {
//				semmmm001Bean.setVisiblePnlContractInfo(true);
//			}
//			
			
			// -- contract info + vendor of contract list
//			this.doGetContractInfoByContractParam(contractNo);
			
			// -- vendor detail
//			this.doGetVendorInfoByVendorParam(contractNo, vendorId);
			
			// -- contract of vendor list
			this.doGetContractOfVendorByVendorParam(contractNo, vendorId);
			
			// -- payee detail
			this.doGetPayeeInfoByPayeeParam(contractNo, vendorId, payeeId, vendorMapPayeeId);
			
			// -- payee address
			this.doGetPayeeAddressByVendorParam(contractNo, payeeId);
			
			// -- bookbank of payee list
			this.doGetBookbankPayeeByPayeeParam(contractNo, vendorId, payeeId, vendorMapPayeeId);
			
			// -- contract of payee list
			this.doGetContractOfPayeeByPayeeParam(vendorId, payeeId);
			
			this.doSetPayeeLocation();
			
//			semmmm001Bean.setDisableContent(true); 
//			semmmm001Bean.setDisableEditPayeeContent(true); 
//			
//			semmmm001Bean.setDisableBtnSavePayee(true);
//			semmmm001Bean.setDisableBtnEditPayee(false);
//			
//			semmmm001Bean.setRenderedPnlCmpPayeeInfo(false);
			
//			// 2017/08/24 -- enabled BtnSendToMng (Payee) when flowStatus 01, 03, 05, 07
//			String payeeFlowStatus = semmmm001Bean.getPayeeInfo().getPayeeFlowStatus() == null ? "" : 
//				   (String) semmmm001Bean.getPayeeInfo().getPayeeFlowStatus();
//			if(!payeeId.isEmpty() && StringUtils.indexOf("X01,03,05,07", payeeFlowStatus, 0) > 0)
//				semmmm001Bean.setDisableBtnSendManagerPY(false);
//			else
//				semmmm001Bean.setDisableBtnSendManagerPY(true);
			
//			this.doManagePYDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action doGetPayeeByPayeeId");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetPayeeByPayeeId >> END :::");
		}
		return flag;
	}
	
	private boolean doViewBBPayeeCaseNewBookbankPayee() {
		LOG.info("::: SEMMMM001Action :: doViewBBPayeeCaseNewBookbankPayee >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("payeeIdParam");
			String bookbankPayeeId = getFacesUtils().getRequestParameter("bookbankPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("bookbankPayeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			String saveFlag = semmmm001Bean.getBookbankPayeeInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getBookbankPayeeInfo().getSaveFlag();
			
			String payeePageFlag = getFacesUtils().getRequestParameter("payeePageFlag") == null ? "" : 
				(String)getFacesUtils().getRequestParameter("payeePageFlag");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> bookbankPayeeId: " + bookbankPayeeId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);
			
			this.doGetPBRequestParam();

			if(contractNo.isEmpty()){
				semmmm001Bean.setVisiblePnlContractInfo(false);
			} else {
				semmmm001Bean.setVisiblePnlContractInfo(true);
			}
			
			
			if(saveFlag.equalsIgnoreCase("C")){
				// -- bookbank payee info (CMP)
				this.doGetBookbankPayeeInfoCmpByBookbankPayeeParam(contractNo, vendorId, bookbankPayeeId, vendorMapPayeeId);
				
				semmmm001Bean.setRenderedPnlCmpBookbankInfo(true);
			} else {
				// -- contract info + vendor of contract list
				this.doGetContractInfoByContractParam(contractNo);
				
				// -- vendor detail
				this.doGetVendorInfoByVendorParam(contractNo, vendorId, vendorMapPayeeId);
	
				// -- payee detail
				this.doGetPayeeInfoByPayeeParam(contractNo, vendorId, payeeId, vendorMapPayeeId);
				
				// -- bookbank payee info
//				this.doGetBookbankPayeeInfoByBookbankPayeeParam(contractNo, vendorId, bookbankPayeeId, vendorMapPayeeId);
				
				semmmm001Bean.setDisableContent(true); 
				semmmm001Bean.setDisableEditBookbankPayeeContent(true); 
				
				semmmm001Bean.setDisableBtnSaveBookbankPayee(true);
				semmmm001Bean.setDisableBtnEditBookbankPayee(false);
				
				semmmm001Bean.setRenderedPnlCmpBookbankPayeeInfo(false);
			}
			
			this.doSetPayeeLocation();
			
			// 2017/08/24 -- enabled BtnSendToMng (BookBankPayee) when flowStatus 01, 03, 05, 07
//			String bookbankPayeeFlowStatus = semmmm001Bean.getBookbankPayeeInfo().getBookbankFlowStatus() == null ? "" : 
//				   (String) semmmm001Bean.getBookbankPayeeInfo().getBookbankFlowStatus();
//			if(!bookbankPayeeId.isEmpty() && StringUtils.indexOf("X01,03,05,07", bookbankPayeeFlowStatus, 0) > 0)
//				semmmm001Bean.setDisableBtnSendManagerPB(false);
//			else
//				semmmm001Bean.setDisableBtnSendManagerPB(true);
			
			if(!StringUtils.equals("", vendorMapPayeeId)){
				semmmm001Bean.getVendorInfo().setVendorMapPayeeId(vendorMapPayeeId);
			}
			
			if(!StringUtils.equals("", vendorMapPayeeId)){
				semmmm001Bean.getBookbankPayeeInfo().setVendorMapPayeeId(vendorMapPayeeId);
			}
			
//			if(StringUtils.equals("Y", payeePageFlag)){
//				semmmm001Bean.setPayeePageFlag(true);
//			}else{
//				semmmm001Bean.setPayeePageFlag(false);
//			}
//			this.doCheckBBGSBPayee();
			this.doManagePBDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewBBPayeeCaseNewBookbankPayee >> END :::");
		}
		return flag;
	}
	
	private boolean doViewBBPayeeByBookbankPayeeId() {
		LOG.info("::: SEMMMM001Action :: doViewBBPayeeByBookbankPayeeId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("payeeIdParam");
			String bookbankPayeeId = getFacesUtils().getRequestParameter("bookbankPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("bookbankPayeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			String saveFlag = semmmm001Bean.getBookbankPayeeInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getBookbankPayeeInfo().getSaveFlag();
			
			String payeePageFlag = getFacesUtils().getRequestParameter("payeePageFlag") == null ? "" : 
				(String)getFacesUtils().getRequestParameter("payeePageFlag");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> bookbankPayeeId: " + bookbankPayeeId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);
			
			this.doGetPBRequestParam();

			if(contractNo.isEmpty()){
				semmmm001Bean.setVisiblePnlContractInfo(false);
			} else {
				semmmm001Bean.setVisiblePnlContractInfo(true);
			}
			
			
			if(saveFlag.equalsIgnoreCase("C")){
				// -- bookbank payee info (CMP)
				this.doGetBookbankPayeeInfoCmpByBookbankPayeeParam(contractNo, vendorId, bookbankPayeeId, vendorMapPayeeId);
				
				semmmm001Bean.setRenderedPnlCmpBookbankInfo(true);
			} else {
				// -- contract info + vendor of contract list
//				this.doGetContractInfoByContractParam(contractNo);
				
				// -- vendor detail
				this.doGetVendorInfoByVendorParam(contractNo, vendorId, vendorMapPayeeId);
	
				// -- payee detail
				this.doGetPayeeInfoByPayeeParam(contractNo, vendorId, payeeId, vendorMapPayeeId);
				
				// -- bookbank payee info
				this.doGetBookbankPayeeInfoByBookbankPayeeParam(contractNo, vendorId, bookbankPayeeId, vendorMapPayeeId);
				
				semmmm001Bean.setDisableContent(true); 
				semmmm001Bean.setDisableEditBookbankPayeeContent(true); 
				
				semmmm001Bean.setDisableBtnSaveBookbankPayee(true);
				semmmm001Bean.setDisableBtnEditBookbankPayee(false);
				
				semmmm001Bean.setRenderedPnlCmpBookbankPayeeInfo(false);
			}
			
			this.doSetPayeeLocation();
			
			// 2017/08/24 -- enabled BtnSendToMng (BookBankPayee) when flowStatus 01, 03, 05, 07
			String bookbankPayeeFlowStatus = semmmm001Bean.getBookbankPayeeInfo().getBookbankFlowStatus() == null ? "" : 
				   (String) semmmm001Bean.getBookbankPayeeInfo().getBookbankFlowStatus();
			if(!bookbankPayeeId.isEmpty() && StringUtils.indexOf("X01,03,05,07", bookbankPayeeFlowStatus, 0) > 0)
				semmmm001Bean.setDisableBtnSendManagerPB(false);
			else
				semmmm001Bean.setDisableBtnSendManagerPB(true);
			
			if(!StringUtils.equals("", vendorMapPayeeId)){
				semmmm001Bean.getVendorInfo().setVendorMapPayeeId(vendorMapPayeeId);
			}
			
			if(!StringUtils.equals("", vendorMapPayeeId)){
				semmmm001Bean.getVendorInfo().setVendorMapPayeeId(vendorMapPayeeId);
			}
			
//			if(StringUtils.equals("Y", payeePageFlag)){
//				semmmm001Bean.setPayeePageFlag(true);
//			}else{
//				semmmm001Bean.setPayeePageFlag(false);
//			}
			
			this.doManagePBDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewBBPayeeByBookbankPayeeId >> END :::");
		}
		return flag;
	}
	
	private boolean doViewBBPayeeFromVendor() {
		LOG.info("::: SEMMMM001Action :: doViewBBPayeeFromVendor >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("payeeIdParam");
			String bookbankPayeeId = getFacesUtils().getRequestParameter("bookbankPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("bookbankPayeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			String saveFlag = semmmm001Bean.getBookbankPayeeInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getBookbankPayeeInfo().getSaveFlag();
			
			String payeePageFlag = getFacesUtils().getRequestParameter("payeePageFlag") == null ? "" : 
				(String)getFacesUtils().getRequestParameter("payeePageFlag");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> bookbankPayeeId: " + bookbankPayeeId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);
			
			this.doGetPBRequestParam();

			if(contractNo.isEmpty()){
				semmmm001Bean.setVisiblePnlContractInfo(false);
			} else {
				semmmm001Bean.setVisiblePnlContractInfo(true);
			}
			
			
			if(saveFlag.equalsIgnoreCase("C")){
				// -- bookbank payee info (CMP)
				this.doGetBookbankPayeeInfoCmpByBookbankPayeeParam(contractNo, vendorId, bookbankPayeeId, vendorMapPayeeId);
				
				semmmm001Bean.setRenderedPnlCmpBookbankInfo(true);
			} else {
				// -- contract info + vendor of contract list
//				this.doGetContractInfoByContractParam(contractNo);
				
				// -- vendor detail
//				this.doGetVendorInfoByVendorParam(contractNo, vendorId);
	
				// -- payee detail
				this.doGetPayeeInfoByPayeeParam(contractNo, vendorId, payeeId, vendorMapPayeeId);
				
				// -- bookbank payee info
				this.doGetBookbankPayeeInfoByBookbankPayeeParam(contractNo, vendorId, bookbankPayeeId, vendorMapPayeeId);
				
				semmmm001Bean.setDisableContent(true); 
				semmmm001Bean.setDisableEditBookbankPayeeContent(true); 
				
				semmmm001Bean.setDisableBtnSaveBookbankPayee(true);
				semmmm001Bean.setDisableBtnEditBookbankPayee(false);
				
				semmmm001Bean.setRenderedPnlCmpBookbankPayeeInfo(false);
			}
			
			this.doSetPayeeLocation();
			
			// 2017/08/24 -- enabled BtnSendToMng (BookBankPayee) when flowStatus 01, 03, 05, 07
			String bookbankPayeeFlowStatus = semmmm001Bean.getBookbankPayeeInfo().getBookbankFlowStatus() == null ? "" : 
				   (String) semmmm001Bean.getBookbankPayeeInfo().getBookbankFlowStatus();
			if(!bookbankPayeeId.isEmpty() && StringUtils.indexOf("X01,03,05,07", bookbankPayeeFlowStatus, 0) > 0)
				semmmm001Bean.setDisableBtnSendManagerPB(false);
			else
				semmmm001Bean.setDisableBtnSendManagerPB(true);
			
			if(!StringUtils.equals("", vendorMapPayeeId)){
				semmmm001Bean.getVendorInfo().setVendorMapPayeeId(vendorMapPayeeId);
			}
			
			if(!StringUtils.equals("", vendorMapPayeeId)){
				semmmm001Bean.getVendorInfo().setVendorMapPayeeId(vendorMapPayeeId);
			}
			
//			if(StringUtils.equals("Y", payeePageFlag)){
//				semmmm001Bean.setPayeePageFlag(true);
//			}else{
//				semmmm001Bean.setPayeePageFlag(false);
//			}
			semmmm001Bean.setFromVendorFlag(true);
			semmmm001Bean.setFromPayeeFlag(false);
			this.doManagePBDetailBtn();
//			this.doCheckBBGSBPayee();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewBBPayeeFromVendor >> END :::");
		}
		return flag;
	}
	
	private void doGetPBRequestParam(){
		semmmm001Bean = getSemmmm001Bean();
		try{
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("payeeIdParam");
			String bookbankPayeeId = getFacesUtils().getRequestParameter("bookbankPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("bookbankPayeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			semmmm001Bean.getSemmmm001ReqParam().setContractNoPB(contractNo);
			semmmm001Bean.getSemmmm001ReqParam().setVendorIdPB(vendorId);
			semmmm001Bean.getSemmmm001ReqParam().setPayeeIdPB(payeeId);
			semmmm001Bean.getSemmmm001ReqParam().setBookbankPayeeIdPB(bookbankPayeeId);
			semmmm001Bean.getSemmmm001ReqParam().setVendorMapPayeeIdPB(vendorMapPayeeId);
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action doGetPBRequestParam : "+e);
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
	}
	
	private boolean doGetBBPayeeDetail() {
		LOG.info("::: SEMMMM001Action :: doGetBBPayeeDetail >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("payeeIdParam");
			String bookbankPayeeId = getFacesUtils().getRequestParameter("bookbankPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("bookbankPayeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> bookbankPayeeId: " + bookbankPayeeId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);

			// -- bookbank payee info
			this.doGetBookbankPayeeInfoByBookbankPayeeParam(contractNo, vendorId, bookbankPayeeId, vendorMapPayeeId);
			
			semmmm001Bean.setDisableContent(true); 
			semmmm001Bean.setDisableEditBookbankPayeeContent(true); 
			
			semmmm001Bean.setDisableBtnSaveBookbankPayee(true);
			semmmm001Bean.setDisableBtnEditBookbankPayee(false);
			
			semmmm001Bean.setRenderedPnlCmpBookbankPayeeInfo(false);
			
			
			this.doSetPayeeLocation();
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetBBPayeeDetail >> END :::");
		}
		return flag;
	}
	
	private boolean doEditBBPayeeByBookbankPayeeId() {
		LOG.info("::: SEMMMM001Action :: doEditBBPayeeByBookbankPayeeId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			semmmm001Bean.setRenderedPnlCmpBookbankPayeeInfo(false);
			
			semmmm001Bean.setDisableContent(true);
			semmmm001Bean.setDisableEditBookbankPayeeContent(false); 
			
			semmmm001Bean.setDisableBtnNewBookbankPayee(false);
			semmmm001Bean.setDisableBtnSaveBookbankPayee(false);
			
			// temp param for saveFlag
			semmmm001Bean.getBookbankPayeeInfo().setSaveFlag("E"); //EDIT
//			this.doCheckBBGSBPayee();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doEditBBPayeeByBookbankPayeeId >> END :::");
		}
		return flag;
	}
	
	private boolean doChangeBBPayee() {
		LOG.info("::: SEMMMM001Action :: doChangeBBPayee >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			semmmm001Bean.setBookbankPayeeInfoCmpObj(new Mmm001BookbankPayeeSP());
			
			// -- 2017/08/23 -- default bookbankStatus
			semmmm001Bean.getBookbankPayeeInfoCmpObj().setBookbankStatus("01");
			
			//default bookbank Payee name BY Payee name
			if(semmmm001Bean.getBookbankPayeeInfoCmpObj().getAccountName() == null || StringUtils.equals("", semmmm001Bean.getBookbankPayeeInfoCmpObj().getAccountName())){
				if(semmmm001Bean.getPayeeInfo().getPayeeName() != null){
					semmmm001Bean.getBookbankPayeeInfoCmpObj().setAccountName(semmmm001Bean.getPayeeInfo().getPayeeName());
				}
			}
			
			semmmm001Bean.setDisableContent(true); 
			semmmm001Bean.setDisableEditBookbankPayeeContent(true); 
			
			semmmm001Bean.setDisableBtnSaveBookbankPayee(false);

			semmmm001Bean.setRenderedPnlCmpBookbankPayeeInfo(true);
			
			// temp param for saveFlag
			semmmm001Bean.getBookbankPayeeInfo().setSaveFlag("C"); //CHANGE
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doChangeBBPayee >> END :::");
		}
		return flag;
	}

	private boolean doDeleteBBPayeeByBookbankPayeeId() {
		LOG.info("::: SEMMMM001Action :: doDeleteBBPayeeByBookbankPayeeId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("payeeIdParam");
			String bookbankPayeeId = getFacesUtils().getRequestParameter("bookbankPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("bookbankPayeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> bookbankPayeeId: " + bookbankPayeeId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);

			
			// -- call delete master
			flag = this.doDeleteMaster("PB", "", vendorId, "", payeeId, bookbankPayeeId, contractNo);
			
			if(flag) {
				//this.doNewBBPayee();
				
				this.doGetBBPayeeByBookbankPayeeId(contractNo,
						vendorId, payeeId, bookbankPayeeId, vendorMapPayeeId);
				
				// -- 2010/08/10
				// bookbank of payee list
				this.doGetBookbankPayeeByPayeeParam(contractNo, vendorId, payeeId, vendorMapPayeeId);
				
				this.doManagePBDetailBtn();
			}
			
			semmmm001Bean.setContractList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
			semmmm001Bean.setRenderedPnlCmpBookbankPayeeInfo(false);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doDeleteBBPayeeByBookbankPayeeId >> END :::");
		}
		return flag;
	}
	
	private boolean doDeleteBBPayeeMaster() {
		LOG.info("::: SEMMMM001Action :: doDeleteBBPayeeMaster >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("payeeIdParam");
			String bookbankPayeeId = getFacesUtils().getRequestParameter("bookbankPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("bookbankPayeeIdParam");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> bookbankPayeeId: " + bookbankPayeeId);

			// -- call delete master
			flag = this.doDeleteMaster("PB", "", vendorId, "", payeeId, bookbankPayeeId, contractNo);
			
			// -- payee of vendor list
			if(flag)
				this.doViewBBPayeeByBookbankPayeeId();
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doDeleteBBPayeeMaster >> END :::");
		}
		return flag;
	}
	
	private boolean doSendToMNGByBookbankPayeeId() {
		LOG.info("::: SEMMMM001Action :: doSendToMNGByBookbankPayeeId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("payeeIdParam");
			String bookbankPayeeId = getFacesUtils().getRequestParameter("bookbankPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("bookbankPayeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> bookbankPayeeId: " + bookbankPayeeId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);
			
			flag = this.doSendToMNG("PB", vendorId, "", payeeId, bookbankPayeeId);
			
			if(flag){
				//this.doNewBBPayee();
				
				// -- 2010/08/10
				// bookbank of payee list
//				this.doGetBookbankPayeeByPayeeParam(contractNo, vendorId, payeeId);
				this.doGetBBPayeeByBookbankPayeeId(contractNo,
						vendorId, payeeId, bookbankPayeeId, vendorMapPayeeId);
				
//				this.doGetBookbankPayeeByPayeeParam(semmmm001Bean.getContractInfo().getContractNo(),
//													semmmm001Bean.getVendorInfo().getVendorId(), 
//													semmmm001Bean.getPayeeInfo().getPayeeId());
				
				semmmm001Bean.setRenderedPnlCmpBookbankPayeeInfo(false);
				flag = true;
				
//				addGeneralMessageInfo("success !!");
				this.doManagePBDetailBtn();
				addMessageInfo("M0001");
			}
			
			semmmm001Bean.setContractList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
			semmmm001Bean.setRenderedPnlCmpBookbankPayeeInfo(false);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSendToMNGByBookbankPayeeId >> END :::");
		}
		return flag;
	}
	
	private boolean doSaveBBPayeeInfo() {
		LOG.info("::: SEMMMM001Action :: doSaveBBPayeeInfo >> BEGIN :::");
		boolean flag = true;
		semmmm001Bean = getSemmmm001Bean();
		List<ItemResultSP> result = null;
		
		try {
			
			
			semmmm001Bean.setSaveSuccessFlag(false);
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			String saveFlag = semmmm001Bean.getBookbankPayeeInfo().getSaveFlag() == null ? "" : 
				   (String)semmmm001Bean.getBookbankPayeeInfo().getSaveFlag();
			
			String validateFlag = getFacesUtils().getRequestParameter("validateFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("validateFlag");
			String validateCaseId = getFacesUtils().getRequestParameter("validateCaseId") == null ? "" : (String)getFacesUtils().getRequestParameter("validateCaseId");
			
			LOG.debug(">>> saveFlag: " + saveFlag);
			LOG.debug(">>> contractInfoObj: " + semmmm001Bean.getContractInfo().toString());
			LOG.debug(">>> validateFlag: " + validateFlag);
			LOG.debug(">>> validateCaseId: " + validateCaseId);
			
			
			if(!doValidateBookbankPayeeMaster()){
				semmmm001Bean.setRenderedResultMsgAlert(false);
				flag = false;
			}
			
//			
			if(saveFlag.equals("C")){ // CHANGE
				
				semmmm001Bean.getBookbankPayeeInfoCmpObj().setSaveFlag("C");
				semmmm001Bean.getBookbankPayeeInfoCmpObj().setContractNo(semmmm001Bean.getContractInfo().getContractNo());
				semmmm001Bean.getBookbankPayeeInfoCmpObj().setVendorId(semmmm001Bean.getVendorInfo().getVendorId());
				semmmm001Bean.getBookbankPayeeInfoCmpObj().setPayeeId(semmmm001Bean.getPayeeInfo().getPayeeId());
				semmmm001Bean.getBookbankPayeeInfoCmpObj().setBookbankPayeeId(semmmm001Bean.getBookbankPayeeInfo().getBookbankPayeeId());
				semmmm001Bean.getBookbankPayeeInfoCmpObj().setVendorMapPayeeId(semmmm001Bean.getBookbankPayeeInfo().getVendorMapPayeeId());
				semmmm001Bean.getBookbankPayeeInfoCmpObj().setUpdateBy(getUserLogIn());
				
				if(semmmm001Bean.getBookbankPayeeInfoCmpObj().getFirstEffectiveDt() != null){
					String firstEffectiveDtStr = DateUtil.convertDateTime2StringWithLocale(semmmm001Bean.getBookbankPayeeInfoCmpObj().getFirstEffectiveDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale);
					semmmm001Bean.getBookbankPayeeInfoCmpObj().setFirstEffectiveDtStr(firstEffectiveDtStr);
				}
				
				if(semmmm001Bean.getBookbankPayeeInfoCmpObj().getEffectiveDt() != null){
					String effectiveDtStr = DateUtil.convertDateTime2StringWithLocale(semmmm001Bean.getBookbankPayeeInfoCmpObj().getEffectiveDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale);
					semmmm001Bean.getBookbankPayeeInfoCmpObj().setEffectiveDtStr(effectiveDtStr);
				}
				
				if(semmmm001Bean.getBookbankPayeeInfoCmpObj().getExpireDt() != null){
					String expireDtStr = DateUtil.convertDateTime2StringWithLocale(semmmm001Bean.getBookbankPayeeInfoCmpObj().getExpireDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale);
					semmmm001Bean.getBookbankPayeeInfoCmpObj().setExpireDtStr(expireDtStr);
				}
				
				semmmm001Bean.getBookbankPayeeInfoCmpObj().setValidateFlag(validateFlag);
				semmmm001Bean.getBookbankPayeeInfoCmpObj().setValidateCaseId(validateCaseId);
				
				LOG.debug(">>> bookbankPayeeInfoCmpObj: " + semmmm001Bean.getBookbankPayeeInfoCmpObj().toString());
				
				if(flag)
					result = service.querySPList(EQueryName.SEM_SAP_BB_PAYEE_SAVE_DRAFT.name, semmmm001Bean.getBookbankPayeeInfoCmpObj());
				
			} else { // NEW, EDIT
				
				semmmm001Bean.getBookbankPayeeInfo().setContractNo(semmmm001Bean.getContractInfo().getContractNo());
				semmmm001Bean.getBookbankPayeeInfo().setVendorId(semmmm001Bean.getVendorInfo().getVendorId());
				semmmm001Bean.getBookbankPayeeInfo().setPayeeId(semmmm001Bean.getPayeeInfo().getPayeeId());
				semmmm001Bean.getBookbankPayeeInfo().setUpdateBy(getUserLogIn());
				
				if(semmmm001Bean.getBookbankPayeeInfo().getFirstEffectiveDt() != null){
					String firstEffectiveDtStr = DateUtil.convertDateTime2StringWithLocale(semmmm001Bean.getBookbankPayeeInfo().getFirstEffectiveDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale);
					semmmm001Bean.getBookbankPayeeInfo().setFirstEffectiveDtStr(firstEffectiveDtStr);
				}
				
				if(semmmm001Bean.getBookbankPayeeInfo().getEffectiveDt() != null){
					String effectiveDtStr = DateUtil.convertDateTime2StringWithLocale(semmmm001Bean.getBookbankPayeeInfo().getEffectiveDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale);
					semmmm001Bean.getBookbankPayeeInfo().setEffectiveDtStr(effectiveDtStr);
				}
				
				if(semmmm001Bean.getBookbankPayeeInfo().getExpireDt() != null){
					String expireDtStr = DateUtil.convertDateTime2StringWithLocale(semmmm001Bean.getBookbankPayeeInfo().getExpireDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale);
					semmmm001Bean.getBookbankPayeeInfo().setExpireDtStr(expireDtStr);
				}
				
				semmmm001Bean.getBookbankPayeeInfo().setValidateFlag(validateFlag);
				semmmm001Bean.getBookbankPayeeInfo().setValidateCaseId(validateCaseId);
				if(semmmm001Bean.getVendorInfo().getVendorMapPayeeId() != null)
					semmmm001Bean.getBookbankPayeeInfo().setVendorMapPayeeId(semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
				
				LOG.debug(">>> bookbankPayeeInfoObj: " + semmmm001Bean.getBookbankPayeeInfo().toString());
				
				if(flag)
					result = service.querySPList(EQueryName.SEM_SAP_BB_PAYEE_SAVE_DRAFT.name, semmmm001Bean.getBookbankPayeeInfo());
			}
			
			if(result != null && result.size() != 0 &&
			   result.get(0).getResultType() != null && 
			   result.get(0).getResultType().equalsIgnoreCase("SUCCESS")){
					
					//send email
					if(StringUtils.equals("Y", semmmm001Bean.getRetResultObj().getEmailFlag())){
						EMAILModel email = new EMAILModel();
						boolean sendMailResult = false;
						if(semmmm001Bean.getRetResultObj().getEmailFrom()!=null && !StringUtils.equals("", semmmm001Bean.getRetResultObj().getEmailFrom()))
							email.setEmail_from(semmmm001Bean.getRetResultObj().getEmailFrom());
						if(semmmm001Bean.getRetResultObj().getEmailTo()!=null && !StringUtils.equals("", semmmm001Bean.getRetResultObj().getEmailTo()))
							email.setEmail_to(semmmm001Bean.getRetResultObj().getEmailTo());
						if(semmmm001Bean.getRetResultObj().getEmailSubject()!=null && !StringUtils.equals("", semmmm001Bean.getRetResultObj().getEmailSubject()))
							email.setV_Subject(semmmm001Bean.getRetResultObj().getEmailSubject());
						if(semmmm001Bean.getRetResultObj().getEmailDetail()!=null && !StringUtils.equals("", semmmm001Bean.getRetResultObj().getEmailDetail()))
							email.setV_Message(semmmm001Bean.getRetResultObj().getEmailDetail());
						
	//					EmailMessageUtil.sendEmail(emailM);doSendEmail(email);
						
						sendMailResult = EmailMessageUtil.sendEmail(email);
						if(!sendMailResult){
							addGeneralMessageWarn(msg("message.sendmailerror")+" : "+email.getEmail_to());
						}
						LOG.debug("sendMailEesult = "+sendMailResult);
					}
					
					// Get bookbank payee Data
					
					this.doGetBBPayeeByBookbankPayeeId(semmmm001Bean.getContractInfo().getContractNo(),
							semmmm001Bean.getVendorInfo().getVendorId(), 
							semmmm001Bean.getPayeeInfo().getPayeeId(), result.get(0).getResultCode(), semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
					
					this.doGetBookbankPayeeByPayeeParam(semmmm001Bean.getContractInfo().getContractNo(),
														semmmm001Bean.getVendorInfo().getVendorId(), 
														semmmm001Bean.getPayeeInfo().getPayeeId(),
														semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
					
					semmmm001Bean.setRenderedPnlCmpBookbankPayeeInfo(false);
					flag = true;
					
//					addGeneralMessageInfo("success !!");
					this.doManagePBDetailBtn();
					//backup new data after save for cancel 
					this.doBackupPYRequestParam();
					
					//clear Account No Max Length
					if(semmmm001Bean.getBookbankPayeeInfo().getAccountNo() != null && StringUtils.isNotEmpty(semmmm001Bean.getBookbankPayeeInfo().getAccountNo())){
						int maxLength = semmmm001Bean.getBookbankPayeeInfo().getAccountNo().length();
						LOG.debug("maxLength : "+maxLength);
						semmmm001Bean.setAccountNoMaxLengthPayee(String.valueOf(maxLength));
					}else{
						semmmm001Bean.setAccountNoMaxLengthPayee("");
					}
					semmmm001Bean.setAccountNoMaxLengthPayeeCmp("");
					
					addMessageInfo("M0001");
			} else {
				flag = false;
			}
			
			// - result dialog -
			resultDialog(result);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
			
			resultDialogException(SEMDataUtility.buildMessage(getMessageByCode("EL0000"), "SEMMMM001Action"));
		} finally {
			semmmm001Bean.setSaveSuccessFlag(flag);
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSaveBBPayeeInfo >> END :::");
		}
		return flag;
	}
	
	private boolean doGetBBPayeeByBookbankPayeeId(String contractNo,String vendorId,String payeeId,String bookbankPayeeId,String vendorMapPayeeId) {
		LOG.info("::: SEMMMM001Action :: doViewBBPayeeByBookbankPayeeId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
//			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
//				   (String)getFacesUtils().getRequestParameter("contractNoParam");
//			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
//				   (String)getFacesUtils().getRequestParameter("vendorIdParam");
//			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
//				   (String)getFacesUtils().getRequestParameter("payeeIdParam");
//			String bookbankPayeeId = getFacesUtils().getRequestParameter("bookbankPayeeIdParam") == null ? "" : 
//				   (String)getFacesUtils().getRequestParameter("bookbankPayeeIdParam");
//			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
//				   (String)getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
//			
			String saveFlag = semmmm001Bean.getBookbankPayeeInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getBookbankPayeeInfo().getSaveFlag();
//			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> bookbankPayeeId: " + bookbankPayeeId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);
			
//			this.doGetPBRequestParam();

//			if(contractNo.isEmpty()){
//				semmmm001Bean.setVisiblePnlContractInfo(false);
//			} else {
//				semmmm001Bean.setVisiblePnlContractInfo(true);
//			}
//			
			
//			if(saveFlag.equalsIgnoreCase("C")){
//				// -- bookbank payee info (CMP)
//				this.doGetBookbankPayeeInfoCmpByBookbankPayeeParam(contractNo, vendorId, bookbankPayeeId, vendorMapPayeeId);
//				
//				semmmm001Bean.setRenderedPnlCmpBookbankInfo(true);
//			} else {
				// -- contract info + vendor of contract list
				this.doGetContractInfoByContractParam(contractNo);
				
				// -- vendor detail
//				this.doGetVendorInfoByVendorParam(contractNo, vendorId);
	
				// -- payee detail
//				this.doGetPayeeInfoByPayeeParam(contractNo, vendorId, payeeId, vendorMapPayeeId);
				
				// -- bookbank payee info
				this.doGetBookbankPayeeInfoByBookbankPayeeParam(contractNo, vendorId, bookbankPayeeId, vendorMapPayeeId);
				
				semmmm001Bean.setDisableContent(true); 
				semmmm001Bean.setDisableEditBookbankPayeeContent(true); 
				
				semmmm001Bean.setDisableBtnSaveBookbankPayee(true);
				semmmm001Bean.setDisableBtnEditBookbankPayee(false);
				
				semmmm001Bean.setRenderedPnlCmpBookbankPayeeInfo(false);
//			}
			
//			this.doSetPayeeLocation();
			
			// 2017/08/24 -- enabled BtnSendToMng (BookBankPayee) when flowStatus 01, 03, 05, 07
//			String bookbankPayeeFlowStatus = semmmm001Bean.getBookbankPayeeInfo().getBookbankFlowStatus() == null ? "" : 
//				   (String) semmmm001Bean.getBookbankPayeeInfo().getBookbankFlowStatus();
//			if(!bookbankPayeeId.isEmpty() && StringUtils.indexOf("X01,03,05,07", bookbankPayeeFlowStatus, 0) > 0)
//				semmmm001Bean.setDisableBtnSendManagerPB(false);
//			else
//				semmmm001Bean.setDisableBtnSendManagerPB(true);
//			
//			this.doManagePBDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewBBPayeeByBookbankPayeeId >> END :::");
		}
		return flag;
	}
	
	private boolean doViewBBPayeeSAPInfo() {
		LOG.info("::: SEMMMM001Action :: doViewBBPayeeSAPInfo >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001BookbankSP> bookbankResultList = new ArrayList<Mmm001BookbankSP>();
			
			String rowId = getFacesUtils().getRequestParameter("rowIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("rowIdParam");
			String saveFlag = semmmm001Bean.getBookbankInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getBookbankInfo().getSaveFlag();
			
			LOG.debug(">> rowId: " + rowId);
			LOG.debug(">> saveFlag: " + saveFlag);
			
			List<WrapperBeanObject<Mmm001SAPBookbankSP>> tmpPopupSAPList = semmmm001Bean.getSemSapBookbankList();
			if(tmpPopupSAPList != null && !rowId.equals("")){
				// -- detail (SAP)
				Mmm001SAPBookbankSP tmpBookbankParams = new Mmm001SAPBookbankSP();
				Mmm001SAPBookbankSP bookbankSAPObj = new Mmm001SAPBookbankSP();
				for(WrapperBeanObject<Mmm001SAPBookbankSP> obj : tmpPopupSAPList){
					bookbankSAPObj = (Mmm001SAPBookbankSP)obj.getDataObj();
					if(bookbankSAPObj.getRowId().equals(rowId)){
						tmpBookbankParams.setAccountNo(bookbankSAPObj.getAccountNo());
						tmpBookbankParams.setAccountName(bookbankSAPObj.getAccountName());
						tmpBookbankParams.setAccountType(bookbankSAPObj.getAccountType());
						tmpBookbankParams.setBankCode(bookbankSAPObj.getBankCode());
						break;
					}
				}
				
				bookbankResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_DETAIL_SAP.name, tmpBookbankParams);
				// xxx
				
				if(bookbankResultList != null && bookbankResultList.size() != 0) {
					Mmm001BookbankSP obj = (Mmm001BookbankSP) bookbankResultList.get(0);
					
					Mmm001BookbankPayeeSP bbPayeeObj = new Mmm001BookbankPayeeSP();
					bbPayeeObj.setAccountType(obj.getAccountType());
					bbPayeeObj.setBankCode(obj.getBankCode());
					bbPayeeObj.setAccountNo(obj.getAccountNo());
					bbPayeeObj.setAccountName(obj.getAccountName());
					bbPayeeObj.setBankBranch(obj.getBankBranch());
					bbPayeeObj.setProvince(obj.getProvince());
					bbPayeeObj.setRemark(obj.getRemark());
					LOG.info(">> Mmm001BookbankPayeeSP: " + bbPayeeObj.toString());
					
					if(saveFlag.equalsIgnoreCase("C")){
						semmmm001Bean.setBookbankPayeeInfoCmpObj(new Mmm001BookbankPayeeSP());  // clear object
						
						semmmm001Bean.setBookbankPayeeInfoCmpObj(bbPayeeObj);
						this.doFillinBookbankPayeeInfoCmp();
						
						semmmm001Bean.setRenderedPnlCmpBookbankInfo(true);
					} else {
						semmmm001Bean.setBookbankPayeeInfo(new Mmm001BookbankPayeeSP()); // clear object
						
						semmmm001Bean.setBookbankPayeeInfo(bbPayeeObj);
						this.doFillinBookbankPayeeInfo();
						
						semmmm001Bean.setDisableContent(true); 
						semmmm001Bean.setDisableBtnEditBookbank(false);
						semmmm001Bean.setRenderedPnlCmpBookbankInfo(false);
					}
				}
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewBBPayeeSAPInfo >> END :::");
		}
		return flag;
	}
	
	
	
	// ---------------------------------------------------------------------------------
	private boolean searchVendorMasterList() {
		LOG.info("::: SEMMMM001Action :: searchVendorMasterList >> BEGIN :::");
		boolean flag = true;
		
		IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
		List<Mmm001VendorMasterSP> to = null;
		
		try {
			
			semmmm001Bean.setVendorMasterResultList(new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>());
			semmmm001Bean.setVendorMasterTerminateResultList(new ArrayList <WrapperBeanObject<Mmm001VendorMasterSP>>());
			
			// --
			String regionConcatParam = "";
			String arrRegion[] = semmmm001Bean.getVendorMasterCriteria().getArrRegion().length == 0 ? null : 
								 semmmm001Bean.getVendorMasterCriteria().getArrRegion();
			if(arrRegion != null){
				for(Object s : arrRegion){
					LOG.debug("REGION: " + s.toString());
					regionConcatParam += s.toString().concat("|");
				}
				regionConcatParam = regionConcatParam.substring(0, regionConcatParam.lastIndexOf("|"));
			}
			semmmm001Bean.getVendorMasterCriteria().setRegion(regionConcatParam);
			LOG.debug(">> regionConcatParam: " + regionConcatParam);
			
			// --
			if(semmmm001Bean.isChkPicoType()){
				semmmm001Bean.getVendorMasterCriteria().setSystemType("PICO");
			} else {
				semmmm001Bean.getVendorMasterCriteria().setSystemType("");
			}
			
			if(semmmm001Bean.isChkVendorType()){
				semmmm001Bean.getVendorMasterCriteria().setVendorType("Y");
			} else {
				semmmm001Bean.getVendorMasterCriteria().setVendorType("N");
			}
			
			if(semmmm001Bean.isChkPayeeType()){
				semmmm001Bean.getVendorMasterCriteria().setPayeeType("Y");
			} else {
				semmmm001Bean.getVendorMasterCriteria().setPayeeType("N");
			}
			
			if(semmmm001Bean.isChkDummyFlag()){
				semmmm001Bean.getVendorMasterCriteria().setDummyFlag("Y");
			}else{
				semmmm001Bean.getVendorMasterCriteria().setDummyFlag("N");
			}
			
			// ----------------------------------------- >>>
			// -- contract flag for ACTTIVED and EXPIRED >>>
			semmmm001Bean.getVendorMasterCriteria().setContractFlag("A");
//			System.out.println("bank name : "+semmmm001Bean.getVendorMasterCriteria().getBankCode());
			LOG.debug(">> criteria: " + semmmm001Bean.getVendorMasterCriteria().toString());
			LOG.debug(">> criteria getNoExportBatch : " + semmmm001Bean.getVendorMasterCriteria().getNoExportBatch());
			to = service.querySPList(EQueryName.SEM_SAP_SP_VENDOR_SEARCH.name, semmmm001Bean.getVendorMasterCriteria());
			
			if (to != null && to.size() != 0) {
				
				LOG.debug(">> to.size() = "+to.size());
				semmmm001Bean.setVendorMasterResultList(new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>());
				for (int i=0; i<to.size(); i++) {
					Mmm001VendorMasterSP o = to.get(i);
					WrapperBeanObject<Mmm001VendorMasterSP> tmpWrapperBean = new WrapperBeanObject<Mmm001VendorMasterSP>();
					
					if(o.getEffectiveDt() != null){
						o.setEffectiveDtStr(convertYearENtoTHStr(o.getEffectiveDt()));
					}
					
					if(o.getVendorEffectiveDt() != null){
						o.setVendorEffectiveDtStr(convertYearENtoTHStr(o.getVendorEffectiveDt()));
					}
					
					if(o.getContractEffectiveDt() != null){
						o.setContractEffectiveDtStr(convertYearENtoTHStr(o.getContractEffectiveDt()));
					}
					
					if(o.getContractExpireDt() != null){
						o.setContractExpireDtStr(convertYearENtoTHStr(o.getContractExpireDt()));
					}
					
					if(o.getActionDetail() != null){
						o.setActionDetail(StringUtils.substring(o.getActionDetail(), 0, o.getActionDetail().lastIndexOf(",")));
						LOG.debug("Action Detail Sub Last , : "+o.getActionDetail());
					}
					
					if(o.getActionTypeDisplay() != null){
						o.setActionTypeDisplay(StringUtils.substring(o.getActionTypeDisplay(), 0, o.getActionTypeDisplay().lastIndexOf(",")));
						LOG.debug("Action Detail Sub Last , : "+o.getActionTypeDisplay());
					}
					
					if(o.getOtherStatus() != null){
						o.setOtherStatus(StringUtils.substring(o.getOtherStatus(), 0, o.getOtherStatus().lastIndexOf(",")));
						LOG.debug("Other Status Sub Last , : "+o.getOtherStatus());
					}
					
					tmpWrapperBean.setDataObj(o);
					tmpWrapperBean.setMessage("");
					tmpWrapperBean.setCheckBox(false);
					semmmm001Bean.getVendorMasterResultList().add(tmpWrapperBean);
				}
			}
			// -- contract flag for ACTTIVED and EXPIRED <<<
			// ----------------------------------------- <<<
			
			// -------------------------------------------- >>>
			// -- contract flag for TERMINATED and PREVIOUS >>>
			semmmm001Bean.getVendorMasterCriteria().setContractFlag("T");
			
			LOG.debug(">> criteria: " + semmmm001Bean.getVendorMasterCriteria().toString());
			LOG.debug(">> criteria getNoExportBatch : " + semmmm001Bean.getVendorMasterCriteria().getNoExportBatch());
			to = service.querySPList(EQueryName.SEM_SAP_SP_VENDOR_SEARCH.name, semmmm001Bean.getVendorMasterCriteria());
			
			if (to != null && to.size() != 0) {
				
				LOG.debug(">> to.size() = "+to.size());
				semmmm001Bean.setVendorMasterTerminateResultList(new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>());
				for (int i=0; i<to.size(); i++) {
					Mmm001VendorMasterSP o = to.get(i);
					WrapperBeanObject<Mmm001VendorMasterSP> tmpWrapperBean = new WrapperBeanObject<Mmm001VendorMasterSP>();
					
					if(o.getEffectiveDt() != null){
						o.setEffectiveDtStr(convertYearENtoTHStr(o.getEffectiveDt()));
					}
					

					if(o.getVendorEffectiveDt() != null){
						o.setVendorEffectiveDtStr(convertYearENtoTHStr(o.getVendorEffectiveDt()));
					}
					
					if(o.getContractEffectiveDt() != null){
						o.setContractEffectiveDtStr(convertYearENtoTHStr(o.getContractEffectiveDt()));
					}
					
					if(o.getContractExpireDt() != null){
						o.setContractExpireDtStr(convertYearENtoTHStr(o.getContractExpireDt()));
					}
					
					if(o.getActionDetail() != null){
						o.setActionDetail(StringUtils.substring(o.getActionDetail(), 0, o.getActionDetail().lastIndexOf(",")));
						LOG.debug("Action Detail Sub Last , : "+o.getActionDetail());
					}
					
					if(o.getActionTypeDisplay() != null){
						o.setActionTypeDisplay(StringUtils.substring(o.getActionTypeDisplay(), 0, o.getActionTypeDisplay().lastIndexOf(",")));
						LOG.debug("Action Detail Sub Last , : "+o.getActionTypeDisplay());
					}
					
					if(o.getOtherStatus() != null){
						o.setOtherStatus(StringUtils.substring(o.getOtherStatus(), 0, o.getOtherStatus().lastIndexOf(",")));
						LOG.debug("Other Status Sub Last , : "+o.getOtherStatus());
					}
					
					tmpWrapperBean.setDataObj(o);
					tmpWrapperBean.setMessage("");
					tmpWrapperBean.setCheckBox(false);
					semmmm001Bean.getVendorMasterTerminateResultList().add(tmpWrapperBean);
				}
			}
			// -------------------------------------------- <<<
			// -- contract flag for TERMINATED and PREVIOUS <<<
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: searchVendorMasterList >> END :::");
		}
		return flag;
	}
	
	private boolean doExportBatch(String type, String rowIdParam) {
		LOG.info("::: SEMMMM001Action :: doExportBatch >> BEGIN :::");
		boolean flag = true;
		
		IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
		List<Mmm001ExportBatchResultSP> result = null;
		
		try {
			semmmm001Bean.setExportBatchResultList(new ArrayList<WrapperBeanObject<Mmm001ExportBatchResultSP>>());
			setSemmmm001Bean(semmmm001Bean);
			
			ItemParamsSP params = new ItemParamsSP();
			params.setParam1(type);
			params.setParam2(rowIdParam);
			params.setParam3(getUserLogIn());
			
			result = service.querySPList(EQueryName.SEM_SAP_EXPORT_BATCH.name, params);
			
			if (result != null) {
				LOG.debug(">> result.size() = " + result.size());
				for (int i=0; i<result.size(); i++) {
					Mmm001ExportBatchResultSP o = result.get(i);
					WrapperBeanObject<Mmm001ExportBatchResultSP> tmpWrapperBean = new WrapperBeanObject<Mmm001ExportBatchResultSP>();
					
					tmpWrapperBean.setDataObj(o);
					tmpWrapperBean.setMessage("");
					tmpWrapperBean.setCheckBox(false);
					semmmm001Bean.getExportBatchResultList().add(tmpWrapperBean);
				}
				LOG.debug(">> result = " + result.toString());
				
				semmmm001Bean.setRenderedExportBatchResultAlert(true);
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doExportBatch >> END :::");
		}
		return flag;
	}
	
	private boolean doSendToMNG(String type, String vendorId, String bookbankId, String payeeId, String bookbankPayeeId) {
		LOG.info("::: SEMMMM001Action :: doSendToMNG >> BEGIN :::");
		boolean flag = true;
		
		IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
		List<ItemResultSP> result = null;
		
		try {
			setSemmmm001Bean(semmmm001Bean);
			
			ItemParamsSP params = new ItemParamsSP();
			params.setParam1(type);
			params.setParam2(vendorId);
			params.setParam3(bookbankId);
			params.setParam4(payeeId);
			params.setParam5(bookbankPayeeId);
			params.setParam6("STM");	//statusFrom
			params.setParam7("");		//send null
			params.setParam8(getUserLogIn());
			
			result = service.querySPList(EQueryName.SEM_SAP_CHANGE_STATUS.name, params);
			
			if(result != null && result.size() != 0 &&
			   result.get(0).getResultType() != null && 
			   result.get(0).getResultType().equalsIgnoreCase("SUCCESS")){
					flag = true;
			} else {
				flag = false;
			}
			
			// - result dialog -
			resultDialog(result);
			LOG.debug("semmmm001Bean.getRetResultObj().getResultMessage() : "+semmmm001Bean.getRetResultObj().getResultMessage());
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
			
			resultDialogException(SEMDataUtility.buildMessage(getMessageByCode("EL0000"), "SEMMMM001Action"));
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSendToMNG >> END :::");
		}
		return flag;
	}
	
	private boolean doDeleteByRowId(String type, String rowIdParam) {
		LOG.info("::: SEMMMM001Action :: doDeleteByRowId >> BEGIN :::");
		boolean flag = true;
		
		IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
		List<ItemResultSP> result = null;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			ItemParamsSP params = new ItemParamsSP();
			params.setParam1(rowIdParam);
			params.setParam2(getUserLogIn());
			
			result = service.querySPList(EQueryName.SEM_SAP_VENDOR_DELETE.name, params);
			
			if(result != null && result.size() != 0 && 
			   result.get(0).getResultType() != null && 
			   result.get(0).getResultType().equalsIgnoreCase("SUCCESS")){
				flag = true;
			} else {
				flag = false;
			}
			
			// - result dialog -
			resultDialog(result);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
			
			resultDialogException(SEMDataUtility.buildMessage(getMessageByCode("EL0000"), "SEMMMM001Action"));
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doDeleteByRowId >> END :::");
		}
		return flag;
	}
	
	private boolean doDeleteMaster(String actionType, String vendorMapPayeeId, String vendorId,
								   String bookbankId, String payeeId, String bookbankPayeeId,
								   String contractNo) {
		LOG.info("::: SEMMMM001Action :: doDeleteMaster >> BEGIN :::");
		boolean flag = true;
		

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			List<ItemResultSP> result = null;

			ItemParamsSP params = new ItemParamsSP();
			params.setParam1(actionType);		// actionType
			params.setParam2(vendorMapPayeeId);	// vendorMapPayeeId
			params.setParam3(vendorId);			// vendorId
			params.setParam4(bookbankId);		// bookbankId
			params.setParam5(payeeId);			// payeeId
			params.setParam6(bookbankPayeeId);	// bookbankPayeeId
			params.setParam7(contractNo);		// contractNo
			params.setParam8(getUserLogIn());
			
			result = service.querySPList(EQueryName.SEM_SAP_DELETE_MASTER.name, params);
			
			if(result != null && result.size() != 0 &&
			   result.get(0).getResultType() != null && 
			   result.get(0).getResultType().equalsIgnoreCase("SUCCESS")){
				
				// bookbank of payee list
				this.doGetBookbankPayeeByPayeeParam(contractNo, vendorId, payeeId, vendorMapPayeeId);
				
				flag = true;
			} else {
				flag = false;
			}
			
			// - result dialog -
			resultDialog(result);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
			
			resultDialogException(SEMDataUtility.buildMessage(getMessageByCode("EL0000"), "SEMMMM001Action"));
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doDeleteMaster >> END :::");
		}
		return flag;
	}
	
	public void doSetOwnerLocation() {
		LOG.info("::: SEMMMM001Action :: doSetLocation >> BEGIN :::");
		
		semmmm001Bean = getSemmmm001Bean();
	
		String vdPrvn = semmmm001Bean.getVendorAddrObj().getProvince();
		String vdAmpr = semmmm001Bean.getVendorAddrObj().getAmphur();
		String vdTmbl = semmmm001Bean.getVendorAddrObj().getTambol();
		String vdLclDprtmnt = semmmm001Bean.getVendorAddrObj().getpTaxFlag();
		String vdAmprName = semmmm001Bean.getVendorAddrObj().getAmphurName();
		String vdTmblName = semmmm001Bean.getVendorAddrObj().getTambolName();
		
		String rtPrvn = semmmm001Bean.getRentalAddrObj().getProvince();
		String rtAmpr = semmmm001Bean.getRentalAddrObj().getAmphur();
		String rtTmbl = semmmm001Bean.getRentalAddrObj().getTambol();
		String rtLclDprtmnt = semmmm001Bean.getRentalAddrObj().getpTaxFlag();
		String rtAmprName = semmmm001Bean.getRentalAddrObj().getAmphurName();
		String rtTmblName = semmmm001Bean.getRentalAddrObj().getTambolName();
		
		String elPrvn = semmmm001Bean.getElectrictAddrObj().getProvince();
		String elAmpr = semmmm001Bean.getElectrictAddrObj().getAmphur();
		String elTmbl = semmmm001Bean.getElectrictAddrObj().getTambol();
		String elLclDprtmnt = semmmm001Bean.getElectrictAddrObj().getpTaxFlag();
		String elAmprName = semmmm001Bean.getElectrictAddrObj().getAmphurName();
		String elTmblName = semmmm001Bean.getElectrictAddrObj().getTambolName();
		
		String ppPrvn = semmmm001Bean.getPropertyAddrObj().getProvince();
		String ppAmpr = semmmm001Bean.getPropertyAddrObj().getAmphur();
		String ppTmbl = semmmm001Bean.getPropertyAddrObj().getTambol();
		String ppLclDprtmnt = semmmm001Bean.getPropertyAddrObj().getpTaxFlag();
		String ppAmprName = semmmm001Bean.getPropertyAddrObj().getAmphurName();
		String ppTmblName = semmmm001Bean.getPropertyAddrObj().getTambolName();
		
		String inPrvn = semmmm001Bean.getInsureAddrObj().getProvince();
		String inAmpr = semmmm001Bean.getInsureAddrObj().getAmphur();
		String inTmbl = semmmm001Bean.getInsureAddrObj().getTambol();
		String inLclDprtmnt = semmmm001Bean.getInsureAddrObj().getpTaxFlag();
		String inAmprName = semmmm001Bean.getInsureAddrObj().getAmphurName();
		String inTmblName = semmmm001Bean.getInsureAddrObj().getTambolName();
		
		String csPrvn = semmmm001Bean.getConstructAddrObj().getProvince();
		String csAmpr = semmmm001Bean.getConstructAddrObj().getAmphur();
		String csTmbl = semmmm001Bean.getConstructAddrObj().getTambol();
		String csLclDprtmnt = semmmm001Bean.getConstructAddrObj().getpTaxFlag();
		String csAmprName = semmmm001Bean.getConstructAddrObj().getAmphurName();
		String csTmblName = semmmm001Bean.getConstructAddrObj().getTambolName();
		
		String whPrvn = semmmm001Bean.getWithholdAddrObj().getProvince();
		String whAmpr = semmmm001Bean.getWithholdAddrObj().getAmphur();
		String whTmbl = semmmm001Bean.getWithholdAddrObj().getTambol();
		String whLclDprtmnt = semmmm001Bean.getWithholdAddrObj().getpTaxFlag();
		String whAmprName = semmmm001Bean.getWithholdAddrObj().getAmphurName();
		String whTmblName = semmmm001Bean.getWithholdAddrObj().getTambolName();
		
		// --
		Province province = new Province();
		
		province.setProvinceCode(vdPrvn);
		semmmm001Bean.getVendorAddrObj().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getVendorAddrObj().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getVendorAddrObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, vdAmpr));
		semmmm001Bean.getVendorAddrObj().setChkAmphurOther(vdAmpr != null && vdAmpr.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getVendorAddrObj().setChkTambolOther(vdTmbl != null && vdTmbl.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getVendorAddrObj().setChkLocalDepartment(vdLclDprtmnt != null && vdLclDprtmnt.equalsIgnoreCase("Y") ? true : false);
		semmmm001Bean.getVendorAddrObj().setAmphurName(semmmm001Bean.getVendorAddrObj().isChkAmphurOther() ? vdAmprName : "");
		semmmm001Bean.getVendorAddrObj().setTambolName(semmmm001Bean.getVendorAddrObj().isChkTambolOther() ? vdTmblName : "");
		
		province.setProvinceCode(rtPrvn);
		semmmm001Bean.getRentalAddrObj().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getRentalAddrObj().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getRentalAddrObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, rtAmpr));
		semmmm001Bean.getRentalAddrObj().setChkAmphurOther(rtAmpr != null && rtAmpr.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getRentalAddrObj().setChkTambolOther(rtTmbl != null && rtTmbl.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getRentalAddrObj().setChkLocalDepartment(rtLclDprtmnt != null && rtLclDprtmnt.equalsIgnoreCase("Y") ? true : false);
		semmmm001Bean.getRentalAddrObj().setAmphurName(semmmm001Bean.getRentalAddrObj().isChkAmphurOther() ? rtAmprName : "");
		semmmm001Bean.getRentalAddrObj().setTambolName(semmmm001Bean.getRentalAddrObj().isChkTambolOther() ? rtTmblName : "");
		
		province.setProvinceCode(elPrvn);
		semmmm001Bean.getElectrictAddrObj().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getElectrictAddrObj().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getElectrictAddrObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, elAmpr));
		semmmm001Bean.getElectrictAddrObj().setChkAmphurOther(elAmpr != null && elAmpr.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getElectrictAddrObj().setChkTambolOther(elTmbl != null && elTmbl.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getElectrictAddrObj().setChkLocalDepartment(elLclDprtmnt != null && elLclDprtmnt.equalsIgnoreCase("Y") ? true : false);
		semmmm001Bean.getElectrictAddrObj().setAmphurName(semmmm001Bean.getElectrictAddrObj().isChkAmphurOther() ? elAmprName : "");
		semmmm001Bean.getElectrictAddrObj().setTambolName(semmmm001Bean.getElectrictAddrObj().isChkTambolOther() ? elTmblName : "");
		
		province.setProvinceCode(ppPrvn);
		semmmm001Bean.getPropertyAddrObj().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getPropertyAddrObj().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getPropertyAddrObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, ppAmpr));
		semmmm001Bean.getPropertyAddrObj().setChkAmphurOther(ppAmpr != null && ppAmpr.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getPropertyAddrObj().setChkTambolOther(ppTmbl != null && ppTmbl.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getPropertyAddrObj().setChkLocalDepartment(ppLclDprtmnt != null && ppLclDprtmnt.equalsIgnoreCase("Y") ? true : false);
		semmmm001Bean.getPropertyAddrObj().setAmphurName(semmmm001Bean.getPropertyAddrObj().isChkAmphurOther() ? ppAmprName : "");
		semmmm001Bean.getPropertyAddrObj().setTambolName(semmmm001Bean.getPropertyAddrObj().isChkTambolOther() ? ppTmblName : "");
		
		province.setProvinceCode(inPrvn);
		semmmm001Bean.getInsureAddrObj().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getInsureAddrObj().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getInsureAddrObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, inAmpr));
		semmmm001Bean.getInsureAddrObj().setChkAmphurOther(inAmpr != null && inAmpr.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getInsureAddrObj().setChkTambolOther(inTmbl != null && inTmbl.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getInsureAddrObj().setChkLocalDepartment(inLclDprtmnt != null && inLclDprtmnt.equalsIgnoreCase("Y") ? true : false);
		semmmm001Bean.getInsureAddrObj().setAmphurName(semmmm001Bean.getInsureAddrObj().isChkAmphurOther() ? inAmprName : "");
		semmmm001Bean.getInsureAddrObj().setTambolName(semmmm001Bean.getInsureAddrObj().isChkTambolOther() ? inTmblName : "");
		
		province.setProvinceCode(csPrvn);
		semmmm001Bean.getConstructAddrObj().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getConstructAddrObj().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getConstructAddrObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, csAmpr));
		semmmm001Bean.getConstructAddrObj().setChkAmphurOther(csAmpr != null && csAmpr.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getConstructAddrObj().setChkTambolOther(csTmbl != null && csTmbl.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getConstructAddrObj().setChkLocalDepartment(csLclDprtmnt != null && csLclDprtmnt.equalsIgnoreCase("Y") ? true : false);
		semmmm001Bean.getConstructAddrObj().setAmphurName(semmmm001Bean.getConstructAddrObj().isChkAmphurOther() ? csAmprName : "");
		semmmm001Bean.getConstructAddrObj().setTambolName(semmmm001Bean.getConstructAddrObj().isChkTambolOther() ? csTmblName : "");
		
		province.setProvinceCode(whPrvn);
		semmmm001Bean.getWithholdAddrObj().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getWithholdAddrObj().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getWithholdAddrObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, whAmpr));
		semmmm001Bean.getWithholdAddrObj().setChkAmphurOther(whAmpr != null && whAmpr.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getWithholdAddrObj().setChkTambolOther(whTmbl != null && whTmbl.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getWithholdAddrObj().setChkLocalDepartment(whLclDprtmnt != null && whLclDprtmnt.equalsIgnoreCase("Y") ? true : false);
		semmmm001Bean.getWithholdAddrObj().setAmphurName(semmmm001Bean.getWithholdAddrObj().isChkAmphurOther() ? whAmprName : "");
		semmmm001Bean.getWithholdAddrObj().setTambolName(semmmm001Bean.getWithholdAddrObj().isChkTambolOther() ? whTmblName : "");
		
		
		// Cmp --
		String vdPrvnCmp = semmmm001Bean.getVendorAddrCmpObj().getProvince();
		String vdAmprCmp = semmmm001Bean.getVendorAddrCmpObj().getAmphur();
		String vdTmblCmp = semmmm001Bean.getVendorAddrCmpObj().getTambol();
		String vdLclDprtmntCmp = semmmm001Bean.getVendorAddrCmpObj().getpTaxFlag();
		String vdAmprNameCmp = semmmm001Bean.getVendorAddrCmpObj().getAmphurName();
		String vdTmblNameCmp = semmmm001Bean.getVendorAddrCmpObj().getTambolName();
		
		String rtPrvnCmp = semmmm001Bean.getRentalAddrCmpObj().getProvince();
		String rtAmprCmp = semmmm001Bean.getRentalAddrCmpObj().getAmphur();
		String rtTmblCmp = semmmm001Bean.getRentalAddrCmpObj().getTambol();
		String rtLclDprtmntCmp = semmmm001Bean.getRentalAddrCmpObj().getpTaxFlag();
		String rtAmprNameCmp = semmmm001Bean.getRentalAddrCmpObj().getAmphurName();
		String rtTmblNameCmp = semmmm001Bean.getRentalAddrCmpObj().getTambolName();
		
		String elPrvnCmp = semmmm001Bean.getElectrictAddrCmpObj().getProvince();
		String elAmprCmp = semmmm001Bean.getElectrictAddrCmpObj().getAmphur();
		String elTmblCmp = semmmm001Bean.getElectrictAddrCmpObj().getTambol();
		String elLclDprtmntCmp = semmmm001Bean.getElectrictAddrCmpObj().getpTaxFlag();
		String elAmprNameCmp = semmmm001Bean.getElectrictAddrCmpObj().getAmphurName();
		String elTmblNameCmp = semmmm001Bean.getElectrictAddrCmpObj().getTambolName();
		
		String ppPrvnCmp = semmmm001Bean.getPropertyAddrCmpObj().getProvince();
		String ppAmprCmp = semmmm001Bean.getPropertyAddrCmpObj().getAmphur();
		String ppTmblCmp = semmmm001Bean.getPropertyAddrCmpObj().getTambol();
		String ppLclDprtmntCmp = semmmm001Bean.getPropertyAddrCmpObj().getpTaxFlag();
		String ppAmprNameCmp = semmmm001Bean.getPropertyAddrCmpObj().getAmphurName();
		String ppTmblNameCmp = semmmm001Bean.getPropertyAddrCmpObj().getTambolName();
		
		String inPrvnCmp = semmmm001Bean.getInsureAddrCmpObj().getProvince();
		String inAmprCmp = semmmm001Bean.getInsureAddrCmpObj().getAmphur();
		String inTmblCmp = semmmm001Bean.getInsureAddrCmpObj().getTambol();
		String inLclDprtmntCmp = semmmm001Bean.getInsureAddrCmpObj().getpTaxFlag();
		String inAmprNameCmp = semmmm001Bean.getInsureAddrCmpObj().getAmphurName();
		String inTmblNameCmp = semmmm001Bean.getInsureAddrCmpObj().getTambolName();
		
		String csPrvnCmp = semmmm001Bean.getConstructAddrCmpObj().getProvince();
		String csAmprCmp = semmmm001Bean.getConstructAddrCmpObj().getAmphur();
		String csTmblCmp = semmmm001Bean.getConstructAddrCmpObj().getTambol();
		String csLclDprtmntCmp = semmmm001Bean.getConstructAddrCmpObj().getpTaxFlag();
		String csAmprNameCmp = semmmm001Bean.getConstructAddrCmpObj().getAmphurName();
		String csTmblNameCmp = semmmm001Bean.getConstructAddrCmpObj().getTambolName();
		
		String whPrvnCmp = semmmm001Bean.getWithholdAddrCmpObj().getProvince();
		String whAmprCmp = semmmm001Bean.getWithholdAddrCmpObj().getAmphur();
		String whTmblCmp = semmmm001Bean.getWithholdAddrCmpObj().getTambol();
		String whLclDprtmntCmp = semmmm001Bean.getWithholdAddrCmpObj().getpTaxFlag();
		String whAmprNameCmp = semmmm001Bean.getWithholdAddrCmpObj().getAmphurName();
		String whTmblNameCmp = semmmm001Bean.getWithholdAddrCmpObj().getTambolName();
		
		// --
		
		province.setProvinceCode(vdPrvnCmp);
		semmmm001Bean.getVendorAddrCmpObj().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getVendorAddrCmpObj().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getVendorAddrCmpObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, vdAmprCmp));
		semmmm001Bean.getVendorAddrCmpObj().setChkAmphurOther(vdAmprCmp != null && vdAmprCmp.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getVendorAddrCmpObj().setChkTambolOther(vdTmblCmp != null && vdTmblCmp.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getVendorAddrCmpObj().setChkLocalDepartment(vdLclDprtmntCmp != null && vdLclDprtmntCmp.equalsIgnoreCase("Y") ? true : false);
		semmmm001Bean.getVendorAddrCmpObj().setAmphurName(semmmm001Bean.getVendorAddrCmpObj().isChkAmphurOther() ? vdAmprNameCmp : "");
		semmmm001Bean.getVendorAddrCmpObj().setTambolName(semmmm001Bean.getVendorAddrCmpObj().isChkTambolOther() ? vdTmblNameCmp : "");
		
		province.setProvinceCode(rtPrvnCmp);
		semmmm001Bean.getRentalAddrCmpObj().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getRentalAddrCmpObj().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getRentalAddrCmpObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, rtAmprCmp));
		semmmm001Bean.getRentalAddrCmpObj().setChkAmphurOther(rtAmprCmp != null && rtAmprCmp.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getRentalAddrCmpObj().setChkTambolOther(rtTmblCmp != null && rtTmblCmp.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getRentalAddrCmpObj().setChkLocalDepartment(rtLclDprtmntCmp != null && rtLclDprtmntCmp.equalsIgnoreCase("Y") ? true : false);
		semmmm001Bean.getRentalAddrCmpObj().setAmphurName(semmmm001Bean.getRentalAddrCmpObj().isChkAmphurOther() ? rtAmprNameCmp : "");
		semmmm001Bean.getRentalAddrCmpObj().setTambolName(semmmm001Bean.getRentalAddrCmpObj().isChkTambolOther() ? rtTmblNameCmp : "");
		
		province.setProvinceCode(elPrvnCmp);
		semmmm001Bean.getElectrictAddrCmpObj().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getElectrictAddrCmpObj().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getElectrictAddrCmpObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, elAmprCmp));
		semmmm001Bean.getElectrictAddrCmpObj().setChkAmphurOther(elAmprCmp != null && elAmprCmp.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getElectrictAddrCmpObj().setChkTambolOther(elTmblCmp != null && elTmblCmp.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getElectrictAddrCmpObj().setChkLocalDepartment(elLclDprtmntCmp != null && elLclDprtmntCmp.equalsIgnoreCase("Y") ? true : false);
		semmmm001Bean.getElectrictAddrCmpObj().setAmphurName(semmmm001Bean.getElectrictAddrCmpObj().isChkAmphurOther() ? elAmprNameCmp : "");
		semmmm001Bean.getElectrictAddrCmpObj().setTambolName(semmmm001Bean.getElectrictAddrCmpObj().isChkTambolOther() ? elTmblNameCmp : "");
		
		province.setProvinceCode(ppPrvnCmp);
		semmmm001Bean.getPropertyAddrCmpObj().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getPropertyAddrCmpObj().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getPropertyAddrCmpObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, ppAmprCmp));
		semmmm001Bean.getPropertyAddrCmpObj().setChkAmphurOther(ppAmprCmp != null && ppAmprCmp.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getPropertyAddrCmpObj().setChkTambolOther(ppTmblCmp != null && ppTmblCmp.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getPropertyAddrCmpObj().setChkLocalDepartment(ppLclDprtmntCmp != null && ppLclDprtmntCmp.equalsIgnoreCase("Y") ? true : false);
		semmmm001Bean.getPropertyAddrCmpObj().setAmphurName(semmmm001Bean.getPropertyAddrCmpObj().isChkAmphurOther() ? ppAmprNameCmp : "");
		semmmm001Bean.getPropertyAddrCmpObj().setTambolName(semmmm001Bean.getPropertyAddrCmpObj().isChkTambolOther() ? ppTmblNameCmp : "");
		
		province.setProvinceCode(inPrvnCmp);
		semmmm001Bean.getInsureAddrCmpObj().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getInsureAddrCmpObj().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getInsureAddrCmpObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, inAmprCmp));
		semmmm001Bean.getInsureAddrCmpObj().setChkAmphurOther(inAmprCmp != null && inAmprCmp.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getInsureAddrCmpObj().setChkTambolOther(inTmblCmp != null && inTmblCmp.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getInsureAddrCmpObj().setChkLocalDepartment(inLclDprtmntCmp != null && inLclDprtmntCmp.equalsIgnoreCase("Y") ? true : false);
		semmmm001Bean.getInsureAddrCmpObj().setAmphurName(semmmm001Bean.getInsureAddrCmpObj().isChkAmphurOther() ? inAmprNameCmp : "");
		semmmm001Bean.getInsureAddrCmpObj().setTambolName(semmmm001Bean.getInsureAddrCmpObj().isChkTambolOther() ? inTmblNameCmp : "");
		
		province.setProvinceCode(csPrvnCmp);
		semmmm001Bean.getConstructAddrCmpObj().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getConstructAddrCmpObj().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getConstructAddrCmpObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, csAmprCmp));
		semmmm001Bean.getConstructAddrCmpObj().setChkAmphurOther(csAmprCmp != null && csAmprCmp.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getConstructAddrCmpObj().setChkTambolOther(csTmblCmp != null && csTmblCmp.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getConstructAddrCmpObj().setChkLocalDepartment(csLclDprtmntCmp != null && csLclDprtmntCmp.equalsIgnoreCase("Y") ? true : false);
		semmmm001Bean.getConstructAddrCmpObj().setAmphurName(semmmm001Bean.getConstructAddrCmpObj().isChkAmphurOther() ? csAmprNameCmp : "");
		semmmm001Bean.getConstructAddrCmpObj().setTambolName(semmmm001Bean.getConstructAddrCmpObj().isChkTambolOther() ? csTmblNameCmp : "");
		
		province.setProvinceCode(whPrvnCmp);
		semmmm001Bean.getWithholdAddrCmpObj().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getWithholdAddrCmpObj().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getWithholdAddrCmpObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, whAmprCmp));
		semmmm001Bean.getWithholdAddrCmpObj().setChkAmphurOther(whAmprCmp != null && whAmprCmp.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getWithholdAddrCmpObj().setChkTambolOther(whTmblCmp != null && whTmblCmp.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getWithholdAddrCmpObj().setChkLocalDepartment(whLclDprtmntCmp != null && whLclDprtmntCmp.equalsIgnoreCase("Y") ? true : false);
		semmmm001Bean.getWithholdAddrCmpObj().setAmphurName(semmmm001Bean.getWithholdAddrCmpObj().isChkAmphurOther() ? whAmprNameCmp : "");
		semmmm001Bean.getWithholdAddrCmpObj().setTambolName(semmmm001Bean.getWithholdAddrCmpObj().isChkTambolOther() ? whTmblNameCmp : "");
		
		
		setSemmmm001Bean(semmmm001Bean);
		LOG.info("::: SEMMMM001Action :: doSetLocation >> END :::");
	}
	
	public void doSetPayeeLocation() {
		LOG.info("::: SEMMMM001Action :: doSetPayeeLocation >> BEGIN :::");
		
		semmmm001Bean = getSemmmm001Bean();
		
		String pyPrvn = semmmm001Bean.getPayeeInfo().getProvince();
		String pyAmpr = semmmm001Bean.getPayeeInfo().getAmphur();
		String pyTmbl = semmmm001Bean.getPayeeInfo().getTambol();
		String pyLclDprtmnt = semmmm001Bean.getPayeeInfo().getpTaxFlag();
		String pyAmprName = semmmm001Bean.getPayeeInfo().getAmphurName();
		String pyTmblName = semmmm001Bean.getPayeeInfo().getTambolName();
		
		// --
		Province province = new Province();
		
		province.setProvinceCode(pyPrvn);
		semmmm001Bean.getPayeeInfo().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getPayeeInfo().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getPayeeInfo().setTambolList(getDistrictListByProvinceAmphur_SEM(province, pyAmpr));
		semmmm001Bean.getPayeeInfo().setChkAmphurOther(pyAmpr != null && pyAmpr.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getPayeeInfo().setChkTambolOther(pyTmbl != null && pyTmbl.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getPayeeInfo().setChkLocalDepartment(pyLclDprtmnt != null && pyLclDprtmnt.equalsIgnoreCase("Y") ? true : false);
		semmmm001Bean.getPayeeInfo().setAmphurName(semmmm001Bean.getPayeeInfo().isChkAmphurOther() ? pyAmprName : "");
		semmmm001Bean.getPayeeInfo().setTambolName(semmmm001Bean.getPayeeInfo().isChkTambolOther() ? pyTmblName : "");
		
		
		// Cmp --
		String pyPrvnCmp = semmmm001Bean.getPayeeInfoCmpObj().getProvince();
		String pyAmprCmp = semmmm001Bean.getPayeeInfoCmpObj().getAmphur();
		String pyTmblCmp = semmmm001Bean.getPayeeInfoCmpObj().getTambol();
		String pyLclDprtmntCmp = semmmm001Bean.getPayeeInfoCmpObj().getpTaxFlag();
		String pyAmprNameCmp = semmmm001Bean.getPayeeInfoCmpObj().getAmphurName();
		String pyTmblNameCmp = semmmm001Bean.getPayeeInfoCmpObj().getTambolName();
		
		province.setProvinceCode(pyPrvnCmp);
		semmmm001Bean.getPayeeInfoCmpObj().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getPayeeInfoCmpObj().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getPayeeInfoCmpObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, pyAmprCmp));
		semmmm001Bean.getPayeeInfoCmpObj().setChkAmphurOther(pyAmprCmp != null && pyAmprCmp.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getPayeeInfoCmpObj().setChkTambolOther(pyTmblCmp != null && pyTmblCmp.equalsIgnoreCase("X") ? true : false);
		semmmm001Bean.getPayeeInfoCmpObj().setChkLocalDepartment(pyLclDprtmntCmp != null && pyLclDprtmntCmp.equalsIgnoreCase("Y") ? true : false);
		semmmm001Bean.getPayeeInfoCmpObj().setAmphurName(semmmm001Bean.getPayeeInfoCmpObj().isChkAmphurOther() ? pyAmprNameCmp : "");
		semmmm001Bean.getPayeeInfoCmpObj().setTambolName(semmmm001Bean.getPayeeInfoCmpObj().isChkTambolOther() ? pyTmblNameCmp : "");
		
		setSemmmm001Bean(semmmm001Bean);
		LOG.info("::: SEMMMM001Action :: doSetPayeeLocation >> END :::");
	}
	
	public void doChkVendor() {
		LOG.info("::: SEMMMM001Action :: doChkVendor >> BEGIN :::");
		
		try{
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			List<Mmm001SAPVendorSP> result = null;
			LOG.debug("getNewVendorFlag : "+semmmm001Bean.getNewVendorFlag());
			String saveFlag = semmmm001Bean.getVendorInfo().getSaveFlag() == null ? "" : 
				  (String) semmmm001Bean.getVendorInfo().getSaveFlag();
				   //getFacesUtils().getRequestParameter("panelParam") == null ? "" :
				   //(String) getFacesUtils().getRequestParameter("panelParam");
			LOG.debug(">> saveFlag: " + saveFlag);
			
			//boolean isCall = false;
			
			semmmm001Bean.setPopupSAPVendorlist(new ArrayList<WrapperBeanObject<Mmm001VendorSP>>());
		
			Mmm001CriteriaSP tmpCriteria = new Mmm001CriteriaSP();
//				
//			if(saveFlag.equalsIgnoreCase("C")){
//				tmpCriteria.setCompany(semmmm001Bean.getVendorInfoCmpObj().getCompany());
//				tmpCriteria.setVendorName(semmmm001Bean.getVendorInfoCmpObj().getVendorName1());
//				tmpCriteria.setIdCard(semmmm001Bean.getVendorInfoCmpObj().getIdCard());
//				tmpCriteria.setTaxId(semmmm001Bean.getVendorInfoCmpObj().getTaxId());
//				tmpCriteria.setVendorBranchNo(semmmm001Bean.getVendorInfoCmpObj().getBranchNo());
//			} else {				
				if(semmmm001Bean.getVendorInfo().getCompany() != null)tmpCriteria.setCompany(semmmm001Bean.getVendorInfo().getCompany().trim());
				if(semmmm001Bean.getVendorInfo().getVendorName1() != null)tmpCriteria.setVendorName(semmmm001Bean.getVendorInfo().getVendorName1().trim());
				if(semmmm001Bean.getVendorInfo().getIdCard() != null)tmpCriteria.setIdCard(semmmm001Bean.getVendorInfo().getIdCard().trim());
				if(semmmm001Bean.getVendorInfo().getTaxId() != null)tmpCriteria.setTaxId(semmmm001Bean.getVendorInfo().getTaxId().trim());
				if(semmmm001Bean.getVendorInfo().getBranchNo() != null)tmpCriteria.setVendorBranchNo(semmmm001Bean.getVendorInfo().getBranchNo().trim());
//			}
				
			
			if(doValidateChkVendor(saveFlag)){
				result = service.querySPList(EQueryName.SEM_SAP_CHECK_VENDOR_POPUP.name, tmpCriteria);
				
				if (result != null && result.size() != 0) {
					LOG.debug(">> result.size() = " + result.size());
					Mmm001SAPVendorSP prepareCallSAPObj = (Mmm001SAPVendorSP) result.get(0);
					
					List<Mmm001VendorSP> sapRetObjList = null;
					if(prepareCallSAPObj != null && prepareCallSAPObj.getCallSapFlag().equalsIgnoreCase("Y")){
						// SAP Side
						if(saveFlag.equalsIgnoreCase("C"))
							prepareCallSAPObj.setVendorId(semmmm001Bean.getVendorInfoCmpObj().getVendorId()); // just fixed >> look up SEM_SAP_CHECK_VENDOR_POPUP return VENDOR_ID
						else
							prepareCallSAPObj.setVendorId(semmmm001Bean.getVendorInfo().getVendorId());
						
						WsClientService sapService = new WsClientService();
						sapRetObjList = (List<Mmm001VendorSP>) sapService.getven(prepareCallSAPObj);
						
						if(sapRetObjList != null && sapRetObjList.get(0).getVendorCode() != null){
							for (int i=0; i<sapRetObjList.size(); i++) {
								Mmm001VendorSP obj = (Mmm001VendorSP) sapRetObjList.get(i);
								WrapperBeanObject<Mmm001VendorSP> tmpWrapperBean = new WrapperBeanObject<Mmm001VendorSP>();
								
								if(saveFlag.equalsIgnoreCase("C")){
									obj.setExpenseType(semmmm001Bean.getVendorInfoCmpObj().getExpenseType()); // --
									obj.setVendorId(semmmm001Bean.getVendorInfoCmpObj().getVendorId()); //
								} else {
									obj.setExpenseType(semmmm001Bean.getVendorInfo().getExpenseType()); // --
									obj.setVendorId(semmmm001Bean.getVendorInfo().getVendorId()); //
								}
								
								tmpWrapperBean.setDataObj(obj);
								semmmm001Bean.getPopupSAPVendorlist().add(tmpWrapperBean);
							}
						} else {
							semmmm001Bean.setPopupSAPVendorlist(new ArrayList<WrapperBeanObject<Mmm001VendorSP>>());
						}
						semmmm001Bean.setRenderedPopupSAPVendorInfo(true);
						semmmm001Bean.setRenderedBtnSAPVendorInfo(true);
					} else {
						// SEM Side
						List<Mmm001VendorSP> vdResult = null;
						vdResult = service.querySPList(EQueryName.SEM_SAP_LIST_VENDOR_POPUP.name, tmpCriteria);
						
						if(vdResult != null && vdResult.size() != 0 &&
						   vdResult.get(0) != null && vdResult.get(0).getVendorId() != null){
							for (int i=0; i<vdResult.size(); i++) {
								Mmm001VendorSP obj = (Mmm001VendorSP) vdResult.get(i);
								WrapperBeanObject<Mmm001VendorSP> tmpWrapperBean = new WrapperBeanObject<Mmm001VendorSP>();
								
								tmpWrapperBean.setDataObj(obj);
								semmmm001Bean.getPopupSAPVendorlist().add(tmpWrapperBean);
							}
						} else {
							semmmm001Bean.setPopupSAPVendorlist(new ArrayList<WrapperBeanObject<Mmm001VendorSP>>());
						}
						semmmm001Bean.setRenderedPopupSAPVendorInfo(true);
						semmmm001Bean.setRenderedBtnSAPVendorInfo(false);
					}
				}
			} else {
				semmmm001Bean.setRenderedPopupSAPVendorInfo(false);
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			LOG.debug("getNewVendorFlag : "+semmmm001Bean.getNewVendorFlag());
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doChkVendor >> END :::");
		}
	}
	
	public void doChkBookbank() {
		LOG.info("::: SEMMMM001Action :: doChkBookbank >> BEGIN :::");
		boolean validateFlag = false;
		
		try{
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			List<Mmm001SAPBookbankSP> result = null;
			
			String panelParam = getFacesUtils().getRequestParameter("panelParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("panelParam");
			
			String vendorId = semmmm001Bean.getVendorInfo().getVendorId() == null ? "" :
				   (String)semmmm001Bean.getVendorInfo().getVendorId();
			
			String accountNo = "";
			
			
			if(panelParam.equalsIgnoreCase("BOOKBANK")){
				if(semmmm001Bean.getBookbankInfo().getSaveFlag() != null && 
				   semmmm001Bean.getBookbankInfo().getSaveFlag().equalsIgnoreCase("C")){
					accountNo = semmmm001Bean.getBookbankInfoCmpObj().getAccountNo() == null ? "" :
					(String) semmmm001Bean.getBookbankInfoCmpObj().getAccountNo();
				} else {
					accountNo = semmmm001Bean.getBookbankInfo().getAccountNo() == null ? "" :
					(String) semmmm001Bean.getBookbankInfo().getAccountNo();
				}
			} else if(panelParam.equalsIgnoreCase("BOOKBANK_PAYEE")){
				if(semmmm001Bean.getBookbankPayeeInfo().getSaveFlag() != null && 
				   semmmm001Bean.getBookbankPayeeInfo().getSaveFlag().equalsIgnoreCase("C")){
					accountNo = semmmm001Bean.getBookbankPayeeInfoCmpObj().getAccountNo() == null ? "" :
					(String) semmmm001Bean.getBookbankPayeeInfoCmpObj().getAccountNo();
				} else {
					accountNo = semmmm001Bean.getBookbankPayeeInfo().getAccountNo() == null ? "" :
					(String) semmmm001Bean.getBookbankPayeeInfo().getAccountNo();
				}
			}
			
			semmmm001Bean.setPageParam(panelParam);
			
			LOG.debug(">> panelParam: " + panelParam);
			LOG.debug(">> accountNo: " + accountNo);
			LOG.debug(">> vendorId: " + vendorId);
			
			if(!accountNo.isEmpty()){
				validateFlag = true;
			} else {
				addMessageError("W0001", getMessage("msg.required.account.no"));
			}
			
			if(validateFlag) {
				semmmm001Bean.setSemSapBookbankList(new ArrayList<WrapperBeanObject<Mmm001SAPBookbankSP>>());
			
				Mmm001BookbankSP tmpBookbankParams = new Mmm001BookbankSP();
				tmpBookbankParams.setAccountNo(accountNo);
				
				// when in case of BOOKBANK_PAYEE ignore to set vendorId value
				if(!panelParam.equalsIgnoreCase("BOOKBANK_PAYEE"))
					tmpBookbankParams.setVendorId(vendorId);
				
				
				result = service.querySPList(EQueryName.SEM_SAP_CHECK_BOOKBANK_POPUP.name, tmpBookbankParams);
				
				if (result != null && result.size() != 0) {
					LOG.debug(">> result.size() = " + result.size());
					Mmm001SAPBookbankSP prepareCallSAPObj = (Mmm001SAPBookbankSP) result.get(0);
					
					List<Mmm001SAPBookbankSP> sapRetObjList = null;
					if(prepareCallSAPObj != null && prepareCallSAPObj.getCallSapFlag() != null && 
					prepareCallSAPObj.getCallSapFlag().equalsIgnoreCase("Y")){
						// SAP Side
						//prepareCallSAPObj.setVendorId(semmmm001Bean.getVendorInfo().getVendorId()); // 
						WsClientService sapService = new WsClientService();
						sapRetObjList = (List<Mmm001SAPBookbankSP>) sapService.getvenbank(prepareCallSAPObj);
						
						if(sapRetObjList != null){
							for (int i=0; i<sapRetObjList.size(); i++) {
								Mmm001SAPBookbankSP obj = (Mmm001SAPBookbankSP) sapRetObjList.get(i);
								WrapperBeanObject<Mmm001SAPBookbankSP> tmpWrapperBean = new WrapperBeanObject<Mmm001SAPBookbankSP>();
								
								tmpWrapperBean.setDataObj(obj);
								semmmm001Bean.getSemSapBookbankList().add(tmpWrapperBean);
							}
							semmmm001Bean.setRenderedPopupSAPBookbankInfo(true);
						} else {
							semmmm001Bean.setRenderedPopupSAPBookbankInfo(false);
						}
						semmmm001Bean.setRenderedBtnSAPBookbankInfo(true);
					} else {
						// SEM Side
						List<Mmm001SAPBookbankSP> bookbankResult = null;
						bookbankResult = service.querySPList(EQueryName.SEM_SAP_LIST_BOOKBANK_POPUP.name, tmpBookbankParams);
						
						if(bookbankResult != null){
							for (int i=0; i<bookbankResult.size(); i++) {
								Mmm001SAPBookbankSP obj = (Mmm001SAPBookbankSP) bookbankResult.get(i);
								WrapperBeanObject<Mmm001SAPBookbankSP> tmpWrapperBean = new WrapperBeanObject<Mmm001SAPBookbankSP>();
								
								tmpWrapperBean.setDataObj(obj);
								semmmm001Bean.getSemSapBookbankList().add(tmpWrapperBean);
							}
							semmmm001Bean.setRenderedPopupSAPBookbankInfo(true);
						} else {
							semmmm001Bean.setRenderedPopupSAPBookbankInfo(false);
						}
						semmmm001Bean.setRenderedBtnSAPBookbankInfo(false);
					}
				}
			}
			
			setSemmmm001Bean(semmmm001Bean);
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			LOG.info("::: SEMMMM001Action :: doChkBookbank >> END :::");
		}
	}
	
	public void doGetWithhold(){
		LOG.info("::: SEMMMM001Action :: doGetWithhold >> BEGIN :::");
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			List<Mmm001VendorSP> vendorResultList = null;
			
			// --- main >>
			String whtId = semmmm001Bean.getVendorInfo().getWhtId();
			LOG.debug(">>> whtId: " + whtId);
			
			Mmm001VendorSP tmpParams = new Mmm001VendorSP();
			tmpParams.setWhtId(whtId);
			
			vendorResultList = service.querySPList(EQueryName.SEM_SAP_SEARCH_WHT.name, tmpParams);

			semmmm001Bean.getVendorInfo().setWhtCode("");
			semmmm001Bean.getVendorInfo().setWhtType("");
			
			if(vendorResultList != null && vendorResultList.size() != 0) {
				Mmm001VendorSP obj = (Mmm001VendorSP) vendorResultList.get(0);
				
				if(obj != null){
					semmmm001Bean.getVendorInfo().setWhtCode(obj.getWhtCode());
					semmmm001Bean.getVendorInfo().setWhtType(obj.getWhtType());
				}
			}
			
			
			// --- draft >>
			String whtIdDraft = semmmm001Bean.getVendorInfoCmpObj().getWhtId();
			LOG.debug(">>> whtIdDraft: " + whtIdDraft);
			
			tmpParams = new Mmm001VendorSP();
			tmpParams.setWhtId(whtIdDraft);
			
			vendorResultList = service.querySPList(EQueryName.SEM_SAP_SEARCH_WHT.name, tmpParams);

			semmmm001Bean.getVendorInfoCmpObj().setWhtCode("");
			semmmm001Bean.getVendorInfoCmpObj().setWhtType("");
			
			if(vendorResultList != null && vendorResultList.size() != 0) {
				Mmm001VendorSP obj = (Mmm001VendorSP) vendorResultList.get(0);
				
				if(obj != null){
					semmmm001Bean.getVendorInfoCmpObj().setWhtCode(obj.getWhtCode());
					semmmm001Bean.getVendorInfoCmpObj().setWhtType(obj.getWhtType());
				}
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetWithhold >> END :::");
		}
	}
	
	public void doValidateVendorSaveDraft(){
		LOG.info("::: SEMMMM001Action :: doValidateVendorSaveDraft >> BEGIN :::");
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");

			List<ItemResultSP> result = null;
			
			LOG.info("semmmm001Bean.getVendorInfo(): " + semmmm001Bean.getVendorInfo());
			
			this.doSetVendorCheckBox();
			
			if(semmmm001Bean.getVendorAddrObj().getMobileNo() != null && !StringUtils.equals("", semmmm001Bean.getVendorAddrObj().getMobileNo())){
				semmmm001Bean.getVendorInfo().setMobileNo(semmmm001Bean.getVendorAddrObj().getMobileNo());
			}
			
			if(semmmm001Bean.getExpCntrctOfVndObj().getContractNo() != null && !StringUtils.equals("", semmmm001Bean.getExpCntrctOfVndObj().getContractNo())){
				semmmm001Bean.getVendorInfo().setContractNo(semmmm001Bean.getExpCntrctOfVndObj().getContractNo());
			}
			
			if(semmmm001Bean.getExpCntrctOfVndObj().getExpenseType() != null && !StringUtils.equals("", semmmm001Bean.getExpCntrctOfVndObj().getExpenseType())){
				semmmm001Bean.getVendorInfo().setExpenseType(semmmm001Bean.getExpCntrctOfVndObj().getExpenseType());
			}
			LOG.debug("saveFlag : "+semmmm001Bean.getVendorInfo().getSaveFlag());
			result = service.querySPList(EQueryName.SEM_SAP_VALIDATE_VENDOR.name, semmmm001Bean.getVendorInfo());
			
			semmmm001Bean.setRetResultObj(new ItemResultSP());
			
			if(result != null && result.size() != 0 && result.get(0) != null &&
			   result.get(0).getResultType() != null && 
			   result.get(0).getResultType().equalsIgnoreCase("SUCCESS")){
				
				if(result.get(0).getResultCode() != null)
					semmmm001Bean.getRetResultObj().setResultCode(result.get(0).getResultCode());
				if(result.get(0).getResultType() != null)
					semmmm001Bean.getRetResultObj().setResultType(result.get(0).getResultType());
				if(result.get(0).getResultMessage() != null)
					semmmm001Bean.getRetResultObj().setResultMessage(result.get(0).getResultMessage());
				
				if(result.get(0).getEmailFlag() != null)
					semmmm001Bean.getRetResultObj().setEmailFlag(result.get(0).getEmailFlag());
				if(result.get(0).getValidateFlag() != null)
					semmmm001Bean.getRetResultObj().setValidateFlag(result.get(0).getValidateFlag());
				if(result.get(0).getValidateCaseId() != null)
					semmmm001Bean.getRetResultObj().setValidateCaseId(result.get(0).getValidateCaseId());
				if(result.get(0).getEmailFrom() != null)
					semmmm001Bean.getRetResultObj().setEmailFrom(result.get(0).getEmailFrom());
				if(result.get(0).getEmailTo() != null)
					semmmm001Bean.getRetResultObj().setEmailTo(result.get(0).getEmailTo());
				if(result.get(0).getEmailSubject() != null)
					semmmm001Bean.getRetResultObj().setEmailSubject(result.get(0).getEmailSubject());
				if(result.get(0).getEmailDetail() != null)
					semmmm001Bean.getRetResultObj().setEmailDetail(result.get(0).getEmailDetail());
				
				if(result.get(0).getCloseBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setCloseBtnLabel(result.get(0).getCloseBtnLabel());
				if(result.get(0).getOkBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setOkBtnLabel(result.get(0).getOkBtnLabel());
				if(result.get(0).getCancelBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setCancelBtnLabel(result.get(0).getCancelBtnLabel());
				if(result.get(0).getYesBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setYesBtnLabel(result.get(0).getYesBtnLabel());
				if(result.get(0).getNoBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setNoBtnLabel(result.get(0).getNoBtnLabel());
				
				semmmm001Bean.getRetResultObj().setMethodWithNavi("doSaveVendorInfo");
				semmmm001Bean.getRetResultObj().setNavProgram("SEMMMM001-2");
				
				if(StringUtils.equals("E", result.get(0).getValidateFlag()) ){
					semmmm001Bean.setRenderedBtnCloseVendor(true);
					semmmm001Bean.setRenderedBtnOKVendor(false);
					semmmm001Bean.setRenderedBtnCencelVendor(false);
					semmmm001Bean.setRenderedBtnYesVendor(false);
					semmmm001Bean.setRenderedBtnNoVendor(false);
					semmmm001Bean.setRenderedMsgPopupSave(true);
				}else if(StringUtils.equals("W", result.get(0).getValidateFlag()) ){
					semmmm001Bean.setRenderedBtnCloseVendor(false);
					semmmm001Bean.setRenderedBtnOKVendor(true);
					semmmm001Bean.setRenderedBtnCencelVendor(true);
					semmmm001Bean.setRenderedBtnYesVendor(false);
					semmmm001Bean.setRenderedBtnNoVendor(false);
					semmmm001Bean.setRenderedMsgPopupSave(true);
				}else if(StringUtils.equals("C", result.get(0).getValidateFlag()) ){
					semmmm001Bean.setRenderedBtnCloseVendor(false);
					semmmm001Bean.setRenderedBtnOKVendor(false);
					semmmm001Bean.setRenderedBtnCencelVendor(true);
					semmmm001Bean.setRenderedBtnYesVendor(true);
					semmmm001Bean.setRenderedBtnNoVendor(true);
					semmmm001Bean.setRenderedMsgPopupSave(true);
				}else if(StringUtils.equals("O", result.get(0).getValidateFlag()) ){
					semmmm001Bean.setRenderedBtnCloseVendor(false);
					semmmm001Bean.setRenderedBtnOKVendor(true);
					semmmm001Bean.setRenderedBtnCencelVendor(true);
					semmmm001Bean.setRenderedBtnYesVendor(false);
					semmmm001Bean.setRenderedBtnNoVendor(false);
					semmmm001Bean.setRenderedMsgPopupSave(false);
				}
				
				
			} else {
				semmmm001Bean.getRetResultObj().setResultCode("");
				semmmm001Bean.getRetResultObj().setResultType("");
				semmmm001Bean.getRetResultObj().setResultMessage("no message return");
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doValidateVendorSaveDraft >> END :::");
		}
	}
	
	public void doValidateBookbankSaveDraft(){
		LOG.info("::: SEMMMM001Action :: doValidateBookbankSaveDraft >> BEGIN :::");
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			Mmm001BookbankSP bbObj = new Mmm001BookbankSP();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");

			List<ItemResultSP> result = null;
			
			LOG.info("semmmm001Bean.getBookbankInfo(): " + semmmm001Bean.getBookbankInfo());
			
			if(semmmm001Bean.isRenderedPnlCmpBookbankInfo() &&
					StringUtils.equals("C", semmmm001Bean.getBookbankInfo().getSaveFlag()) ){
				bbObj = semmmm001Bean.getBookbankInfoCmpObj();
				
			}else{
				bbObj = semmmm001Bean.getBookbankInfo();
			}
			
			if(semmmm001Bean.getVendorInfo().getVendorId() != null)
				bbObj.setVendorId(semmmm001Bean.getVendorInfo().getVendorId());
//			if(semmmm001Bean.getVendorInfo().getVendorId() != null)
//				semmmm001Bean.getBookbankInfo().setVendorId(semmmm001Bean.getVendorInfo().getVendorId());
			
			result = service.querySPList(EQueryName.SEM_SAP_VALIDATE_BOOKBANK.name, bbObj);
			
			semmmm001Bean.setRetResultObj(new ItemResultSP());
			
			if(result != null && result.size() != 0 && result.get(0) != null &&
			   result.get(0).getResultType() != null && 
			   result.get(0).getResultType().equalsIgnoreCase("SUCCESS")){
								
				if(result.get(0).getResultCode() != null)
					semmmm001Bean.getRetResultObj().setResultCode(result.get(0).getResultCode());
				if(result.get(0).getResultType() != null)
					semmmm001Bean.getRetResultObj().setResultType(result.get(0).getResultType());
				if(result.get(0).getResultMessage() != null)
					semmmm001Bean.getRetResultObj().setResultMessage(result.get(0).getResultMessage());
				
				if(result.get(0).getEmailFlag() != null)
					semmmm001Bean.getRetResultObj().setEmailFlag(result.get(0).getEmailFlag());
				if(result.get(0).getValidateFlag() != null)
					semmmm001Bean.getRetResultObj().setValidateFlag(result.get(0).getValidateFlag());
				if(result.get(0).getValidateCaseId() != null)
					semmmm001Bean.getRetResultObj().setValidateCaseId(result.get(0).getValidateCaseId());
				if(result.get(0).getEmailFrom() != null)
					semmmm001Bean.getRetResultObj().setEmailFrom(result.get(0).getEmailFrom());
				if(result.get(0).getEmailTo() != null)
					semmmm001Bean.getRetResultObj().setEmailTo(result.get(0).getEmailTo());
				if(result.get(0).getEmailSubject() != null)
					semmmm001Bean.getRetResultObj().setEmailSubject(result.get(0).getEmailSubject());
				if(result.get(0).getEmailDetail() != null)
					semmmm001Bean.getRetResultObj().setEmailDetail(result.get(0).getEmailDetail());
				
				if(result.get(0).getCloseBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setCloseBtnLabel(result.get(0).getCloseBtnLabel());
				if(result.get(0).getOkBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setOkBtnLabel(result.get(0).getOkBtnLabel());
				if(result.get(0).getCancelBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setCancelBtnLabel(result.get(0).getCancelBtnLabel());
				if(result.get(0).getYesBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setYesBtnLabel(result.get(0).getYesBtnLabel());
				if(result.get(0).getNoBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setNoBtnLabel(result.get(0).getNoBtnLabel());
				
				semmmm001Bean.getRetResultObj().setMethodWithNavi("doSaveBookbankInfo");
				semmmm001Bean.getRetResultObj().setNavProgram("SEMMMM001-3");
				
				if(StringUtils.equals("E", result.get(0).getValidateFlag()) ){
					semmmm001Bean.setRenderedBtnCloseVendor(true);
					semmmm001Bean.setRenderedBtnOKVendor(false);
					semmmm001Bean.setRenderedBtnCencelVendor(false);
					semmmm001Bean.setRenderedBtnYesVendor(false);
					semmmm001Bean.setRenderedBtnNoVendor(false);
					semmmm001Bean.setRenderedMsgPopupSave(true);
				}else if(StringUtils.equals("W", result.get(0).getValidateFlag()) ){
					semmmm001Bean.setRenderedBtnCloseVendor(false);
					semmmm001Bean.setRenderedBtnOKVendor(true);
					semmmm001Bean.setRenderedBtnCencelVendor(true);
					semmmm001Bean.setRenderedBtnYesVendor(false);
					semmmm001Bean.setRenderedBtnNoVendor(false);
					semmmm001Bean.setRenderedMsgPopupSave(true);
				}else if(StringUtils.equals("C", result.get(0).getValidateFlag()) ){
					semmmm001Bean.setRenderedBtnCloseVendor(false);
					semmmm001Bean.setRenderedBtnOKVendor(false);
					semmmm001Bean.setRenderedBtnCencelVendor(true);
					semmmm001Bean.setRenderedBtnYesVendor(true);
					semmmm001Bean.setRenderedBtnNoVendor(true);
					semmmm001Bean.setRenderedMsgPopupSave(true);
				}else if(StringUtils.equals("O", result.get(0).getValidateFlag()) ){
					semmmm001Bean.setRenderedBtnCloseVendor(false);
					semmmm001Bean.setRenderedBtnOKVendor(true);
					semmmm001Bean.setRenderedBtnCencelVendor(true);
					semmmm001Bean.setRenderedBtnYesVendor(false);
					semmmm001Bean.setRenderedBtnNoVendor(false);
					semmmm001Bean.setRenderedMsgPopupSave(false);
				}
				
			} else {
				semmmm001Bean.getRetResultObj().setResultCode("");
				semmmm001Bean.getRetResultObj().setResultType("");
				semmmm001Bean.getRetResultObj().setResultMessage("no message return");
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doValidateBookbankSaveDraft >> END :::");
		}
	}
	
	public void doValidatePayeeSaveDraft(){
		LOG.info("::: SEMMMM001Action :: doValidatePayeeSaveDraft >> BEGIN :::");
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");

			List<ItemResultSP> result = null;
			
			LOG.info("semmmm001Bean.getPayeeInfo(): " + semmmm001Bean.getPayeeInfo());
			if(semmmm001Bean.getVendorInfo().getVendorId() != null){
				semmmm001Bean.getPayeeInfo().setVendorId(semmmm001Bean.getVendorInfo().getVendorId());
			}
			if(semmmm001Bean.getVendorInfo().getVendorMapPayeeId() != null){
				semmmm001Bean.getPayeeInfo().setVendorMapPayeeId(semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
			}
			
			result = service.querySPList(EQueryName.SEM_SAP_VALIDATE_PAYEE.name, semmmm001Bean.getPayeeInfo());
			
			semmmm001Bean.setRetResultObj(new ItemResultSP());
			
			if(result != null && result.size() != 0 && result.get(0) != null &&
			   result.get(0).getResultType() != null && 
			   result.get(0).getResultType().equalsIgnoreCase("SUCCESS")){
				if(result.get(0).getResultCode() != null)
					semmmm001Bean.getRetResultObj().setResultCode(result.get(0).getResultCode());
				if(result.get(0).getResultType() != null)
					semmmm001Bean.getRetResultObj().setResultType(result.get(0).getResultType());
				if(result.get(0).getResultMessage() != null)
					semmmm001Bean.getRetResultObj().setResultMessage(result.get(0).getResultMessage());
				
				if(result.get(0).getEmailFlag() != null)
					semmmm001Bean.getRetResultObj().setEmailFlag(result.get(0).getEmailFlag());
				if(result.get(0).getValidateFlag() != null)
					semmmm001Bean.getRetResultObj().setValidateFlag(result.get(0).getValidateFlag());
				if(result.get(0).getValidateCaseId() != null)
					semmmm001Bean.getRetResultObj().setValidateCaseId(result.get(0).getValidateCaseId());
				if(result.get(0).getEmailFrom() != null)
					semmmm001Bean.getRetResultObj().setEmailFrom(result.get(0).getEmailFrom());
				if(result.get(0).getEmailTo() != null)
					semmmm001Bean.getRetResultObj().setEmailTo(result.get(0).getEmailTo());
				if(result.get(0).getEmailSubject() != null)
					semmmm001Bean.getRetResultObj().setEmailSubject(result.get(0).getEmailSubject());
				if(result.get(0).getEmailDetail() != null)
					semmmm001Bean.getRetResultObj().setEmailDetail(result.get(0).getEmailDetail());
				
				if(result.get(0).getCloseBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setCloseBtnLabel(result.get(0).getCloseBtnLabel());
				if(result.get(0).getOkBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setOkBtnLabel(result.get(0).getOkBtnLabel());
				if(result.get(0).getCancelBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setCancelBtnLabel(result.get(0).getCancelBtnLabel());
				if(result.get(0).getYesBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setYesBtnLabel(result.get(0).getYesBtnLabel());
				if(result.get(0).getNoBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setNoBtnLabel(result.get(0).getNoBtnLabel());
				
				semmmm001Bean.getRetResultObj().setMethodWithNavi("doSavePayeeInfo");
				semmmm001Bean.getRetResultObj().setNavProgram("SEMMMM001-4");
				
				if(StringUtils.equals("E", result.get(0).getValidateFlag()) ){
					semmmm001Bean.setRenderedBtnCloseVendor(true);
					semmmm001Bean.setRenderedBtnOKVendor(false);
					semmmm001Bean.setRenderedBtnCencelVendor(false);
					semmmm001Bean.setRenderedBtnYesVendor(false);
					semmmm001Bean.setRenderedBtnNoVendor(false);
					semmmm001Bean.setRenderedMsgPopupSave(true);
				}else if(StringUtils.equals("W", result.get(0).getValidateFlag()) ){
					semmmm001Bean.setRenderedBtnCloseVendor(false);
					semmmm001Bean.setRenderedBtnOKVendor(true);
					semmmm001Bean.setRenderedBtnCencelVendor(true);
					semmmm001Bean.setRenderedBtnYesVendor(false);
					semmmm001Bean.setRenderedBtnNoVendor(false);
					semmmm001Bean.setRenderedMsgPopupSave(true);
				}else if(StringUtils.equals("C", result.get(0).getValidateFlag()) ){
					semmmm001Bean.setRenderedBtnCloseVendor(false);
					semmmm001Bean.setRenderedBtnOKVendor(false);
					semmmm001Bean.setRenderedBtnCencelVendor(true);
					semmmm001Bean.setRenderedBtnYesVendor(true);
					semmmm001Bean.setRenderedBtnNoVendor(true);
					semmmm001Bean.setRenderedMsgPopupSave(true);
				}else if(StringUtils.equals("O", result.get(0).getValidateFlag()) ){
					semmmm001Bean.setRenderedBtnCloseVendor(false);
					semmmm001Bean.setRenderedBtnOKVendor(true);
					semmmm001Bean.setRenderedBtnCencelVendor(true);
					semmmm001Bean.setRenderedBtnYesVendor(false);
					semmmm001Bean.setRenderedBtnNoVendor(false);
					semmmm001Bean.setRenderedMsgPopupSave(false);
				}
			} else {
				semmmm001Bean.getRetResultObj().setResultCode("");
				semmmm001Bean.getRetResultObj().setResultType("");
				semmmm001Bean.getRetResultObj().setResultMessage("no message return");
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doValidatePayeeSaveDraft >> END :::");
		}
	}
	
	public void doValidateBBPayeeSaveDraft(){
		LOG.info("::: SEMMMM001Action :: doValidateBBPayeeSaveDraft >> BEGIN :::");
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			
			Mmm001BookbankPayeeSP bpObj = new Mmm001BookbankPayeeSP();
			
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");

			List<ItemResultSP> result = null;
			
			LOG.info("semmmm001Bean.getBookbankPayeeInfo(): " + semmmm001Bean.getBookbankPayeeInfo());
			
			if(semmmm001Bean.isRenderedPnlCmpBookbankPayeeInfo() && 
					StringUtils.equals("C", semmmm001Bean.getBookbankPayeeInfo().getSaveFlag())){
				bpObj = semmmm001Bean.getBookbankPayeeInfoCmpObj();
			}else{
				bpObj = semmmm001Bean.getBookbankPayeeInfo();
			}
			
			if(semmmm001Bean.getVendorInfo().getVendorId() != null){
				bpObj.setVendorId(semmmm001Bean.getVendorInfo().getVendorId());
			}
			if(semmmm001Bean.getVendorInfo().getVendorMapPayeeId() != null){
				bpObj.setVendorMapPayeeId(semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
			}
//			if(semmmm001Bean.getVendorInfo().getVendorId() != null){
//				semmmm001Bean.getBookbankPayeeInfo().setVendorId(semmmm001Bean.getVendorInfo().getVendorId());
//			}
//			if(semmmm001Bean.getVendorInfo().getVendorMapPayeeId() != null){
//				semmmm001Bean.getBookbankPayeeInfo().setVendorMapPayeeId(semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
//			}
			
			result = service.querySPList(EQueryName.SEM_SAP_VALIDATE_BB_PAYEE.name, bpObj);
			
			semmmm001Bean.setRetResultObj(new ItemResultSP());
			
			if(result != null && result.size() != 0 && result.get(0) != null &&
			   result.get(0).getResultType() != null && 
			   result.get(0).getResultType().equalsIgnoreCase("SUCCESS")){
				if(result.get(0).getResultCode() != null)
					semmmm001Bean.getRetResultObj().setResultCode(result.get(0).getResultCode());
				if(result.get(0).getResultType() != null)
					semmmm001Bean.getRetResultObj().setResultType(result.get(0).getResultType());
				if(result.get(0).getResultMessage() != null)
					semmmm001Bean.getRetResultObj().setResultMessage(result.get(0).getResultMessage());
				
				if(result.get(0).getEmailFlag() != null)
					semmmm001Bean.getRetResultObj().setEmailFlag(result.get(0).getEmailFlag());
				if(result.get(0).getValidateFlag() != null)
					semmmm001Bean.getRetResultObj().setValidateFlag(result.get(0).getValidateFlag());
				if(result.get(0).getValidateCaseId() != null)
					semmmm001Bean.getRetResultObj().setValidateCaseId(result.get(0).getValidateCaseId());
				if(result.get(0).getEmailFrom() != null)
					semmmm001Bean.getRetResultObj().setEmailFrom(result.get(0).getEmailFrom());
				if(result.get(0).getEmailTo() != null)
					semmmm001Bean.getRetResultObj().setEmailTo(result.get(0).getEmailTo());
				if(result.get(0).getEmailSubject() != null)
					semmmm001Bean.getRetResultObj().setEmailSubject(result.get(0).getEmailSubject());
				if(result.get(0).getEmailDetail() != null)
					semmmm001Bean.getRetResultObj().setEmailDetail(result.get(0).getEmailDetail());
				
				if(result.get(0).getCloseBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setCloseBtnLabel(result.get(0).getCloseBtnLabel());
				if(result.get(0).getOkBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setOkBtnLabel(result.get(0).getOkBtnLabel());
				if(result.get(0).getCancelBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setCancelBtnLabel(result.get(0).getCancelBtnLabel());
				if(result.get(0).getYesBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setYesBtnLabel(result.get(0).getYesBtnLabel());
				if(result.get(0).getNoBtnLabel() != null)
					semmmm001Bean.getRetResultObj().setNoBtnLabel(result.get(0).getNoBtnLabel());
				
				semmmm001Bean.getRetResultObj().setMethodWithNavi("doSaveBBPayeeInfo");
				semmmm001Bean.getRetResultObj().setNavProgram("SEMMMM001-5");
				
				if(StringUtils.equals("E", result.get(0).getValidateFlag()) ){
					semmmm001Bean.setRenderedBtnCloseVendor(true);
					semmmm001Bean.setRenderedBtnOKVendor(false);
					semmmm001Bean.setRenderedBtnCencelVendor(false);
					semmmm001Bean.setRenderedBtnYesVendor(false);
					semmmm001Bean.setRenderedBtnNoVendor(false);
					semmmm001Bean.setRenderedMsgPopupSave(true);
				}else if(StringUtils.equals("W", result.get(0).getValidateFlag()) ){
					semmmm001Bean.setRenderedBtnCloseVendor(false);
					semmmm001Bean.setRenderedBtnOKVendor(true);
					semmmm001Bean.setRenderedBtnCencelVendor(true);
					semmmm001Bean.setRenderedBtnYesVendor(false);
					semmmm001Bean.setRenderedBtnNoVendor(false);
					semmmm001Bean.setRenderedMsgPopupSave(true);
				}else if(StringUtils.equals("C", result.get(0).getValidateFlag()) ){
					semmmm001Bean.setRenderedBtnCloseVendor(false);
					semmmm001Bean.setRenderedBtnOKVendor(false);
					semmmm001Bean.setRenderedBtnCencelVendor(true);
					semmmm001Bean.setRenderedBtnYesVendor(true);
					semmmm001Bean.setRenderedBtnNoVendor(true);
					semmmm001Bean.setRenderedMsgPopupSave(true);
				}else if(StringUtils.equals("O", result.get(0).getValidateFlag()) ){
					semmmm001Bean.setRenderedBtnCloseVendor(false);
					semmmm001Bean.setRenderedBtnOKVendor(true);
					semmmm001Bean.setRenderedBtnCencelVendor(true);
					semmmm001Bean.setRenderedBtnYesVendor(false);
					semmmm001Bean.setRenderedBtnNoVendor(false);
					semmmm001Bean.setRenderedMsgPopupSave(false);
				}
			} else {
				semmmm001Bean.getRetResultObj().setResultCode("");
				semmmm001Bean.getRetResultObj().setResultType("");
				semmmm001Bean.getRetResultObj().setResultMessage("no message return");
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doValidateBBPayeeSaveDraft >> END :::");
		}
	}
	
	public void resultDialog(List<ItemResultSP> result) {
		// -- result return --
		ItemResultSP res = new ItemResultSP();
		if(result != null && result.get(0) != null) {
			res.setResultCode(result.get(0).getResultCode());
			res.setResultType(result.get(0).getResultType());
			res.setResultMessage(result.get(0).getResultMessage());
		} else {
			res.setResultCode("1");
			res.setResultType("FAIL");
			res.setResultMessage("FAIL: " + "Something was wrong about return result. !!");
		}
		semmmm001Bean.setRetResultObj(res);
		// -- result return --
	}
	
	public void resultDialogException(String message) {
		// -- result return --
		ItemResultSP res = new ItemResultSP();
		res.setResultCode("0");
		res.setResultType("ERROR");
		res.setResultMessage("ERROR: " + message);
		
		semmmm001Bean.setRetResultObj(res);
		// -- result return --
	}
	
	public void doTest() {
		LOG.info("::: SEMMMM001Action :: doTest >> BEGIN :::");
		
		try{
			
			semmmm001Bean = getSemmmm001Bean();
			
			ItemParamsSP itemParams = new ItemParamsSP();
		
			WsClientService sapService = new WsClientService();
			sapService.masterBank(itemParams);
		
			setSemmmm001Bean(semmmm001Bean);
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			LOG.info("::: SEMMMM001Action :: doTest >> END :::");
		}
	}
	
	
	// -- optional
	public ArrayList getAllRowIdFromSelectedVendorMasterTodoList(){
		LOG.info("::: SEMMMM001Action :: getAllRowIdFromSelectedVendorMasterTodoList >> BEGIN :::");
		
		ArrayList tempList = new ArrayList();
		String vendorIdTempList = "";
		String bookbankIdTempList = "";
		String payeeIdTempList = "";
		String bookbankPayeeIdTempList = "";
		String vendorMapPayeeIdTempList = "";
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			
			List<WrapperBeanObject<Mmm001VendorMasterSP>> vendorTempResultList = new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>();
			
			// condition with 2 tables cannot collected together
			// request changed 2017/06/07
			// lazy fixed low performance
			// >>
			// table ACTIVE (ACT)
			vendorTempResultList = semmmm001Bean.getVendorMasterResultList();
			
			int countTmp = 0; // lazy checked for collect by only one table (for ignore table 2)
			String tmpId = "";
			for (WrapperBeanObject<Mmm001VendorMasterSP> obj : vendorTempResultList) {
				Mmm001VendorMasterSP contractSp = (Mmm001VendorMasterSP)obj.getDataObj();
				if(obj.isCheckBox()){
					String vendorId = contractSp.getVendorId() == null ? "":(String)contractSp.getVendorId();
					String bookbankId = contractSp.getBookbankId() == null ? "":(String)contractSp.getBookbankId();
					String payeeId = contractSp.getPayeeId() == null ? "":(String)contractSp.getPayeeId();
					String bookbankPayeeId = contractSp.getPayeeBookbankId() == null ? "":(String)contractSp.getPayeeBookbankId();
					String vendorMapPayeeId = contractSp.getVendorMapPayeeId() == null ? "":(String)contractSp.getVendorMapPayeeId();
					LOG.debug(">> (ACT) vendorId: " + vendorId);
					LOG.debug(">> (ACT) bookbankId: " + bookbankId);
					LOG.debug(">> (ACT) payeeId: " + payeeId);
					LOG.debug(">> (ACT) bookbankPayeeId: " + bookbankPayeeId);
					LOG.debug(">> (ACT) vendorMapPayeeId: " + vendorMapPayeeId);
					
//					vendorIdTempList.add(vendorId);
//					bookbankIdTempList.add(bookbankId);
//					payeeIdTempList.add(payeeId);
//					bookbankPayeeIdTempList.add(bookbankPayeeId);
					
					vendorIdTempList += vendorId.concat(",");
					bookbankIdTempList += bookbankId.concat(",");
					payeeIdTempList += payeeId.concat(",");
					bookbankPayeeIdTempList += bookbankPayeeId.concat(",");
					vendorMapPayeeIdTempList += vendorMapPayeeId.concat(",");
					if(contractSp.getGroupNo() != null)tmpId = contractSp.getGroupNo();
					countTmp++;
				}else if(tmpId != null && !StringUtils.equals("", tmpId) && StringUtils.equals(tmpId, contractSp.getGroupNo())){
					String vendorId = contractSp.getVendorId() == null ? "":(String)contractSp.getVendorId();
					String bookbankId = contractSp.getBookbankId() == null ? "":(String)contractSp.getBookbankId();
					String payeeId = contractSp.getPayeeId() == null ? "":(String)contractSp.getPayeeId();
					String bookbankPayeeId = contractSp.getPayeeBookbankId() == null ? "":(String)contractSp.getPayeeBookbankId();
					String vendorMapPayeeId = contractSp.getVendorMapPayeeId() == null ? "":(String)contractSp.getVendorMapPayeeId();
					LOG.debug(">> (ACT) vendorId group: " + vendorId);
					LOG.debug(">> (ACT) bookbankId group: " + bookbankId);
					LOG.debug(">> (ACT) payeeId group: " + payeeId);
					LOG.debug(">> (ACT) bookbankPayeeId group: " + bookbankPayeeId);
					LOG.debug(">> (ACT) vendorMapPayeeId group: " + vendorMapPayeeId);
					
//					vendorIdTempList.add(vendorId);
//					bookbankIdTempList.add(bookbankId);
//					payeeIdTempList.add(payeeId);
//					bookbankPayeeIdTempList.add(bookbankPayeeId);
					
					vendorIdTempList += vendorId.concat(",");
					bookbankIdTempList += bookbankId.concat(",");
					payeeIdTempList += payeeId.concat(",");
					bookbankPayeeIdTempList += bookbankPayeeId.concat(",");
					vendorMapPayeeIdTempList += vendorMapPayeeId.concat(",");
				
//					tmpId = contractSp.getGroupNo();
					countTmp++;
				}
			}
			
			// table TERMINATE (TMN)
			if(countTmp == 0){
				vendorIdTempList = "";
				bookbankIdTempList = "";
				payeeIdTempList = "";
				bookbankPayeeIdTempList = "";
				vendorTempResultList = semmmm001Bean.getVendorMasterTerminateResultList();
				
				for (WrapperBeanObject<Mmm001VendorMasterSP> obj : vendorTempResultList) {
					Mmm001VendorMasterSP contractSp = (Mmm001VendorMasterSP)obj.getDataObj();
					if(obj.isCheckBox()){
						String vendorId = contractSp.getVendorId() == null ? "":(String)contractSp.getVendorId();
						String bookbankId = contractSp.getBookbankId() == null ? "":(String)contractSp.getBookbankId();
						String payeeId = contractSp.getPayeeId() == null ? "":(String)contractSp.getPayeeId();
						String bookbankPayeeId = contractSp.getPayeeBookbankId() == null ? "":(String)contractSp.getPayeeBookbankId();
						String vendorMapPayeeId = contractSp.getVendorMapPayeeId() == null ? "":(String)contractSp.getVendorMapPayeeId();
						LOG.debug(">> (TMN) vendorId: " + vendorId);
						LOG.debug(">> (TMN) bookbankId: " + bookbankId);
						LOG.debug(">> (TMN) payeeId: " + payeeId);
						LOG.debug(">> (TMN) bookbankPayeeId: " + bookbankPayeeId);
						LOG.debug(">> (ACT) vendorMapPayeeId: " + vendorMapPayeeId);
						
						vendorIdTempList += vendorId.concat(",");
						bookbankIdTempList += bookbankId.concat(",");
						payeeIdTempList += payeeId.concat(",");
						bookbankPayeeIdTempList += bookbankPayeeId.concat(",");
						vendorMapPayeeIdTempList += vendorMapPayeeId.concat(",");
						
						if(contractSp.getGroupNo() != null)tmpId = contractSp.getGroupNo();
					}else if(tmpId != null && !StringUtils.equals("", tmpId) && StringUtils.equals(tmpId, contractSp.getGroupNo())){
						String vendorId = contractSp.getVendorId() == null ? "":(String)contractSp.getVendorId();
						String bookbankId = contractSp.getBookbankId() == null ? "":(String)contractSp.getBookbankId();
						String payeeId = contractSp.getPayeeId() == null ? "":(String)contractSp.getPayeeId();
						String bookbankPayeeId = contractSp.getPayeeBookbankId() == null ? "":(String)contractSp.getPayeeBookbankId();
						String vendorMapPayeeId = contractSp.getVendorMapPayeeId() == null ? "":(String)contractSp.getVendorMapPayeeId();
						LOG.debug(">> (ACT) vendorId group: " + vendorId);
						LOG.debug(">> (ACT) bookbankId group: " + bookbankId);
						LOG.debug(">> (ACT) payeeId group: " + payeeId);
						LOG.debug(">> (ACT) bookbankPayeeId group: " + bookbankPayeeId);
						LOG.debug(">> (ACT) vendorMapPayeeId group: " + vendorMapPayeeId);
						
//						vendorIdTempList.add(vendorId);
//						bookbankIdTempList.add(bookbankId);
//						payeeIdTempList.add(payeeId);
//						bookbankPayeeIdTempList.add(bookbankPayeeId);
						
						vendorIdTempList += vendorId.concat(",");
						bookbankIdTempList += bookbankId.concat(",");
						payeeIdTempList += payeeId.concat(",");
						bookbankPayeeIdTempList += bookbankPayeeId.concat(",");
						vendorMapPayeeIdTempList += vendorMapPayeeId.concat(",");
					
//						tmpId = contractSp.getGroupNo();
//						countTmp++;
					}
				}
			}
			// <<
			if(vendorIdTempList != null && !StringUtils.equals("", vendorIdTempList)){
				vendorIdTempList = vendorIdTempList.substring(0, vendorIdTempList.lastIndexOf(","));
				tempList.add(vendorIdTempList);
			}
			if(bookbankIdTempList != null && !StringUtils.equals("", bookbankIdTempList)){
				bookbankIdTempList = bookbankIdTempList.substring(0, bookbankIdTempList.lastIndexOf(","));
				tempList.add(bookbankIdTempList);
			}
			if(payeeIdTempList != null && !StringUtils.equals("", payeeIdTempList)){
				payeeIdTempList = payeeIdTempList.substring(0, payeeIdTempList.lastIndexOf(","));
				tempList.add(payeeIdTempList);
			}
			if(bookbankPayeeIdTempList != null && !StringUtils.equals("", bookbankPayeeIdTempList)){
				bookbankPayeeIdTempList = bookbankPayeeIdTempList.substring(0, bookbankPayeeIdTempList.lastIndexOf(","));
				tempList.add(bookbankPayeeIdTempList);
			}
			if(vendorMapPayeeIdTempList != null && !StringUtils.equals("", vendorMapPayeeIdTempList)){
				vendorMapPayeeIdTempList = vendorMapPayeeIdTempList.substring(0, vendorMapPayeeIdTempList.lastIndexOf(","));
				tempList.add(vendorMapPayeeIdTempList);
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			LOG.info("::: SEMMMM001Action :: getAllRowIdFromSelectedVendorMasterTodoList >> END :::");
		}
		return tempList;
	}

	
	// -- optional
	public ArrayList getAllRowIdFromSelectedVendorMasterList(){
		LOG.info("::: SEMMMM001Action :: getRowIdFromVendorMasterList >> BEGIN :::");
		
		ArrayList tempList = new ArrayList();
		String vendorIdTempList = "";
		String bookbankIdTempList = "";
		String payeeIdTempList = "";
		String bookbankPayeeIdTempList = "";
		String vendorMapPayeeIdTempList = "";
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			
			List<WrapperBeanObject<Mmm001VendorMasterSP>> vendorTempResultList = new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>();
			
			// condition with 2 tables cannot collected together
			// request changed 2017/06/07
			// lazy fixed low performance
			// >>
			// table ACTIVE (ACT)
			vendorTempResultList = semmmm001Bean.getVendorMasterResultList();
			
			int countTmp = 0; // lazy checked for collect by only one table (for ignore table 2)
			
			for (WrapperBeanObject<Mmm001VendorMasterSP> obj : vendorTempResultList) {
				Mmm001VendorMasterSP contractSp = (Mmm001VendorMasterSP)obj.getDataObj();
				if(obj.isCheckBox()){
					String vendorId = contractSp.getVendorId() == null ? "":(String)contractSp.getVendorId();
					String bookbankId = contractSp.getBookbankId() == null ? "":(String)contractSp.getBookbankId();
					String payeeId = contractSp.getPayeeId() == null ? "":(String)contractSp.getPayeeId();
					String bookbankPayeeId = contractSp.getPayeeBookbankId() == null ? "":(String)contractSp.getPayeeBookbankId();
					String vendorMapPayeeId = contractSp.getVendorMapPayeeId() == null ? "":(String)contractSp.getVendorMapPayeeId();
					LOG.debug(">> (ACT) vendorId: " + vendorId);
					LOG.debug(">> (ACT) bookbankId: " + bookbankId);
					LOG.debug(">> (ACT) payeeId: " + payeeId);
					LOG.debug(">> (ACT) bookbankPayeeId: " + bookbankPayeeId);
					LOG.debug(">> (ACT) vendorMapPayeeId: " + vendorMapPayeeId);
					
//					vendorIdTempList.add(vendorId);
//					bookbankIdTempList.add(bookbankId);
//					payeeIdTempList.add(payeeId);
//					bookbankPayeeIdTempList.add(bookbankPayeeId);
					
					vendorIdTempList += vendorId.concat(",");
					bookbankIdTempList += bookbankId.concat(",");
					payeeIdTempList += payeeId.concat(",");
					bookbankPayeeIdTempList += bookbankPayeeId.concat(",");
					vendorMapPayeeIdTempList += vendorMapPayeeId.concat(",");
				
				
					countTmp++;
				}
			}
			
			// table TERMINATE (TMN)
			if(countTmp == 0){
				vendorIdTempList = "";
				bookbankIdTempList = "";
				payeeIdTempList = "";
				bookbankPayeeIdTempList = "";
				vendorTempResultList = semmmm001Bean.getVendorMasterTerminateResultList();
				
				for (WrapperBeanObject<Mmm001VendorMasterSP> obj : vendorTempResultList) {
					Mmm001VendorMasterSP contractSp = (Mmm001VendorMasterSP)obj.getDataObj();
					if(obj.isCheckBox()){
						String vendorId = contractSp.getVendorId() == null ? "":(String)contractSp.getVendorId();
						String bookbankId = contractSp.getBookbankId() == null ? "":(String)contractSp.getBookbankId();
						String payeeId = contractSp.getPayeeId() == null ? "":(String)contractSp.getPayeeId();
						String bookbankPayeeId = contractSp.getPayeeBookbankId() == null ? "":(String)contractSp.getPayeeBookbankId();
						String vendorMapPayeeId = contractSp.getVendorMapPayeeId() == null ? "":(String)contractSp.getVendorMapPayeeId();
						LOG.debug(">> (TMN) vendorId: " + vendorId);
						LOG.debug(">> (TMN) bookbankId: " + bookbankId);
						LOG.debug(">> (TMN) payeeId: " + payeeId);
						LOG.debug(">> (TMN) bookbankPayeeId: " + bookbankPayeeId);
						LOG.debug(">> (ACT) vendorMapPayeeId: " + vendorMapPayeeId);
						
						vendorIdTempList += vendorId.concat(",");
						bookbankIdTempList += bookbankId.concat(",");
						payeeIdTempList += payeeId.concat(",");
						bookbankPayeeIdTempList += bookbankPayeeId.concat(",");
						vendorMapPayeeIdTempList += vendorMapPayeeId.concat(",");
					}
				}
			}
			// <<
			if(vendorIdTempList != null && !StringUtils.equals("", vendorIdTempList)){
				vendorIdTempList = vendorIdTempList.substring(0, vendorIdTempList.lastIndexOf(","));
				tempList.add(vendorIdTempList);
			}
			if(bookbankIdTempList != null && !StringUtils.equals("", bookbankIdTempList)){
				bookbankIdTempList = bookbankIdTempList.substring(0, bookbankIdTempList.lastIndexOf(","));
				tempList.add(bookbankIdTempList);
			}
			if(payeeIdTempList != null && !StringUtils.equals("", payeeIdTempList)){
				payeeIdTempList = payeeIdTempList.substring(0, payeeIdTempList.lastIndexOf(","));
				tempList.add(payeeIdTempList);
			}
			if(bookbankPayeeIdTempList != null && !StringUtils.equals("", bookbankPayeeIdTempList)){
				bookbankPayeeIdTempList = bookbankPayeeIdTempList.substring(0, bookbankPayeeIdTempList.lastIndexOf(","));
				tempList.add(bookbankPayeeIdTempList);
			}
			if(vendorMapPayeeIdTempList != null && !StringUtils.equals("", vendorMapPayeeIdTempList)){
				vendorMapPayeeIdTempList = vendorMapPayeeIdTempList.substring(0, vendorMapPayeeIdTempList.lastIndexOf(","));
				tempList.add(vendorMapPayeeIdTempList);
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			LOG.info("::: SEMMMM001Action :: getRowIdFromVendorMasterList >> END :::");
		}
		return tempList;
	}
	
	// -- optional
	public ArrayList getParamFromSelectedVendorMasterList(){
		LOG.info("::: SEMMMM001Action :: getRowIdFromVendorMasterList >> BEGIN :::");
		
		ArrayList tempList = new ArrayList();
		String vendorIdList;
		String bookbankIdList;
		String payeeIdList;
		String payeeBookbankIdList;
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			
			List<WrapperBeanObject<Mmm001VendorMasterSP>> vendorTempResultList = new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>();
			
			// condition with 2 tables cannot collected together
			// request changed 2017/06/07
			// lazy fixed low performance
			// >>
			// table ACTIVE (ACT)
			vendorTempResultList = semmmm001Bean.getVendorMasterResultList();
			
			int countTmp = 0; // lazy checked for collect by only one table (for ignore table 2)
			
			for (WrapperBeanObject<Mmm001VendorMasterSP> obj : vendorTempResultList) {
				Mmm001VendorMasterSP contractSp = (Mmm001VendorMasterSP)obj.getDataObj();
				if(obj.isCheckBox()){
					String vendorId = contractSp.getVendorId();
					LOG.debug(">> (ACT) vendorId: " + vendorId);
					
					vendorIdList = vendorId;
					countTmp++;
				}
			}
			
			// table TERMINATE (TMN)
			if(countTmp == 0){
				tempList = new ArrayList();
				vendorTempResultList = semmmm001Bean.getVendorMasterTerminateResultList();
				
				for (WrapperBeanObject<Mmm001VendorMasterSP> obj : vendorTempResultList) {
					Mmm001VendorMasterSP contractSp = (Mmm001VendorMasterSP)obj.getDataObj();
					if(obj.isCheckBox()){
						String vendorId = contractSp.getVendorId();
						LOG.debug(">> (TMN) vendorId: " + vendorId);
						
						tempList.add(vendorId);
					}
				}
			}
			// <<
		
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			LOG.info("::: SEMMMM001Action :: getRowIdFromVendorMasterList >> END :::");
		}
		return tempList;
	}
	
	public ArrayList fetchAllRowIdByActionType(String actionType, String tblChk){
		LOG.info("::: SEMMMM001Action :: fetchAllRowIdByActionType >> BEGIN :::");
		
		ArrayList tempList = new ArrayList();
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			
			//TODO TO FIXED
			
			List<WrapperBeanObject<Mmm001VendorMasterSP>> vendorTempResultList = null;;
			
			// table ACTIVE (ACT)
			if(tblChk.equalsIgnoreCase("ACT")){
				vendorTempResultList = semmmm001Bean.getVendorMasterResultList();
				for (WrapperBeanObject<Mmm001VendorMasterSP> obj : vendorTempResultList) {
					Mmm001VendorMasterSP contractSp = (Mmm001VendorMasterSP)obj.getDataObj();
					if(obj.isCheckBox()){
						String vendorId = contractSp.getVendorId();
						LOG.debug(">> (ACT) vendorId: " + vendorId);
						
						tempList.add(vendorId);
					}
				}
			}
			
			// table TERMINATE (TMN)
			if(tblChk.equalsIgnoreCase("TMN")){
				tempList = new ArrayList();
				vendorTempResultList = semmmm001Bean.getVendorMasterTerminateResultList();
				
				for (WrapperBeanObject<Mmm001VendorMasterSP> obj : vendorTempResultList) {
					Mmm001VendorMasterSP contractSp = (Mmm001VendorMasterSP)obj.getDataObj();
					if(obj.isCheckBox()){
						String vendorId = contractSp.getVendorId();
						LOG.debug(">> (TMN) vendorId: " + vendorId);
						
						tempList.add(vendorId);
					}
				}
			}
			// <<
		
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			LOG.info("::: SEMMMM001Action :: fetchAllRowIdByActionType >> END :::");
		}
		return tempList;
	}
	
	
	//added by NEW 16/05/2017
	public void selectedTeamcontroler(){
//		boolean flag = true;
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			
			 String type = getFacesUtils().getRequestParameter("type") == null ? "" : (String)getFacesUtils().getRequestParameter("type");
//			 String headerFlag = getFacesUtils().getRequestParameter("headerFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("headerFlag");
			 String strParam = getFacesUtils().getRequestParameter("strParam") == null ? "" : (String)getFacesUtils().getRequestParameter("strParam");
			 String createById = getFacesUtils().getRequestParameter("createById") == null ? "" : (String)getFacesUtils().getRequestParameter("createById");
			 
//			 if(StringUtils.equals("VD", type)){
//				 semmmm001Bean.setMenuTreeVendorList(treeSwapMenu(semmmm001Bean.getMenuTreeVendorList())); 
//			 }else if(StringUtils.equals("VB", type)){
//				 semmmm001Bean.setMenuTreeVendorBookbankList(treeSwapMenu(semmmm001Bean.getMenuTreeVendorBookbankList())); 
//			 }else if(StringUtils.equals("PY", type)){
//				 semmmm001Bean.setMenuTreePayeeList(treeSwapMenu(semmmm001Bean.getMenuTreePayeeList())); 
//			 }else if(StringUtils.equals("PB", type)){
//				 semmmm001Bean.setMenuTreePayeeBookbankList(treeSwapMenu(semmmm001Bean.getMenuTreePayeeBookbankList())); 
//			 }else if(StringUtils.equals("AB", type)){
//				 semmmm001Bean.setMenuTreeAbnormalList(treeSwapMenu(semmmm001Bean.getMenuTreeAbnormalList())); 
//			 }
			 this.searchTodoList(type, strParam, createById);
			 
			 
			 
			 setSemmmm001Bean(semmmm001Bean);
		}catch (Exception e) {
//			flag = false;
			e.printStackTrace();
			LOG.debug("Error SEMMMM002Action selectedTeamcontroler :: "+e);
			// TODO: handle exception
		}
		
//		return flag;
	}
	
	public void setStyleClassToNull(List<WrapperBeanObject<MenuTreeSP>> objList){
		try{
	
			for(WrapperBeanObject<MenuTreeSP> menuTreeWrapper : objList){
				WrapperBeanObject<MenuTreeSP> tmpWrapperBean = new WrapperBeanObject<MenuTreeSP>();
				if(menuTreeWrapper != null ){
					MenuTreeSP menuTree = (MenuTreeSP) menuTreeWrapper.getDataObj();
					menuTree.setStyleClass("");
				}
			}
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM002Action setStyleClassToNull :: "+e);
		}
	}
	
	public boolean processSelectedMenu(){
		boolean flag = true;
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			
			 String type = getFacesUtils().getRequestParameter("type") == null ? "" : (String)getFacesUtils().getRequestParameter("type");
			 String headerFlag = getFacesUtils().getRequestParameter("headerFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("headerFlag");
			 String strParam = getFacesUtils().getRequestParameter("strParam") == null ? "" : (String)getFacesUtils().getRequestParameter("strParam");
			 
			 if(StringUtils.equals("VD", type)){
				 semmmm001Bean.setMenuTreeVendorList(treeSwapMenu(semmmm001Bean.getMenuTreeVendorList())); 
			 }else if(StringUtils.equals("VB", type)){
				 semmmm001Bean.setMenuTreeVendorBookbankList(treeSwapMenu(semmmm001Bean.getMenuTreeVendorBookbankList())); 
			 }else if(StringUtils.equals("PY", type)){
				 semmmm001Bean.setMenuTreePayeeList(treeSwapMenu(semmmm001Bean.getMenuTreePayeeList())); 
			 }else if(StringUtils.equals("PB", type)){
				 semmmm001Bean.setMenuTreePayeeBookbankList(treeSwapMenu(semmmm001Bean.getMenuTreePayeeBookbankList())); 
			 }else if(StringUtils.equals("AB", type)){
				 semmmm001Bean.setMenuTreeAbnormalList(treeSwapMenu(semmmm001Bean.getMenuTreeAbnormalList())); 
			 }else if(StringUtils.equals("CB", type)){
				 semmmm001Bean.setMenuTreeCreateByList(treeSwapMenu(semmmm001Bean.getMenuTreeCreateByList())); 
			 }
			 
			 if(StringUtils.equals("N", headerFlag) ){
				 if(StringUtils.equals("VD", type)){
					 setStyleClassToNull(semmmm001Bean.getMenuTreeVendorBookbankList());//VB
					 setStyleClassToNull(semmmm001Bean.getMenuTreePayeeList());//PY
					 setStyleClassToNull(semmmm001Bean.getMenuTreePayeeBookbankList());//PB
					 setStyleClassToNull(semmmm001Bean.getMenuTreeAbnormalList());//AB
					 setStyleClassToNull(semmmm001Bean.getMenuTreeCreateByList());//CB
					 semmmm001Bean.setTogPnlVD(true);
				 }
				 if(StringUtils.equals("VB", type)){
					 setStyleClassToNull(semmmm001Bean.getMenuTreeVendorList());//VD 
					 setStyleClassToNull(semmmm001Bean.getMenuTreePayeeList());//PY
					 setStyleClassToNull(semmmm001Bean.getMenuTreePayeeBookbankList());//PB
					 setStyleClassToNull(semmmm001Bean.getMenuTreeAbnormalList());//AB
					 setStyleClassToNull(semmmm001Bean.getMenuTreeCreateByList());//CB
					 semmmm001Bean.setTogPnlVB(true);
				 }
				 if(StringUtils.equals("PY", type)){
					 setStyleClassToNull(semmmm001Bean.getMenuTreeVendorList());//VD 
					 setStyleClassToNull(semmmm001Bean.getMenuTreeVendorBookbankList());//VB
					 setStyleClassToNull(semmmm001Bean.getMenuTreePayeeBookbankList());//PB
					 setStyleClassToNull(semmmm001Bean.getMenuTreeAbnormalList());//AB
					 setStyleClassToNull(semmmm001Bean.getMenuTreeCreateByList());//CB
					 semmmm001Bean.setTogPnlPY(true);
				 }
				 if(StringUtils.equals("PB", type)){
					 setStyleClassToNull(semmmm001Bean.getMenuTreeVendorList());//VD 
					 setStyleClassToNull(semmmm001Bean.getMenuTreeVendorBookbankList());//VB
					 setStyleClassToNull(semmmm001Bean.getMenuTreePayeeList());//PY
					 setStyleClassToNull(semmmm001Bean.getMenuTreeAbnormalList());//AB
					 setStyleClassToNull(semmmm001Bean.getMenuTreeCreateByList());//CB
					 semmmm001Bean.setTogPnlPB(true);
				 }
				 if(StringUtils.equals("AB", type)){
					 setStyleClassToNull(semmmm001Bean.getMenuTreeVendorList());//VD 
					 setStyleClassToNull(semmmm001Bean.getMenuTreeVendorBookbankList());//VB
					 setStyleClassToNull(semmmm001Bean.getMenuTreePayeeList());//PY
					 setStyleClassToNull(semmmm001Bean.getMenuTreePayeeBookbankList());//PB
					 setStyleClassToNull(semmmm001Bean.getMenuTreeCreateByList());//CB
					 semmmm001Bean.setTogPnlAB(true);
				 }
				 if(StringUtils.equals("CB", type)){
					 setStyleClassToNull(semmmm001Bean.getMenuTreeVendorList());//VD 
					 setStyleClassToNull(semmmm001Bean.getMenuTreeVendorBookbankList());//VB
					 setStyleClassToNull(semmmm001Bean.getMenuTreePayeeList());//PY
					 setStyleClassToNull(semmmm001Bean.getMenuTreePayeeBookbankList());//PB
					 setStyleClassToNull(semmmm001Bean.getMenuTreeAbnormalList());//AB
					 semmmm001Bean.setTogPnlCB(true);
				 }
				 
				 this.searchTodoList(type, strParam, "");
			 }
			 
			 
			 setSemmmm001Bean(semmmm001Bean);
		}catch (Exception e) {
			flag = false;
			e.printStackTrace();
			LOG.debug("Error SEMMMM002Action processSelectedMenu :: "+e);
			// TODO: handle exception
		}
		
		return flag;
	}
		
	public List<WrapperBeanObject<MenuTreeSP>> treeSwapMenu(List<WrapperBeanObject<MenuTreeSP>> objList) {
		LOG.info("::: SEMMMM024Action :: treeSwapPage >> BEGIN :::");
		boolean flag = false;
		ArrayList<MenuTreeSP> menuTreeList = new ArrayList<MenuTreeSP>();
		List<WrapperBeanObject<MenuTreeSP>> menuWrapperList = new ArrayList<WrapperBeanObject<MenuTreeSP>>();
		try {
			
			semmmm001Bean = getSemmmm001Bean();

	        String rowId = getFacesUtils().getRequestParameter("rowId") == null ? "" : (String)getFacesUtils().getRequestParameter("rowId");
	        String headerFlag = getFacesUtils().getRequestParameter("headerFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("headerFlag");
	        String mainId = getFacesUtils().getRequestParameter("mainId") == null ? "" : (String)getFacesUtils().getRequestParameter("mainId");
	        String refId = getFacesUtils().getRequestParameter("refId") == null ? "" : (String)getFacesUtils().getRequestParameter("refId");
	        String renderedFlag = getFacesUtils().getRequestParameter("renderedFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("renderedFlag");
	        String actionFlag = getFacesUtils().getRequestParameter("actionFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("actionFlag");
	        String menuGroup = getFacesUtils().getRequestParameter("menuGroup") == null ? "" : (String)getFacesUtils().getRequestParameter("menuGroup");
	        String menuLevel = getFacesUtils().getRequestParameter("menuLevel") == null ? "" : (String)getFacesUtils().getRequestParameter("menuLevel");
	        
//	        String paramMenuType = (String)getFacesUtils().getRequestParameter("paramMenuType");
//			String paramUrl = semmmm001Bean.getParamUrl();
//	        String paramMenuGroup = semmmm001Bean.getParamMenuGroup();
	        
//	        System.out.println("paramUrl = "+paramUrl);
//	        System.out.println("paramMenuGroup = "+paramMenuGroup);
	        
			if(!"".equals(rowId) ){
				
			
					flag = true;
					
					for(WrapperBeanObject<MenuTreeSP> menuTreeWrapper : objList){
						WrapperBeanObject<MenuTreeSP> tmpWrapperBean = new WrapperBeanObject<MenuTreeSP>();
						if(menuTreeWrapper != null ){
							MenuTreeSP menuTree = (MenuTreeSP) menuTreeWrapper.getDataObj();
							if(StringUtils.equals(menuGroup, menuTree.getMenuGroup())){
							
//								System.out.println("meinId : "+mainId);
//								System.out.println("refid : "+menuTree.getRefId());
//								System.out.println("actionFlag : "+actionFlag);
//								System.out.println("rendered : "+menuTree.isRenderedFlag());
//								System.out.println("DisableFlag : "+menuTree.isDisableFlag());
//								System.out.println("label "+menuTree.getMenuLabel());
//								System.out.println("length 1: "+menuTree.getMenuLevel().length()+" length2 : "+menuLevel.length());
//								System.out.println("-----------------------------------------------------------");
								
								if(menuTree.getRefId().intValue() > 0 && StringUtils.equals(mainId, menuTree.getRefId().toString())){
									if(menuTree.isRenderedFlag()){
										menuTree.setRenderedFlag(false);
										menuTree.setDisableFlag(false);
										menuTree.setStyleClass("");
									}else{
										menuTree.setRenderedFlag(true);
										menuTree.setDisableFlag(true);
									}							
								}else{
									menuTree.setStyleClass("");
								}
								
								if(StringUtils.equals("N", headerFlag)
										&& StringUtils.equals(rowId,menuTree.getRowId())){
									menuTree.setStyleClass("ms7redBold");
								}
								
								if(StringUtils.equals("false", actionFlag.toLowerCase()) && 
										Integer.parseInt(mainId) < menuTree.getMainId().intValue() &&
										menuTree.getMenuLevel().length() > menuLevel.length() &&
										 menuTree.isRenderedFlag()){
									menuTree.setRenderedFlag(false);
									menuTree.setDisableFlag(false);
								}
								
								if(StringUtils.equals(mainId, menuTree.getMainId().toString()) && 
										StringUtils.equals("true", actionFlag.toLowerCase())){
									menuTree.setDisableFlag(false);
								}else if(StringUtils.equals(mainId, menuTree.getMainId().toString()) && 
										StringUtils.equals("false", actionFlag.toLowerCase())){
									menuTree.setDisableFlag(true);
								}
								
							}else{
								menuTree.setStyleClass("");
							}
							
							
							
							
							tmpWrapperBean.setDataObj(menuTree);
							tmpWrapperBean.setMessage("");
							menuWrapperList.add(tmpWrapperBean);
		        		
					
							
						}
					}

				
//				semmmm001Bean.setMenuTreeVendorList(menuWrapperList);
//	        	semmmm001Bean.setScrollerPage("1");
				setSemmmm001Bean(semmmm001Bean);
			}
	        
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM002Action");
			flag = false;
			
		} finally {
			LOG.info("::: SEMMMM002Action :: treeSwapPage >> END :::");
		}
		return menuWrapperList;
	}
	
	private boolean searchTodoList() {
		LOG.info("::: SEMMMM002Action :: searchContractList >> BEGIN :::");
		boolean flag = true;
		IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
		List<Mmm001VendorMasterSP> to = null;
		
		try {
			semmmm001Bean = getSemmmm001Bean();
//			if(validate){
//				
//			}
			semmmm001Bean.setVendorMasterResultList(new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>());
//			setSemmmm001Bean(semmmm001Bean);
			
//			if(semmmm001Bean.isChkPicoType()){
//				semmmm001Bean.getCriteria().setSystemType("PICO");
//			}
//			semmmm001Bean.getCriteria().setCreateBy(getUserLogIn());
			
			//TODO concat region from search criteria added by NEW 01/06/2018
			String region = this.doConcatRegion();
			LOG.debug("region after concat : "+region);
			if(region != null){
				semmmm001Bean.getVendorMasterCriteria().setRegion(region);
			}
			
			LOG.debug("criteria: " + semmmm001Bean.getVendorMasterCriteria().toString());
			semmmm001Bean.getVendorMasterCriteria().setPageFlag("S");
			semmmm001Bean.getVendorMasterCriteria().setMenuGroup("SR");
			semmmm001Bean.getVendorMasterCriteria().setStrParam("");
//			semmmm001Bean.getVendorMasterCriteria().setStrParam(strParam);
//			semmmm001Bean.getVendorMasterCriteria().setCreateById(createById);
//			System.out.println("menuGroup : "+menuGroup);
//			System.out.println("strParam : "+strParam);
//			System.out.println("createById : "+createById);
			
			if(semmmm001Bean.isChkPicoType()){
				semmmm001Bean.getVendorMasterCriteria().setSystemType("PICO");
			} else {
				semmmm001Bean.getVendorMasterCriteria().setSystemType("");
			}
			
			to = service.querySPList(EQueryName.SEM_SAP_SP_TODO_VENDOR_SEARCH.name, semmmm001Bean.getVendorMasterCriteria());
			
			if (null == to || to.isEmpty()) {
//				addMessageError(to.get(0).getRemark());
				semmmm001Bean.setRenderedMsgDataNotFound(true);
			} else {
				semmmm001Bean.setRenderedMsgDataNotFound(false);
				
				String tempId = "";
				
				LOG.debug("to.size() = "+to.size());
				for (int i=0; i<to.size(); i++) {
					Mmm001VendorMasterSP o = to.get(i);
					WrapperBeanObject<Mmm001VendorMasterSP> tmpWrapperBean = new WrapperBeanObject<Mmm001VendorMasterSP>();
					
//					
					if(StringUtils.equals("", o.getMenuUrl()) || StringUtils.isEmpty(o.getMenuUrl())){
						o.setBtnEditSapRerendered(false);
					}else{
						o.setBtnEditSapRerendered(true);
						semmmm001Bean.setRenderedEditColumn(true);
					}
					
					if(o.getEffectiveDt() != null){
						o.setEffectiveDtStr(convertYearENtoTHStr(o.getEffectiveDt()));
					}
					
					if(o.getVendorEffectiveDt() != null){
						o.setVendorEffectiveDtStr(convertYearENtoTHStr(o.getVendorEffectiveDt()));
					}
					
					if(o.getContractEffectiveDt() != null){
						o.setContractEffectiveDtStr(convertYearENtoTHStr(o.getContractEffectiveDt()));
					}
					
					if(o.getContractExpireDt() != null){
						o.setContractExpireDtStr(convertYearENtoTHStr(o.getContractExpireDt()));
					}
					
					if(o.getGroupNo() != null && tempId.equals(o.getGroupNo())){
						 o.setRenderColumn(false);
						 o.setRowSpan("0");
					}else{
						if(o.getGroupNo() != null){
							tempId = o.getGroupNo();
						}
						o.setRenderColumn(true);
//						o.setRowSpan("2");
					 }
					
					tmpWrapperBean.setDataObj(o);
					tmpWrapperBean.setMessage("");
					tmpWrapperBean.setCheckBox(false);
					semmmm001Bean.getVendorMasterResultList().add(tmpWrapperBean);
				}
				this.onEnableButton();
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM002Action searchTodoList");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM002Action :: searchTodoList >> END :::");
		}
		return flag;
	}
	

	private boolean searchTodoList(String menuGroup,String strParam, String createById) {
		LOG.info("::: SEMMMM002Action :: searchContractList >> BEGIN :::");
		boolean flag = true;
		IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
		List<Mmm001VendorMasterSP> to = null;
		
		try {
			semmmm001Bean = getSemmmm001Bean();
//			if(validate){
//				
//			}
			semmmm001Bean.setVendorMasterResultList(new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>());
//			setSemmmm001Bean(semmmm001Bean);
			
//			if(semmmm001Bean.isChkPicoType()){
//				semmmm001Bean.getCriteria().setSystemType("PICO");
//			}
//			semmmm001Bean.getCriteria().setCreateBy(getUserLogIn());
			LOG.debug("criteria: " + semmmm001Bean.getVendorMasterCriteria().toString());
			semmmm001Bean.getVendorMasterCriteria().setPageFlag("S");
			semmmm001Bean.getVendorMasterCriteria().setMenuGroup(menuGroup);
			semmmm001Bean.getVendorMasterCriteria().setStrParam(strParam);
			semmmm001Bean.getVendorMasterCriteria().setRegion("");
//			semmmm001Bean.getVendorMasterCriteria().setCreateById(createById);
//			System.out.println("menuGroup : "+menuGroup);
//			System.out.println("strParam : "+strParam);
//			System.out.println("createById : "+createById);
			
			if(semmmm001Bean.isChkPicoType()){
				semmmm001Bean.getVendorMasterCriteria().setSystemType("PICO");
			} else {
				semmmm001Bean.getVendorMasterCriteria().setSystemType("");
			}
			LOG.debug("setPageFlag : "+semmmm001Bean.getVendorMasterCriteria().getPageFlag());
			LOG.debug("getMenuGroup : "+semmmm001Bean.getVendorMasterCriteria().getMenuGroup());
			LOG.debug("getStrParam : "+semmmm001Bean.getVendorMasterCriteria().getStrParam());
			LOG.debug("getCreateById : "+semmmm001Bean.getVendorMasterCriteria().getCreateById());
			LOG.debug("getSystemType : "+semmmm001Bean.getVendorMasterCriteria().getSystemType());
			to = service.querySPList(EQueryName.SEM_SAP_SP_TODO_VENDOR_SEARCH.name, semmmm001Bean.getVendorMasterCriteria());
			
			if (null == to || to.isEmpty()) {
//				addMessageError(to.get(0).getRemark());
				semmmm001Bean.setRenderedMsgDataNotFound(true);
			} else {
				semmmm001Bean.setRenderedMsgDataNotFound(false);
				
				String tempId = "";
				
				LOG.debug("to.size() = "+to.size());
				for (int i=0; i<to.size(); i++) {
					Mmm001VendorMasterSP o = to.get(i);
					WrapperBeanObject<Mmm001VendorMasterSP> tmpWrapperBean = new WrapperBeanObject<Mmm001VendorMasterSP>();
					
//					
					if(StringUtils.equals("", o.getMenuUrl()) || StringUtils.isEmpty(o.getMenuUrl())){
						o.setBtnEditSapRerendered(false);
					}else{
						o.setBtnEditSapRerendered(true);
						semmmm001Bean.setRenderedEditColumn(true);
					}
					
					if(o.getActionTypeDisplay() != null){
						o.setActionTypeDisplay(StringUtils.substring(o.getActionTypeDisplay(), 0, o.getActionTypeDisplay().lastIndexOf(",")));
						LOG.debug("Action Detail Sub Last , : "+o.getActionTypeDisplay());
					}
					
					if(o.getOtherStatus() != null){
						o.setOtherStatus(StringUtils.substring(o.getOtherStatus(), 0, o.getOtherStatus().lastIndexOf(",")));
						LOG.debug("Other Status Sub Last , : "+o.getOtherStatus());
					}
					
					if(o.getEffectiveDt() != null){
						o.setEffectiveDtStr(convertYearENtoTHStr(o.getEffectiveDt()));
					}
					
					if(o.getVendorEffectiveDt() != null){
						o.setVendorEffectiveDtStr(convertYearENtoTHStr(o.getVendorEffectiveDt()));
					}
					
					if(o.getContractEffectiveDt() != null){
						o.setContractEffectiveDtStr(convertYearENtoTHStr(o.getContractEffectiveDt()));
					}
					
					if(o.getContractExpireDt() != null){
						o.setContractExpireDtStr(convertYearENtoTHStr(o.getContractExpireDt()));
					}
					
					if(o.getGroupNo() != null && tempId.equals(o.getGroupNo())){
						 o.setRenderColumn(false);
						 o.setRowSpan("0");
					}else{
						if(o.getGroupNo() != null){
							tempId = o.getGroupNo();
						}
						o.setRenderColumn(true);
//						o.setRowSpan("2");
					 }
					
					tmpWrapperBean.setDataObj(o);
					tmpWrapperBean.setMessage("");
					tmpWrapperBean.setCheckBox(false);
					semmmm001Bean.getVendorMasterResultList().add(tmpWrapperBean);
				}
				
				this.onEnableButton();
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM002Action searchTodoList");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM002Action :: searchTodoList >> END :::");
		}
		return flag;
	}
	
	private boolean searchTodoListAfterSave() {
		LOG.info("::: SEMMMM002Action :: searchTodoListAfterSave >> BEGIN :::");
		boolean flag = true;
		IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
		List<Mmm001VendorMasterSP> to = null;
		
		try {
			semmmm001Bean = getSemmmm001Bean();
//			if(validate){
//				
//			}
			semmmm001Bean.setVendorMasterResultList(new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>());
//			setSemmmm001Bean(semmmm001Bean);
			
//			if(semmmm001Bean.isChkPicoType()){
//				semmmm001Bean.getCriteria().setSystemType("PICO");
//			}
//			semmmm001Bean.getCriteria().setCreateBy(getUserLogIn());
//			LOG.debug("criteria: " + semmmm001Bean.getVendorMasterCriteria().toString());
//			semmmm001Bean.getVendorMasterCriteria().setPageFlag("S");
//			semmmm001Bean.getVendorMasterCriteria().setMenuGroup("SR");
//			semmmm001Bean.getVendorMasterCriteria().setStrParam(strParam);
//			semmmm001Bean.getVendorMasterCriteria().setCreateById(createById);
//			System.out.println("menuGroup : "+menuGroup);
//			System.out.println("strParam : "+strParam);
//			System.out.println("createById : "+createById);
			
//			if(semmmm001Bean.isChkPicoType()){
//				semmmm001Bean.getVendorMasterCriteria().setSystemType("PICO");
//			} else {
//				semmmm001Bean.getVendorMasterCriteria().setSystemType("");
//			}
			LOG.debug("setPageFlag : "+semmmm001Bean.getVendorMasterCriteria().getPageFlag());
			LOG.debug("getMenuGroup : "+semmmm001Bean.getVendorMasterCriteria().getMenuGroup());
			LOG.debug("getStrParam : "+semmmm001Bean.getVendorMasterCriteria().getStrParam());
			LOG.debug("getCreateById : "+semmmm001Bean.getVendorMasterCriteria().getCreateById());
			LOG.debug("getSystemType : "+semmmm001Bean.getVendorMasterCriteria().getSystemType());
			to = service.querySPList(EQueryName.SEM_SAP_SP_TODO_VENDOR_SEARCH.name, semmmm001Bean.getVendorMasterCriteria());
			
			if (null == to || to.isEmpty()) {
//				addMessageError(to.get(0).getRemark());
				semmmm001Bean.setRenderedMsgDataNotFound(true);
			} else {
				semmmm001Bean.setRenderedMsgDataNotFound(false);
				
				String tempId = "";
				
				LOG.debug("to.size() = "+to.size());
				for (int i=0; i<to.size(); i++) {
					Mmm001VendorMasterSP o = to.get(i);
					WrapperBeanObject<Mmm001VendorMasterSP> tmpWrapperBean = new WrapperBeanObject<Mmm001VendorMasterSP>();
					
//					
					if(StringUtils.equals("", o.getMenuUrl()) || StringUtils.isEmpty(o.getMenuUrl())){
						o.setBtnEditSapRerendered(false);
					}else{
						o.setBtnEditSapRerendered(true);
						semmmm001Bean.setRenderedEditColumn(true);
					}
					
					if(o.getEffectiveDt() != null){
						o.setEffectiveDtStr(convertYearENtoTHStr(o.getEffectiveDt()));
					}
					
					if(o.getVendorEffectiveDt() != null){
						o.setVendorEffectiveDtStr(convertYearENtoTHStr(o.getVendorEffectiveDt()));
					}
					
					if(o.getContractEffectiveDt() != null){
						o.setContractEffectiveDtStr(convertYearENtoTHStr(o.getContractEffectiveDt()));
					}
					
					if(o.getContractExpireDt() != null){
						o.setContractExpireDtStr(convertYearENtoTHStr(o.getContractExpireDt()));
					}
					
					if(o.getGroupNo() != null && tempId.equals(o.getGroupNo())){
						 o.setRenderColumn(false);
						 o.setRowSpan("0");
					}else{
						if(o.getGroupNo() != null){
							tempId = o.getGroupNo();
						}
						o.setRenderColumn(true);
//						o.setRowSpan("2");
					 }
					
					tmpWrapperBean.setDataObj(o);
					tmpWrapperBean.setMessage("");
					tmpWrapperBean.setCheckBox(false);
					semmmm001Bean.getVendorMasterResultList().add(tmpWrapperBean);
				}
				this.onEnableButton();
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM002Action searchTodoListAfterSave");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM002Action :: searchTodoListAfterSave >> END :::");
		}
		return flag;
	}
	
	// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
	// test menu util >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
//	private TreeNode rootNode = null;
    private List<String> selectedNodeChildren = new ArrayList<String>();    
    
    private String nodeTitle;
    private MenuTreeSP nodeValue;
    private MenuTreeSP menuRoot;
    
    private void loadTree() {
        try {
        	semmmm001Bean = getSemmmm001Bean();
        	List<MenuTreeSP> menuTreeList = null;
        	List<WrapperBeanObject<MenuTreeSP>> menuTreeWrapList = new ArrayList<WrapperBeanObject<MenuTreeSP>>();
        	//// >>
        	MenuTreeSP myParam = new MenuTreeSP();
        	List<Object> mySendList = new ArrayList<Object>();
        	
        	IMenuTreeService service = (IMenuTreeService)getBean("menuTreeService");
        	
        	String groupType[] = {"VD", "VB", "PY", "PB", "AB", "CB"};
        	
        	for(String mnGrp : groupType) {
        		myParam.setMenuGroup(mnGrp);
	        	myParam.setUserLogin(getUserLogIn());
//	        	myParam.setCreateBy(getUserLogIn());
	        	myParam.setPageFlag("S");
	        	
//	        	List<MenuTreeSP> menuTreeList = null;
	        	menuTreeList = service.querySPList(EQueryName.SEM_SAP_GET_TODO_MENU.name, myParam);

        		Map<String, Object> myMap = new HashMap<String, Object>();
	        	
	        	if(menuTreeList != null && !menuTreeList.isEmpty()){

	        		/// >
	        		for(int j=0; j<menuTreeList.size(); j++){
	        			String mLevel = menuTreeList.get(j).getMenuLevel();
	        			if(mLevel.length() == 2){
	        				menuTreeList.get(j).setRenderedFlag(true);
	        				menuTreeList.get(j).setDisableFlag(true);
	        			}else{
	        				menuTreeList.get(j).setRenderedFlag(false);
	        				menuTreeList.get(j).setDisableFlag(false);
	        			}
	        			
	        			if(StringUtils.isEmpty(menuTreeList.get(j).getRecordCount()) || StringUtils.equals("0", menuTreeList.get(j).getRecordCount())){
	        				menuTreeList.get(j).setRenderedFlag(false);
	        			}
	        			
	        			//set Total Sum Header
	        			if(StringUtils.equals("VD", mnGrp)){
	        				semmmm001Bean.setTotalSumVendor(menuTreeList.get(j).getTotalSum());
	        			}else if(StringUtils.equals("VB", mnGrp)){
	        				semmmm001Bean.setTotalSumVendorBookbank(menuTreeList.get(j).getTotalSum());
	        			}else if(StringUtils.equals("PY", mnGrp)){
	        				semmmm001Bean.setTotalSumPayee(menuTreeList.get(j).getTotalSum());
	        			}else if(StringUtils.equals("PB", mnGrp)){
	        				semmmm001Bean.setTotalSumPayeeBookbank(menuTreeList.get(j).getTotalSum());
	        			}else if(StringUtils.equals("AB", mnGrp)){
	        				semmmm001Bean.setTotalSumAbnormal(menuTreeList.get(j).getTotalSum());
	        			}else if(StringUtils.equals("CB", mnGrp)){
	        				semmmm001Bean.setTotalSumCreateBy(menuTreeList.get(j).getTotalSum());
	        			}
	        			
        				myMap.put(mLevel, menuTreeList.get(j));
        				//System.out.println("---------- mLevel ["+ mLevel +"] >> " + myMap.get(mLevel));
	        		}
	        		mySendList.add(myMap);
	        		/// <
//	        		for(MenuTreeSP menuTree : menuTreeList){
////	        			VendorMasterSP vm = (MenuTreeSP)vendorMasterList.get(i);
//						WrapperBeanObject<MenuTreeSP> tmpWrapperBean = new WrapperBeanObject<MenuTreeSP>();
//						tmpWrapperBean.setDataObj(menuTree);
//						tmpWrapperBean.setMessage("");
//						menuTreeWrapList.add(tmpWrapperBean);
//	        		}
	        		
	        	}
        	}
//        	semmmm001Bean.setMenuTreeList(menuTreeList);
//        	semmmm001Bean.setMenuTreeWrapList(menuTreeWrapList);
        	semmmm001Bean.setRootNode(new TreeNodeImpl());
    		addNodes(semmmm001Bean, mySendList);
        	//// <<
    		
        } catch (Exception e) {
        	LOG.debug(e);
            throw new FacesException(e.getMessage(), e);
        } finally {
//            setSemmmm001Bean(semmmm001Bean);  
        }
    }
    
    private boolean doSearchTree() {
    	boolean flag = true;
        try {
        	semmmm001Bean = getSemmmm001Bean();
        	List<MenuTreeSP> menuTreeList = null;
        	List<WrapperBeanObject<MenuTreeSP>> menuTreeWrapList = new ArrayList<WrapperBeanObject<MenuTreeSP>>();
        	//// >>
        	MenuTreeSP myParam = new MenuTreeSP();
        	List<Object> mySendList = new ArrayList<Object>();
        	
        	String regionConcatParam = "";
			String arrRegion[] = semmmm001Bean.getVendorMasterCriteria().getArrRegion().length == 0 ? null : 
								 semmmm001Bean.getVendorMasterCriteria().getArrRegion();
			if(arrRegion != null){
				for(Object s : arrRegion){
					LOG.debug("REGION: " + s.toString());
					regionConcatParam += s.toString().concat("|");
				}
				regionConcatParam = regionConcatParam.substring(0, regionConcatParam.lastIndexOf("|"));
				semmmm001Bean.getVendorMasterCriteria().setRegion(regionConcatParam);
				LOG.debug(">> regionConcatParam: " + regionConcatParam);
			}
        	
        	IMenuTreeService service = (IMenuTreeService)getBean("menuTreeService");
        	
        	String groupType[] = {"VD", "VB", "PY", "PB", "AB", "CB"};
        	
        	for(String mnGrp : groupType) {
//        		myParam.setMenuGroup(mnGrp);
//	        	myParam.setUserLogin(getUserLogIn());
        		semmmm001Bean.getVendorMasterCriteria().setMenuGroup(mnGrp);
        		semmmm001Bean.getVendorMasterCriteria().setUserLogin(getUserLogIn());
        		semmmm001Bean.getVendorMasterCriteria().setPageFlag("S");
	        	
//	        	List<MenuTreeSP> menuTreeList = null;
	        	menuTreeList = service.querySPList(EQueryName.SEM_SAP_GET_TODO_MENU.name, semmmm001Bean.getVendorMasterCriteria());

        		Map<String, Object> myMap = new HashMap<String, Object>();
	        	
	        	if(menuTreeList != null && !menuTreeList.isEmpty()){
//	        		semmmm001Bean.setVendorSelectedTeamList(new ArrayList<WrapperBeanObject<MenuTreeSP>>());
	    			semmmm001Bean.setVendorMasterResultList(new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>());
	        		/// >
	        		for(int j=0; j<menuTreeList.size(); j++){
	        			String mLevel = menuTreeList.get(j).getMenuLevel();
	        			if(mLevel.length() == 1){
	        				menuTreeList.get(j).setRenderedFlag(true);
	        				menuTreeList.get(j).setDisableFlag(true);
	        			}else{
	        				menuTreeList.get(j).setRenderedFlag(false);
	        				menuTreeList.get(j).setDisableFlag(false);
	        			}
	        			
	        			if(StringUtils.isEmpty(menuTreeList.get(j).getRecordCount()) || StringUtils.equals("0", menuTreeList.get(j).getRecordCount())){
	        				menuTreeList.get(j).setRenderedFlag(false);
	        			}
	        			
	        			//set Total Sum Header
	        			if(StringUtils.equals("VD", mnGrp)){
	        				semmmm001Bean.setTotalSumVendor(menuTreeList.get(j).getTotalSum());
	        			}else if(StringUtils.equals("VB", mnGrp)){
	   	        			if(StringUtils.isEmpty(menuTreeList.get(j).getRecordCount()) || StringUtils.equals("0", menuTreeList.get(j).getRecordCount())){
	   	        				menuTreeList.get(j).setRenderedFlag(false);
	   	        			}
	        			
	   	        			semmmm001Bean.setTotalSumVendorBookbank(menuTreeList.get(j).getTotalSum());
	        			}else if(StringUtils.equals("PY", mnGrp)){
	        				semmmm001Bean.setTotalSumPayee(menuTreeList.get(j).getTotalSum());
	        			}else if(StringUtils.equals("PB", mnGrp)){
	        				semmmm001Bean.setTotalSumPayeeBookbank(menuTreeList.get(j).getTotalSum());
	        			}else if(StringUtils.equals("AB", mnGrp)){
	        				semmmm001Bean.setTotalSumAbnormal(menuTreeList.get(j).getTotalSum());
	        			}else if(StringUtils.equals("CB", mnGrp)){
	        				semmmm001Bean.setTotalSumCreateBy(menuTreeList.get(j).getTotalSum());
	        			}
	        			
        				myMap.put(mLevel, menuTreeList.get(j));
        				//System.out.println("---------- mLevel ["+ mLevel +"] >> " + myMap.get(mLevel));
	        		}
	        		mySendList.add(myMap);
	        		/// <
//	        		for(MenuTreeSP menuTree : menuTreeList){
////	        			VendorMasterSP vm = (MenuTreeSP)vendorMasterList.get(i);
//						WrapperBeanObject<MenuTreeSP> tmpWrapperBean = new WrapperBeanObject<MenuTreeSP>();
//						tmpWrapperBean.setDataObj(menuTree);
//						tmpWrapperBean.setMessage("");
//						menuTreeWrapList.add(tmpWrapperBean);
//	        		}
	        		
	        	}
        	}
//        	semmmm001Bean.setMenuTreeList(menuTreeList);
//        	semmmm001Bean.setMenuTreeWrapList(menuTreeWrapList);
        	semmmm001Bean.setRootNode(new TreeNodeImpl());
    		addNodes(semmmm001Bean, mySendList);
        	//// <<
    		
        } catch (Exception e) {
        	 flag = false;
        	LOG.debug(e);
            throw new FacesException(e.getMessage(), e);
           
        } finally {
//            setSemmmm001Bean(semmmm001Bean);  
        }
        return flag;
    }

    @SuppressWarnings({ "unused", "unchecked" })
	private void addNodes(SEMMMM001Bean semmmm001Bean, List<Object> propList) {
    	
    	//System.out.println("xxx propList size: " + propList.size());
    	
    	for(int i=0; i<propList.size(); i++) {
    		List<WrapperBeanObject<MenuTreeSP>> menuTreeWrapList = new ArrayList<WrapperBeanObject<MenuTreeSP>>();
        	// >>
    		Map<String, Object> map = (Map<String, Object>) propList.get(i);
    		
    		int mapSize = map.keySet().size();
    		Object[] mapArr = map.keySet().toArray();
    		
    		// for sorting
    		Object[] mapArr_ = map.keySet().toArray();
    		Arrays.sort(mapArr_);
    		// <<
    		
			MenuTreeSP myParent = new MenuTreeSP();
			
//			String _MENU_LABEL = "";
			if(i == 0) {
//				_MENU_LABEL = "New Location";
				for(int x=0; x<mapSize; x++){
	    			TreeNodeImpl<MenuTreeSP> child = new TreeNodeImpl<MenuTreeSP>();
	    			
	    			String parentNode = mapArr_[x].toString();	// get key by sorting
	    			
	    			MenuTreeSP mapObj =  (MenuTreeSP) map.get(parentNode);

//	    			child.setData(mapObj);
//	    			
//	    			stationNodes.addChild(x, child);
//	    			
//	    			for(MenuTreeSP menuTree : menuTreeList){
//	        			VendorMasterSP vm = (MenuTreeSP)vendorMasterList.get(i);
						WrapperBeanObject<MenuTreeSP> tmpWrapperBean = new WrapperBeanObject<MenuTreeSP>();
						tmpWrapperBean.setDataObj(mapObj);
						tmpWrapperBean.setMessage("");
						menuTreeWrapList.add(tmpWrapperBean);
	        		}
				semmmm001Bean.setMenuTreeVendorList(menuTreeWrapList);
			} else if(i == 1) {
//				_MENU_LABEL = "";
				for(int x=0; x<mapSize; x++){
	    			TreeNodeImpl<MenuTreeSP> child = new TreeNodeImpl<MenuTreeSP>();
	    			
	    			String parentNode = mapArr_[x].toString();	// get key by sorting
	    			
	    			MenuTreeSP mapObj =  (MenuTreeSP) map.get(parentNode);

//	    			child.setData(mapObj);
//	    			
//	    			stationNodes.addChild(x, child);
//	    			
//	    			for(MenuTreeSP menuTree : menuTreeList){
//	        			VendorMasterSP vm = (MenuTreeSP)vendorMasterList.get(i);
						WrapperBeanObject<MenuTreeSP> tmpWrapperBean = new WrapperBeanObject<MenuTreeSP>();
						tmpWrapperBean.setDataObj(mapObj);
						tmpWrapperBean.setMessage("");
						menuTreeWrapList.add(tmpWrapperBean);
	        		}
				semmmm001Bean.setMenuTreeVendorBookbankList(menuTreeWrapList);
			} else if(i == 2) {
//				_MENU_LABEL = "";
				for(int x=0; x<mapSize; x++){
	    			TreeNodeImpl<MenuTreeSP> child = new TreeNodeImpl<MenuTreeSP>();
	    			
	    			String parentNode = mapArr_[x].toString();	// get key by sorting
	    			
	    			MenuTreeSP mapObj =  (MenuTreeSP) map.get(parentNode);

//	    			child.setData(mapObj);
//	    			
//	    			stationNodes.addChild(x, child);
//	    			
//	    			for(MenuTreeSP menuTree : menuTreeList){
//	        			VendorMasterSP vm = (MenuTreeSP)vendorMasterList.get(i);
						WrapperBeanObject<MenuTreeSP> tmpWrapperBean = new WrapperBeanObject<MenuTreeSP>();
						tmpWrapperBean.setDataObj(mapObj);
						tmpWrapperBean.setMessage("");
						menuTreeWrapList.add(tmpWrapperBean);
	        		}
				semmmm001Bean.setMenuTreePayeeList(menuTreeWrapList);
			} else if(i == 3) {
//				_MENU_LABEL = "Terminate";
				for(int x=0; x<mapSize; x++){
	    			TreeNodeImpl<MenuTreeSP> child = new TreeNodeImpl<MenuTreeSP>();
	    			
	    			String parentNode = mapArr_[x].toString();	// get key by sorting
	    			
	    			MenuTreeSP mapObj =  (MenuTreeSP) map.get(parentNode);

//	    			child.setData(mapObj);
//	    			
//	    			stationNodes.addChild(x, child);
//	    			
//	    			for(MenuTreeSP menuTree : menuTreeList){
//	        			VendorMasterSP vm = (MenuTreeSP)vendorMasterList.get(i);
						WrapperBeanObject<MenuTreeSP> tmpWrapperBean = new WrapperBeanObject<MenuTreeSP>();
						tmpWrapperBean.setDataObj(mapObj);
						tmpWrapperBean.setMessage("");
						menuTreeWrapList.add(tmpWrapperBean);
	        		}
				semmmm001Bean.setMenuTreePayeeBookbankList(menuTreeWrapList);
			} else if(i == 4) {
//				_MENU_LABEL = "Terminate";
				for(int x=0; x<mapSize; x++){
	    			TreeNodeImpl<MenuTreeSP> child = new TreeNodeImpl<MenuTreeSP>();
	    			
	    			String parentNode = mapArr_[x].toString();	// get key by sorting
	    			
	    			MenuTreeSP mapObj =  (MenuTreeSP) map.get(parentNode);

//	    			child.setData(mapObj);
//	    			
//	    			stationNodes.addChild(x, child);
//	    			
//	    			for(MenuTreeSP menuTree : menuTreeList){
//	        			VendorMasterSP vm = (MenuTreeSP)vendorMasterList.get(i);
						WrapperBeanObject<MenuTreeSP> tmpWrapperBean = new WrapperBeanObject<MenuTreeSP>();
						tmpWrapperBean.setDataObj(mapObj);
						tmpWrapperBean.setMessage("");
						menuTreeWrapList.add(tmpWrapperBean);
	        		}
				semmmm001Bean.setMenuTreeAbnormalList(menuTreeWrapList);
			}else if(i == 5) {
//				_MENU_LABEL = "Create By";
				for(int x=0; x<mapSize; x++){
	    			TreeNodeImpl<MenuTreeSP> child = new TreeNodeImpl<MenuTreeSP>();
	    			
	    			String parentNode = mapArr_[x].toString();	// get key by sorting
	    			
	    			MenuTreeSP mapObj =  (MenuTreeSP) map.get(parentNode);

//	    			child.setData(mapObj);
//	    			
//	    			stationNodes.addChild(x, child);
//	    			
//	    			for(MenuTreeSP menuTree : menuTreeList){
//	        			VendorMasterSP vm = (MenuTreeSP)vendorMasterList.get(i);
						WrapperBeanObject<MenuTreeSP> tmpWrapperBean = new WrapperBeanObject<MenuTreeSP>();
						tmpWrapperBean.setDataObj(mapObj);
						tmpWrapperBean.setMessage("");
						menuTreeWrapList.add(tmpWrapperBean);
	        		}
				semmmm001Bean.setMenuTreeCreateByList(menuTreeWrapList);
			}
//			myParent.setMenuLabel(_MENU_LABEL);
//			myParent.setMenuGroup("NN");
//			myParent.setMenuUrl("Tree Head");
//    		
//    		// >>
//    		TreeNodeImpl<MenuTreeSP> stationNodes = new TreeNodeImpl<MenuTreeSP>();
//    		
//    		MenuTreeSP menuTreeObj = new MenuTreeSP();
//    		
//    		stationNodes.setData(myParent);
//    		stationNodes.setParent(stationNodes);
//        	masterRoot.addChild(i, stationNodes);
        	// <<
    		
//    		for(int x=0; x<mapSize; x++){
//    			TreeNodeImpl<MenuTreeSP> child = new TreeNodeImpl<MenuTreeSP>();
//    			
//    			String parentNode = mapArr_[x].toString();	// get key by sorting
//    			
//    			MenuTreeSP mapObj =  (MenuTreeSP) map.get(parentNode);
//
////    			child.setData(mapObj);
////    			
////    			stationNodes.addChild(x, child);
////    			
////    			for(MenuTreeSP menuTree : menuTreeList){
////        			VendorMasterSP vm = (MenuTreeSP)vendorMasterList.get(i);
//					WrapperBeanObject<MenuTreeSP> tmpWrapperBean = new WrapperBeanObject<MenuTreeSP>();
//					tmpWrapperBean.setDataObj(mapObj);
//					tmpWrapperBean.setMessage("");
//					menuTreeWrapList.add(tmpWrapperBean);
//        		}
//    		}
//    		// <<
//    		
//    		masterRoot.addChild(i, stationNodes);
			setSemmmm001Bean(semmmm001Bean);
    	}
    }
    
    public void processSelection(NodeSelectedEvent event) {

        HtmlTree tree = (HtmlTree) event.getComponent();
        nodeTitle = ((MenuTreeSP)tree.getRowData()).toString();
        MenuTreeSP menuTreeSP = (MenuTreeSP)tree.getRowData();
        semmmm001Bean = getSemmmm001Bean();
//        nodeValue = (MenuTreeSP) tree.getRowData();

        selectedNodeChildren.clear();
        
        TreeNode currentNode = tree.getModelTreeNode(tree.getRowKey());
        if (currentNode.isLeaf()){
            selectedNodeChildren.add(((MenuTreeSP)currentNode.getData()).toString());
//            semmmm001Bean.setParamUrl(menuTreeSP.getMenuUrl());
//            semmmm001Bean.setParamMenuGroup(menuTreeSP.getMenuGroup());
            setSemmmm001Bean(semmmm001Bean);
//            this.treeSwapPage();
            //System.out.println("selected node Child [y]: " + ((MenuTreeSP)currentNode.getData()).toString());
        }else
        {
            Iterator<Map.Entry<Object, TreeNode>> it = currentNode.getChildren();
            while (it!=null &&it.hasNext()) {
                Map.Entry<Object, TreeNode> entry = it.next();
                selectedNodeChildren.add(entry.getValue().getData().toString());
                //System.out.println("selected nod Parent have Childred [x]: " + entry.getValue().getData().toString());
            }
        }
        
        
    }
    
    public void clearReasonNotProcess() {
    	semmmm001Bean = getSemmmm001Bean();
//    	semmmm001Bean.setReasonOfNotProcess(null);
    	//get Tree Node
		this.loadTree();
    }
    
    // fixed 2015/01/27
    public boolean nodeExpandAll(UITree tree) {  
    	// can do something
    	return true;
    }
    
    public TreeNode getTreeNode() {
    	semmmm001Bean = getSemmmm001Bean();
        if (semmmm001Bean.getRootNode() == null) {
            loadTree();
        }
        
        return semmmm001Bean.getRootNode();
    }

    public String getNodeTitle() {
        return nodeTitle;
    }

    public void setNodeTitle(String nodeTitle) {
        this.nodeTitle = nodeTitle;
    }
    
    public MenuTreeSP getNodeValue() {
        return nodeValue;
    }

    public void setNodeValue(MenuTreeSP nodeValue) {
        this.nodeValue = nodeValue;
    }
    
    public MenuTreeSP getMenuRoot() {
        return menuRoot;
    }

    public void setMenuRoot(MenuTreeSP menuRoot) {
        this.menuRoot = menuRoot;
    }
	
    //added by NEW 18/05/2017
    public boolean doEditVendor() {
		LOG.info("::: SEMMMM001Action :: doNewVendor >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			Mmm001CriteriaSP tmpCriteria = null;
			List<Mmm001ContractSP> contractResultList = new ArrayList<Mmm001ContractSP>();
			List<Mmm001VendorContractSP> vendorContractResultList = new ArrayList<Mmm001VendorContractSP>();			
			List<Mmm001VendorSP> vendorSapResultList = new ArrayList<Mmm001VendorSP>();
			List<Mmm001VendorSP> vendorSemResultList = new ArrayList<Mmm001VendorSP>();
			List<Mmm001AddressSP> addressSapResultList = new ArrayList<Mmm001AddressSP>();
			List<Mmm001AddressSP> addressSemResultList = new ArrayList<Mmm001AddressSP>();
			List<Mmm001BookbankSP> bookbankResultList = new ArrayList<Mmm001BookbankSP>();
			List<Mmm001PayeeSP> payeeResultList = new ArrayList<Mmm001PayeeSP>();
			
			semmmm001Bean.setVendorSapAddrObj(new Mmm001AddressSP()); 		// clear object
			semmmm001Bean.setVendorSemAddrObj(new Mmm001AddressSP()); 		// clear object
//			semmmm001Bean.setRentalAddrObj(new Mmm001AddressSP()); 		// clear object
//			semmmm001Bean.setElectrictAddrObj(new Mmm001AddressSP()); 	// clear object
//			semmmm001Bean.setPropertyAddrObj(new Mmm001AddressSP()); 	// clear object
//			semmmm001Bean.setInsureAddrObj(new Mmm001AddressSP()); 		// clear object
//			semmmm001Bean.setConstructAddrObj(new Mmm001AddressSP()); 	// clear object
			semmmm001Bean.setWithholdSapAddrObj(new Mmm001AddressSP()); 	// clear object
			semmmm001Bean.setWithholdSemAddrObj(new Mmm001AddressSP()); 	// clear object
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String bookbankId = getFacesUtils().getRequestParameter("bookbankId") == null ? "" : (String) getFacesUtils().getRequestParameter("bookbankId");
			String payeeId = getFacesUtils().getRequestParameter("payeeId") == null ? "" : (String) getFacesUtils().getRequestParameter("payeeId");
			String bookbankPayeeId = getFacesUtils().getRequestParameter("bookbankPayeeId") == null ? "" : (String) getFacesUtils().getRequestParameter("bookbankPayeeId");
			String mode = getFacesUtils().getRequestParameter("mode") == null ? "" : (String) getFacesUtils().getRequestParameter("mode");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);

			if(StringUtils.equals("", contractNo) && StringUtils.equals("", vendorId) && StringUtils.equals("", bookbankId)
					&& StringUtils.equals("", payeeId) && StringUtils.equals("", bookbankPayeeId)){
				semmmm001Bean.setVisiblePnlContractInfo(false);
				
				semmmm001Bean.setContractInfo(new Mmm001ContractSP());
				semmmm001Bean.setVendorContractList(new ArrayList<WrapperBeanObject<Mmm001VendorContractSP>>());
				semmmm001Bean.setVendorInfo(new Mmm001VendorSP());
				semmmm001Bean.setBookbankList(new ArrayList<WrapperBeanObject<Mmm001BookbankSP>>());
				semmmm001Bean.setPayeeList(new ArrayList<WrapperBeanObject<Mmm001PayeeSP>>());
				semmmm001Bean.setContractList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
				
				semmmm001Bean.setDisableBtnSiteInfo(true);
				semmmm001Bean.setDisableBtnHistory(true);
				
				semmmm001Bean.setDisableContent(false); 
				semmmm001Bean.setDisableBtnEditVendor(true); 
				semmmm001Bean.setDisableBtnNewBookbank(true);
				semmmm001Bean.setDisableBtnNewPayee(true);
				
//				this.doSetOwnerLocation();
				this.doSetOwnerSapLocation();
				this.doSetOwnerSemLocation();
			} else {
				semmmm001Bean.setVisiblePnlContractInfo(true);
				
				semmmm001Bean.setDisableContent(true);
				
				//chack mode
				if(StringUtils.equals("E", mode)){
					semmmm001Bean.setViewMode(false);	
				}else{
					this.init();
					semmmm001Bean.setViewMode(true);
					semmmm001Bean.setDisableBtnSiteInfo(true);
					semmmm001Bean.setDisableBtnHistory(false);
					
					semmmm001Bean.setDisableBtnEditVendor(true); 
					semmmm001Bean.setDisableBtnNewBookbank(true);
					semmmm001Bean.setDisableBtnNewPayee(true);
					
				}
				
				
				semmmm001Bean.setDisableBtnSiteInfo(false);
				semmmm001Bean.setDisableBtnHistory(false);
				
				semmmm001Bean.setDisableBtnEditVendor(false); 
				semmmm001Bean.setDisableBtnNewBookbank(false);
				semmmm001Bean.setDisableBtnNewPayee(false);
			
				// -- contract info
//				tmpCriteria = new Mmm001CriteriaSP();
//				tmpCriteria.setContractNo(contractNo);
//				tmpCriteria.setVendorId(vendorId);
//				contractResultList = service.querySPList(EQueryName.SEM_SAP_CONTRACT_DETAIL.name, tmpCriteria);
//				
//				semmmm001Bean.setContractInfo(new Mmm001ContractSP()); // clear object
//				
//				if(contractResultList != null && !contractResultList.isEmpty()) {
//					LOG.debug(">> contractResultList.size() = " + contractResultList.size());
//					Mmm001ContractSP obj = (Mmm001ContractSP) contractResultList.get(0);
//					
//					semmmm001Bean.setContractInfo(obj);
//				}
//				
//				// -- vendor contract list
//				tmpCriteria = new Mmm001CriteriaSP();
//				tmpCriteria.setContractNo(contractNo);
//				vendorContractResultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_CONTRACT_LIST.name, tmpCriteria);
//				
//				semmmm001Bean.setVendorContractList(new ArrayList<WrapperBeanObject<Mmm001VendorContractSP>>()); // clear object
//				
//				if(vendorContractResultList != null && !vendorContractResultList.isEmpty()) {
//					LOG.debug(">> vendorContractResultList.size() = " + vendorContractResultList.size());
//					for (int i=0; i<vendorContractResultList.size(); i++) {
//						Mmm001VendorContractSP obj = (Mmm001VendorContractSP) vendorContractResultList.get(i);
//						WrapperBeanObject<Mmm001VendorContractSP> tmpWrapperBean = new WrapperBeanObject<Mmm001VendorContractSP>();
//						
//						tmpWrapperBean.setDataObj(obj);
//						tmpWrapperBean.setMessage("");
//						tmpWrapperBean.setCheckBox(false);
//						semmmm001Bean.getVendorContractList().add(tmpWrapperBean);
//					}
//				}
//				
				
				// -- vendor sap detail
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setGroupType("SAP");
				tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
				vendorSapResultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_DETAIL.name, tmpCriteria);
				
				semmmm001Bean.setVendorInfoSap(new Mmm001VendorSP()); // clear object
				
				if(vendorSapResultList != null && !vendorSapResultList.isEmpty()) {
					LOG.debug(">> vendorSapResultList.size() = " + vendorSapResultList.size());
					Mmm001VendorSP obj = (Mmm001VendorSP) vendorSapResultList.get(0);
					
					semmmm001Bean.setVendorInfoSap(obj);
				}
				
				
				// -- address
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setGroupType("SAP");
				addressSapResultList = service.querySPList(EQueryName.SEM_SAP_ADDRESS.name, tmpCriteria);
								
				if(addressSapResultList != null && !addressSapResultList.isEmpty()) {
					LOG.debug(">> addressSapResultList.size() = " + addressSapResultList.size());
					
					semmmm001Bean.setVendorSapAddrObj((Mmm001AddressSP) addressSapResultList.get(0));
//					semmmm001Bean.setRentalAddrObj((Mmm001AddressSP) addressSapResultList.get(1));
//					semmmm001Bean.setElectrictAddrObj((Mmm001AddressSP) addressSapResultList.get(2));
//					semmmm001Bean.setPropertyAddrObj((Mmm001AddressSP) addressSapResultList.get(3));
//					semmmm001Bean.setInsureAddrObj((Mmm001AddressSP) addressSapResultList.get(4));
//					semmmm001Bean.setConstructAddrObj((Mmm001AddressSP) addressSapResultList.get(5));
					semmmm001Bean.setWithholdSapAddrObj((Mmm001AddressSP) addressSapResultList.get(6));
					
					semmmm001Bean.getVendorSapAddrObj().setChkSendToSap(addressSapResultList.get(0).getSapFlag().equals("Y") ? true : false);
//					semmmm001Bean.getRentalAddrObj().setChkSendToSap(addressSapResultList.get(1).getSapFlag().equals("Y") ? true : false);
//					semmmm001Bean.getElectrictAddrObj().setChkSendToSap(addressSapResultList.get(2).getSapFlag().equals("Y") ? true : false);
//					semmmm001Bean.getPropertyAddrObj().setChkSendToSap(addressSapResultList.get(3).getSapFlag().equals("Y") ? true : false);
//					semmmm001Bean.getInsureAddrObj().setChkSendToSap(addressSapResultList.get(4).getSapFlag().equals("Y") ? true : false);
//					semmmm001Bean.getConstructAddrObj().setChkSendToSap(addressSapResultList.get(5).getSapFlag().equals("Y") ? true : false);
					semmmm001Bean.getWithholdSapAddrObj().setChkSendToSap(addressSapResultList.get(6).getSapFlag().equals("Y") ? true : false);
					
					this.doSetOwnerSapLocation();
				}
				
				
				// -- vendor sem detail
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setGroupType("SEM");
				tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
				vendorSemResultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_DETAIL.name, tmpCriteria);
				
				semmmm001Bean.setVendorInfoSem(new Mmm001VendorSP()); // clear object
				
				if(vendorSemResultList != null && !vendorSemResultList.isEmpty()) {
					LOG.debug(">> vendorSemResultList.size() = " + vendorSemResultList.size());
					Mmm001VendorSP obj = (Mmm001VendorSP) vendorSemResultList.get(0);
					
					semmmm001Bean.setVendorInfoSem(obj);
				}
				
				
				// -- address
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setGroupType("SEM");
				addressSemResultList = service.querySPList(EQueryName.SEM_SAP_ADDRESS.name, tmpCriteria);
								
				if(addressSemResultList != null && !addressSemResultList.isEmpty()) {
					LOG.debug(">> addressSemResultList.size() = " + addressSemResultList.size());
					
					semmmm001Bean.setVendorSemAddrObj((Mmm001AddressSP) addressSemResultList.get(0));
//					semmmm001Bean.setRentalAddrObj((Mmm001AddressSP) addressSapResultList.get(1));
//					semmmm001Bean.setElectrictAddrObj((Mmm001AddressSP) addressSapResultList.get(2));
//					semmmm001Bean.setPropertyAddrObj((Mmm001AddressSP) addressSapResultList.get(3));
//					semmmm001Bean.setInsureAddrObj((Mmm001AddressSP) addressSapResultList.get(4));
//					semmmm001Bean.setConstructAddrObj((Mmm001AddressSP) addressSapResultList.get(5));
					semmmm001Bean.setWithholdSemAddrObj((Mmm001AddressSP) addressSemResultList.get(6));
					
					semmmm001Bean.getVendorSemAddrObj().setChkSendToSap(addressSemResultList.get(0).getSapFlag().equals("Y") ? true : false);
//					semmmm001Bean.getRentalAddrObj().setChkSendToSap(addressSapResultList.get(1).getSapFlag().equals("Y") ? true : false);
//					semmmm001Bean.getElectrictAddrObj().setChkSendToSap(addressSapResultList.get(2).getSapFlag().equals("Y") ? true : false);
//					semmmm001Bean.getPropertyAddrObj().setChkSendToSap(addressSapResultList.get(3).getSapFlag().equals("Y") ? true : false);
//					semmmm001Bean.getInsureAddrObj().setChkSendToSap(addressSapResultList.get(4).getSapFlag().equals("Y") ? true : false);
//					semmmm001Bean.getConstructAddrObj().setChkSendToSap(addressSapResultList.get(5).getSapFlag().equals("Y") ? true : false);
					semmmm001Bean.getWithholdSemAddrObj().setChkSendToSap(addressSemResultList.get(6).getSapFlag().equals("Y") ? true : false);
					
					this.doSetOwnerSemLocation();
				}
				
				
				// -- bank info SAP
				semmmm001Bean.setBookbankSapInfo(new Mmm001BookbankSP()); // clear object
				semmmm001Bean.setContractList(new ArrayList());
				
				if(!bookbankId.isEmpty()){
					tmpCriteria = new Mmm001CriteriaSP();
					tmpCriteria.setContractNo(contractNo);
					tmpCriteria.setVendorId(vendorId);
					tmpCriteria.setBookbankId(bookbankId);
					tmpCriteria.setStrParam("SAP");
					tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
					bookbankResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_DETAIL.name, tmpCriteria);
					
					if(bookbankResultList != null && !bookbankResultList.isEmpty() && bookbankResultList.get(0) != null) {
						LOG.debug(">> bookbankResultList.size() = " + bookbankResultList.size());
						Mmm001BookbankSP obj = (Mmm001BookbankSP) bookbankResultList.get(0);
						LOG.debug(">> bookbankResult obj: " +  obj.toString());
						
						semmmm001Bean.setBookbankSapInfo(obj);
					}
					
					bookbankResultList = new ArrayList<Mmm001BookbankSP>();
				}
				
				
				// -- bank info SEM
				semmmm001Bean.setBookbankSemInfo(new Mmm001BookbankSP()); // clear object
				
				if(!bookbankId.isEmpty()){
					tmpCriteria = new Mmm001CriteriaSP();
					tmpCriteria.setContractNo(contractNo);
					tmpCriteria.setVendorId(vendorId);
					tmpCriteria.setBookbankId(bookbankId);
					tmpCriteria.setStrParam("SEM");
					tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
					bookbankResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_DETAIL.name, tmpCriteria);
					
					if(bookbankResultList != null && !bookbankResultList.isEmpty() && bookbankResultList.get(0) != null) {
						LOG.debug(">> bookbankResultList.size() = " + bookbankResultList.size());
						Mmm001BookbankSP obj = (Mmm001BookbankSP) bookbankResultList.get(0);
						LOG.debug(">> bookbankResult obj: " +  obj.toString());
						
						semmmm001Bean.setBookbankSemInfo(obj);
					}
				}
				
				// -- contract list
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setBookbankId(bookbankId);
				tmpCriteria.setPayeeId(payeeId);
				tmpCriteria.setBookbankPayeeId(bookbankPayeeId);
				contractResultList = service.querySPList(EQueryName.SEM_SAP_CONTRACT_LIST.name, tmpCriteria);
				
				semmmm001Bean.setContractList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>()); // clear object
				
				if(contractResultList != null && !contractResultList.isEmpty()) {
					LOG.debug(">> contractResultList.size() = " + contractResultList.size());
					for (int i=0; i<contractResultList.size(); i++) {
						Mmm001ContractSP obj = (Mmm001ContractSP) contractResultList.get(i);
						WrapperBeanObject<Mmm001ContractSP> tmpWrapperBean = new WrapperBeanObject<Mmm001ContractSP>();
						
						tmpWrapperBean.setDataObj(obj);
						tmpWrapperBean.setMessage("");
						tmpWrapperBean.setCheckBox(false);
						semmmm001Bean.getContractList().add(tmpWrapperBean);
					}
				}
				
			
			}
			
			semmmm001Bean.setGroupType("SEM");
			semmmm001Bean.setDisableBtnSaveVendor(false);
			
			// temp param for saveFlag
			semmmm001Bean.getVendorInfo().setSaveFlag("N"); //NEW
			semmmm001Bean.getVendorAddrObj().setChkTelephoneSapFlag(true);
			semmmm001Bean.getVendorAddrObj().setChkMobileNoSapFlag(true);
			semmmm001Bean.setSelectedSapTab("");
			semmmm001Bean.setSelectedSemTab("");
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doNewVendor >> END :::");
		}
		return flag;
	}
	
    public void doSetOwnerSapLocation() {
		LOG.info("::: SEMMMM001Action :: doSetSemLocation >> BEGIN :::");
		
		semmmm001Bean = getSemmmm001Bean();
	
		String vdPrvn = semmmm001Bean.getVendorSapAddrObj().getProvince();
		String vdAmpr = semmmm001Bean.getVendorSapAddrObj().getAmphur();
		
		String whPrvn = semmmm001Bean.getWithholdSapAddrObj().getProvince();
		String whAmpr = semmmm001Bean.getWithholdSapAddrObj().getAmphur();
		
		// --
		Province province = new Province();
		
		province.setProvinceCode(vdPrvn);
		semmmm001Bean.getVendorSapAddrObj().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getVendorSapAddrObj().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getVendorSapAddrObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, vdAmpr));
		
		province.setProvinceCode(whPrvn);
		semmmm001Bean.getWithholdSapAddrObj().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getWithholdSapAddrObj().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getWithholdSapAddrObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, whAmpr));
		
		setSemmmm001Bean(semmmm001Bean);
		LOG.info("::: SEMMMM001Action :: doSetSapLocation >> END :::");
	}
    
    public void doSetOwnerSemLocation() {
		LOG.info("::: SEMMMM001Action :: doSetSemLocation >> BEGIN :::");
		
		semmmm001Bean = getSemmmm001Bean();
	
		String vdPrvn = semmmm001Bean.getVendorSemAddrObj().getProvince();
		String vdAmpr = semmmm001Bean.getVendorSemAddrObj().getAmphur();
		
		String whPrvn = semmmm001Bean.getWithholdSemAddrObj().getProvince();
		String whAmpr = semmmm001Bean.getWithholdSemAddrObj().getAmphur();
		
		// --
		Province province = new Province();
		
		province.setProvinceCode(vdPrvn);
		semmmm001Bean.getVendorSemAddrObj().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getVendorSemAddrObj().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getVendorSemAddrObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, vdAmpr));
		
		province.setProvinceCode(whPrvn);
		semmmm001Bean.getWithholdSemAddrObj().setProvinceList(getProvinceList_SEM());
		semmmm001Bean.getWithholdSemAddrObj().setAmphurList(getAmphurListByProvince_SEM(province) );
		semmmm001Bean.getWithholdSemAddrObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, whAmpr));
		
		setSemmmm001Bean(semmmm001Bean);
		LOG.info("::: SEMMMM001Action :: doSetSemLocation >> END :::");
	}
    
    public boolean doCopySapToSem(){
    	boolean flag = false;
    	String actionParam = getFacesUtils().getRequestParameter("actionParam") == null ? "" : (String)getFacesUtils().getRequestParameter("actionParam");
    	try{
    		if(StringUtils.equals("VD", actionParam)){
    			flag = doCopySapVendor();
    		}else if(StringUtils.equals("VB", actionParam)){
    			flag = doCopySapBookbank();
    		}else if(StringUtils.equals("PY", actionParam)){
    			flag = doCopySapPayee();
    		}else if(StringUtils.equals("PB", actionParam)){
    			flag = doCopySapPayeeBookbank();
    		}
    		
    	}catch (Exception e) {
			LOG.debug("Error SEMMMM001Action doCopySapToSem : "+e);
			LOG.error("Error SEMMMM001Action doCopySapToSem : "+e);
			e.printStackTrace();
    		// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
    	
    	return flag;
    }
    
    public boolean doCopySapVendor(){
    	boolean flag = false;
    	semmmm001Bean = getSemmmm001Bean();
    	Mmm001VendorSP vendorSp = new Mmm001VendorSP();
    	Mmm001AddressSP addressSp = new Mmm001AddressSP();
    	Mmm001AddressSP withhold = new Mmm001AddressSP();
    	
    	try{
    		if(semmmm001Bean.getVendorInfoSap() != null &&
    				semmmm001Bean.getVendorSapAddrObj() != null &&
    				semmmm001Bean.getWithholdSapAddrObj() != null){
    			vendorSp = semmmm001Bean.getVendorInfoSap();
    			addressSp = semmmm001Bean.getVendorSapAddrObj();
    			withhold = semmmm001Bean.getWithholdSapAddrObj();
    			
//    			System.out.println("1semmmm001Bean.setVendorInfoSap getExpenseType: "+semmmm001Bean.getVendorInfoSap().getExpenseType());
//    			System.out.println("1semmmm001Bean.setVendorInfoSem getExpenseType: "+semmmm001Bean.getVendorInfoSem().getExpenseType());
    			semmmm001Bean.setVendorInfoSem(new Mmm001VendorSP(vendorSp));
        		semmmm001Bean.setVendorSemAddrObj(new Mmm001AddressSP(addressSp));
        		semmmm001Bean.setWithholdSemAddrObj(new Mmm001AddressSP(withhold));
        		
//        		semmmm001Bean.setVendorInfoSem(new Mmm001VendorSP());
//        		semmmm001Bean.setVendorSemAddrObj(addressSp);
//        		semmmm001Bean.setWithholdSemAddrObj(withhold);
        		
        		semmmm001Bean.setGroupType("SAP");
        		flag = true;
//        		System.out.println("2semmmm001Bean.setVendorInfoSap getExpenseType: "+semmmm001Bean.getVendorInfoSap().getExpenseType());
//    			System.out.println("2semmmm001Bean.setVendorInfoSem getExpenseType: "+semmmm001Bean.getVendorInfoSem().getExpenseType());
    		}
    		
    	}catch (Exception e) {
			LOG.debug("Error SEMMMM001Action doCopySapToSem : "+e);
			LOG.error("Error SEMMMM001Action doCopySapToSem : "+e);
			e.printStackTrace();
    		// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
		return flag;
    }
    
    public boolean doCopySapBookbank(){
    	boolean flag = false;
    	semmmm001Bean = getSemmmm001Bean();
    	Mmm001BookbankSP bookbank = new Mmm001BookbankSP();
    	
    	try{
    		if(semmmm001Bean.getBookbankSapInfo() != null){
    			bookbank = semmmm001Bean.getBookbankSapInfo();
    			
    			
//    			System.out.println("1semmmm001Bean.getBookbankSapInfo().getAccountType(): "+semmmm001Bean.getBookbankSapInfo().getAccountType());
//    			System.out.println("1semmmm001Bean.getBookbankSemInfo().getAccountType(): "+semmmm001Bean.getBookbankSemInfo().getAccountType());
    			semmmm001Bean.setBookbankSemInfo(new Mmm001BookbankSP(bookbank));
        		
        		
//        		semmmm001Bean.setVendorInfoSem(new Mmm001VendorSP());
//        		semmmm001Bean.setVendorSemAddrObj(addressSp);
//        		semmmm001Bean.setWithholdSemAddrObj(withhold);
        		
        		semmmm001Bean.setGroupType("SAP");
        		flag = true;
//        		System.out.println("2semmmm001Bean.getBookbankSapInfo().getAccountType(): "+semmmm001Bean.getBookbankSapInfo().getAccountType());
//    			System.out.println("2semmmm001Bean.getBookbankSemInfo().getAccountType(): "+semmmm001Bean.getBookbankSemInfo().getAccountType());
    		}
    		
    	}catch (Exception e) {
			LOG.debug("Error SEMMMM001Action doCopySapToSem : "+e);
			LOG.error("Error SEMMMM001Action doCopySapToSem : "+e);
			e.printStackTrace();
    		// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
		return flag;
    }
    
    public boolean doCopySapPayee(){
    	boolean flag = false;
    	try{
    		
    	}catch (Exception e) {
    		e.printStackTrace();
    		LOG.debug("Error SEMMMM001Action doCopySapPayee : "+e);
    		LOG.error("Error SEMMMM001Action doCopySapPayee : "+e);
			// TODO: handle exception
		}
    	return flag;
    }
    
    public boolean doCopySapPayeeBookbank(){
    	boolean flag = false;
    	try{
    		
    	}catch (Exception e) {
    		e.printStackTrace();
    		LOG.debug("Error SEMMMM001Action doCopySapPayeeBookbank : "+e);
    		LOG.error("Error SEMMMM001Action doCopySapPayeeBookbank : "+e);
			// TODO: handle exception
		}
    	return flag;
    }
    
    public void doReloadAllVendorContent(String contractNo, String vendorId, String vendorMapPayeeId) {
		LOG.info("::: SEMMMM001Action :: doReloadAllVendorContent >> BEGIN :::");
		
		try{
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			// -- contract info + vendor of contract list
			this.doGetContractInfoByContractParam(contractNo);
			
			// -- vendor detail
			this.doGetVendorInfoByVendorParam(contractNo, vendorId, vendorMapPayeeId);
			
			// -- vendor address
			this.doGetVendorAddressByVendorParam(contractNo, vendorId);
			
			// -- bookbank of vendor list
			this.doGetVendorBookbankByVendorParam(contractNo, vendorId);
			
			// -- payee of vendor list
			this.doGetVendorPayeeByVendorParam(contractNo, vendorId);
			
			// -- contract of vendor list
			this.doGetContractOfVendorByVendorParam(contractNo, vendorId);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			LOG.info("::: SEMMMM001Action :: doReloadAllVendorContent >> END :::");
		}
	}
    
    private boolean doInitChangeSapBookbank() {
		LOG.info("::: SEMMMM001Action :: doInitChangeSapBookbank >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			Mmm001CriteriaSP tmpCriteria = null;
			List<Mmm001ContractSP> contractResultList = new ArrayList<Mmm001ContractSP>();		
			List<Mmm001VendorSP> vendorResultList = new ArrayList<Mmm001VendorSP>();
			List<Mmm001BookbankSP> bookbankResultList = new ArrayList<Mmm001BookbankSP>();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String BookbankId = getFacesUtils().getRequestParameter("BookbankId") == null ? "" : (String) getFacesUtils().getRequestParameter("BookbankId");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> BookbankId: " + BookbankId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);

			if(contractNo.isEmpty()){
				semmmm001Bean.setVisiblePnlContractInfo(false);
			} else {
				semmmm001Bean.setVisiblePnlContractInfo(true);
			}
			
			
				// -- bank info SAP
				semmmm001Bean.setBookbankSapInfo(new Mmm001BookbankSP()); // clear object
				semmmm001Bean.setContractList(new ArrayList());
				
				if(!BookbankId.isEmpty()){
					tmpCriteria = new Mmm001CriteriaSP();
					tmpCriteria.setContractNo(contractNo);
					tmpCriteria.setVendorId(vendorId);
					tmpCriteria.setBookbankId(BookbankId);
					tmpCriteria.setBookbankId(BookbankId);
					tmpCriteria.setStrParam("SAP");
					tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
					bookbankResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_DETAIL.name, tmpCriteria);
					
					if(bookbankResultList != null && bookbankResultList.size() != 0) {
						LOG.debug(">> bookbankResultList.size() = " + bookbankResultList.size());
						Mmm001BookbankSP obj = (Mmm001BookbankSP) bookbankResultList.get(0);
						LOG.debug(">> bookbankResult obj: " +  obj.toString());
						
						semmmm001Bean.setBookbankSapInfo(obj);
					}
				}
				
				
				// -- bank info SEM
				semmmm001Bean.setBookbankSemInfo(new Mmm001BookbankSP()); // clear object
				
				if(!BookbankId.isEmpty()){
					tmpCriteria = new Mmm001CriteriaSP();
					tmpCriteria.setContractNo(contractNo);
					tmpCriteria.setVendorId(vendorId);
					tmpCriteria.setBookbankId(BookbankId);
					tmpCriteria.setStrParam("SEM");
					tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
					bookbankResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_DETAIL.name, tmpCriteria);
					
					if(bookbankResultList != null && bookbankResultList.size() != 0) {
						LOG.debug(">> bookbankResultList.size() = " + bookbankResultList.size());
						Mmm001BookbankSP obj = (Mmm001BookbankSP) bookbankResultList.get(0);
						LOG.debug(">> bookbankResult obj: " +  obj.toString());
						
						semmmm001Bean.setBookbankSemInfo(obj);
					}
				}
				
			
			
			// -- contract list
			tmpCriteria = new Mmm001CriteriaSP();
			tmpCriteria.setContractNo(contractNo);
//			tmpCriteria.setVendorId(vendorId);
			tmpCriteria.setBookbankId(BookbankId);
			contractResultList = service.querySPList(EQueryName.SEM_SAP_CONTRACT_LIST.name, tmpCriteria);
			
			semmmm001Bean.setContractList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>()); // clear object
			
			if(contractResultList != null && contractResultList.size() != 0) {
				LOG.debug(">> contractResultList.size() = " + contractResultList.size());
				for (int i=0; i<contractResultList.size(); i++) {
					Mmm001ContractSP obj = (Mmm001ContractSP) contractResultList.get(i);
					WrapperBeanObject<Mmm001ContractSP> tmpWrapperBean = new WrapperBeanObject<Mmm001ContractSP>();
					
					tmpWrapperBean.setDataObj(obj);
					tmpWrapperBean.setMessage("");
					tmpWrapperBean.setCheckBox(false);
					semmmm001Bean.getContractList().add(tmpWrapperBean);
				}
			}
		
			
			semmmm001Bean.setDisableContent(true); 
			semmmm001Bean.setDisableEditBookbankContent(true); 
			
			semmmm001Bean.setDisableBtnSaveBookbank(true);
			semmmm001Bean.setDisableBtnEditBookbank(false);
			
			semmmm001Bean.setRenderedPnlCmpBookbankInfo(false);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doInitChangeSapBookbank >> END :::");
		}
		return flag;
	}
    
    private boolean doSaveChangeBookbankInfo() {
		LOG.info("::: SEMMMM001Action :: doSaveChangeBookbankInfo >> BEGIN :::");
		boolean flag = true;

		IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
		List<ItemResultSP> result = null;
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			String groupType = semmmm001Bean.getGroupType();
			LOG.debug(">>> groupType: " + groupType);
			LOG.debug(">>> BookbankSapInfo: " + semmmm001Bean.getBookbankSapInfo().toString());
			
			if(!StringUtils.equals("", groupType)){
				
				semmmm001Bean.getBookbankSemInfo().setSaveFlag(groupType);
//				semmmm001Bean.getBookbankSemInfo().setContractNo(semmmm001Bean.getContractInfo().getContractNo());
//				semmmm001Bean.getBookbankSemInfo().setVendorId(semmmm001Bean.getVendorInfo().getVendorId());
				
				LOG.debug(">>> bookbankInfoCmpObj: " + semmmm001Bean.getBookbankSapInfo().toString());
				result = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_SAVE_DRAFT.name, semmmm001Bean.getBookbankSemInfo());
				
				// - result dialog -
				resultDialog(result);
			} else { // SEM
				addMessageError("EL0000", "SEMMMM001Action");
				flag = false;

			}
			
			
			
//			semmmm001Bean.setContractList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
//			semmmm001Bean.setRenderedPnlCmpBookbankInfo(false);
		
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
			
			resultDialogException(SEMDataUtility.buildMessage(getMessageByCode("EL0000"), "SEMMMM001Action"));
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSaveChangeBookbankInfo >> END :::");
		}
		return flag;
	}
    
    // -> popup convert vendor
	public void initConvertVendor(){
		LOG.info("::: SEMMMM001Action :: initConvertVendor >> BEGIN :::");

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			semmmm001Bean.setVendorInfo(new Mmm001VendorSP());
			semmmm001Bean.setConvertVendorResultList(new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>());
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: initConvertVendor >> END :::");
		}
	}
	
	public void doSearchPopupConvertVendor(){
		LOG.info("::: SEMMMM001Action :: doSearchPopupConvertVendor >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			List<Mmm001VendorMasterSP> resultList = null;
			
			semmmm001Bean.setConvertVendorResultList(new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>());
			
			resultList = service.querySPList(EQueryName.SEM_SAP_GET_MAP_VENDOR.name, semmmm001Bean.getVendorInfo());
			if(resultList != null && resultList.size() != 0){
				 for(int i=0; i<resultList.size(); i++){
					Mmm001VendorMasterSP obj = (Mmm001VendorMasterSP) resultList.get(i);
					WrapperBeanObject<Mmm001VendorMasterSP> tmpWrapperBean = new WrapperBeanObject<Mmm001VendorMasterSP>();
					
					tmpWrapperBean.setDataObj(obj);
					tmpWrapperBean.setMessage("");
					tmpWrapperBean.setCheckBox(false);
					semmmm001Bean.getConvertVendorResultList().add(tmpWrapperBean);
					
					semmmm001Bean.setRenderedMsgDataNotFound(false);
				 }
			 } else {
				 semmmm001Bean.setRenderedMsgDataNotFound(true);
			 }
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSearchPopupConvertVendor >> END :::");
		}
	}
	
	public void doSelectConvertVendor(){
		LOG.info("::: SEMMMM001Action :: doSelectConvertVendor >> BEGIN :::");

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			String vendorCode = getFacesUtils().getRequestParameter("vendorCodeParam") == null ? "" : (String) getFacesUtils().getRequestParameter("vendorCodeParam");
			LOG.debug(">> vendorCode: " + vendorCode);
			//String vendorName = getFacesUtils().getRequestParameter("vendorNameParam") == null ? "" : (String) getFacesUtils().getRequestParameter("vendorNameParam");
			//LOG.debug(">> vendorName: " + vendorName);
			
			semmmm001Bean.getVendorMasterCriteria().setVendorCode(vendorCode);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSelectConvertVendor >> END :::");
		}
	}
	
	// -> popup contract
	public void initPopupSearchContract(){
		LOG.info("::: SEMMMM001Action :: initPopupSearchContract >> BEGIN :::");

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			semmmm001Bean.setPopupSearchContractCriteria(new Mmm001CriteriaSP());
			semmmm001Bean.setPopupSearchContractResultList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
			
			// -- panel without contract
			semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
			semmmm001Bean.setVisiblePnlAddContractInfo(false);
			
			
			// -- 2017/06/28
			String cntrctFlagParam = getFacesUtils().getRequestParameter("cntrctFlagParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("cntrctFlagParam");
			LOG.debug(">> cntrctFlagParam: " + cntrctFlagParam);

			if(cntrctFlagParam.equals("CHANGE_CONTRACT") || cntrctFlagParam.equals("ASSIGN_CONTRACT")){
				semmmm001Bean.setRenderedPnlForWithoutContract(false);
				
				if(cntrctFlagParam.equals("ASSIGN_CONTRACT")){
					// TODO
				}
			} else {
				semmmm001Bean.setRenderedPnlForWithoutContract(true);
			}

		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: initPopupSearchContract >> END :::");
		}
	}
	
	public void doSearchPopupContract(){
		LOG.info("::: SEMMMM001Action :: doSearchPopupContract >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001ContractSP> resultList = null;
			
			semmmm001Bean.setPopupSearchContractResultList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
			
			// --
			String regionConcatParam = "";
			String arrRegion[] = semmmm001Bean.getPopupSearchContractCriteria().getArrRegion().length == 0 ? null : 
								 semmmm001Bean.getPopupSearchContractCriteria().getArrRegion();
			if(arrRegion != null){
				for(Object s : arrRegion){
					regionConcatParam += s.toString().concat("|");
				}
				regionConcatParam = regionConcatParam.substring(0, regionConcatParam.lastIndexOf("|"));
				semmmm001Bean.getPopupSearchContractCriteria().setRegion(regionConcatParam);
			}
			
			semmmm001Bean.getPopupSearchContractCriteria().setSaveFlag(semmmm001Bean.getVendorInfo().getSaveFlag());
			
			resultList = service.querySPList(EQueryName.SEM_SAP_POPUP_CONTRACT_SEARCH.name, semmmm001Bean.getPopupSearchContractCriteria());
			
			if(resultList != null && resultList.size() != 0){
				for(int i=0; i<resultList.size(); i++){
					Mmm001ContractSP obj = (Mmm001ContractSP) resultList.get(i);
					WrapperBeanObject<Mmm001ContractSP> tmpWrapperBean = new WrapperBeanObject<Mmm001ContractSP>();
					
					tmpWrapperBean.setDataObj(obj);
					tmpWrapperBean.setMessage("");
					tmpWrapperBean.setCheckBox(false);
					semmmm001Bean.getPopupSearchContractResultList().add(tmpWrapperBean);
					
					semmmm001Bean.setRenderedMsgDataNotFound(false);
				 }
			 } else {
				 semmmm001Bean.setRenderedMsgDataNotFound(true);
			 }
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSearchPopupContract >> END :::");
		}
	}
	
	// -> popup contract (reference from sitecontract-popup.jsp)
	public void initPopupSiteContract(){
		LOG.info("::: SEMMMM001Action :: initPopupSiteContract >> BEGIN :::");
		String vendorContractFlag = getFacesUtils().getRequestParameter("vendorContractFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("vendorContractFlag");
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			semmmm001Bean.setPopupSearchContractCriteria(new Mmm001CriteriaSP());
			semmmm001Bean.setPopupSearchContractResultList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
			if(StringUtils.equals("Y", vendorContractFlag)){
				semmmm001Bean.setRenderedBtnSelectVendorCont(true);
				semmmm001Bean.setVendorContFlag("Y");
			}else{
				semmmm001Bean.setRenderedBtnSelectVendorCont(false);
				semmmm001Bean.setVendorContFlag("N");
			}

		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: initPopupSiteContract >> END :::");
		}
	}
	
	public void doSearchPopupSiteContract(){
		LOG.info("::: SEMMMM001Action :: doSearchPopupSiteContract >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			ISiteContractService siteContractService = (ISiteContractService)getBean("siteContractService");
			
			List<PopupContractSearchSP> to = null;
			
			
			LOG.debug("contractNo : "+semmmm001Bean.getPopupSearchContractCriteria().getContractNo());
			LOG.debug("siteName : "+semmmm001Bean.getPopupSearchContractCriteria().getSiteName());
			LOG.debug("company : "+semmmm001Bean.getPopupSearchContractCriteria().getCompany());
			LOG.debug("currentFlag : "+semmmm001Bean.getPopupSearchContractCriteria().getCurrentFlag());
			
			if(StringUtils.isEmpty(semmmm001Bean.getPopupSearchContractCriteria().getCompany()) 
					|| StringUtils.equals("", semmmm001Bean.getPopupSearchContractCriteria().getCompany())){
				addMessageError("W0001", getMessage("column.header.company"));
				return;
			}else{
				to = siteContractService.querySPList(EQueryName.Q_SEARCH_POPUP_SITE_CONTRACT.name, semmmm001Bean.getPopupSearchContractCriteria());
				
				semmmm001Bean.setPopupSearchContractResultList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
				
				if (null == to || to.size() == 0) {
					// set error message after search not found
					addMessageErrorWithArgument("W0032", semmmm001Bean.getPopupSearchContractCriteria().getContractNo());
				}
				
				if(to != null && to.size() > 0){
					
					for(PopupContractSearchSP objResult : to){
						
						Mmm001ContractSP objReturn = new Mmm001ContractSP();
						objReturn.setContractNo(objResult.getContractNo() == null ? "" : (String)objResult.getContractNo());
						objReturn.setSiteName(objResult.getSiteName() == null ? "" : (String)objResult.getSiteName());
						
						if(objResult.getEffDate() != null){
							objReturn.setEffectiveDtStr(SEMDataUtility.convertToThYearStr(objResult.getEffDate()));
						}
						
						if(objResult.getExpDate() != null){
							objReturn.setExpireDtStr(SEMDataUtility.convertToThYearStr(objResult.getExpDate()));
						}
						
						if(objResult.getVendorEffectiveDt() != null){
							objReturn.setVendorEffectiveDtStr(SEMDataUtility.convertToThYearStr(objResult.getVendorEffectiveDt()));
						}
						
						// -- 2018/08/10
						objReturn.setCompany(objResult.getCompany() == null ? "" : (String) objResult.getCompany());
						
						objReturn.setContractType(objResult.getContractType() == null ? "" : (String) objResult.getContractType());
						objReturn.setContractStatus(objResult.getContractStatus() == null ? "" : (String) objResult.getContractStatus());
						objReturn.setNetworkStatus(objResult.getNetworkStatus() == null ? "" : (String) objResult.getNetworkStatus());
						objReturn.setLocationId(objResult.getLocationId() == null ? "" : (String) objResult.getLocationId());
						objReturn.setLocationCode(objResult.getLocationCode() == null ? "" : (String) objResult.getLocationCode());
						objReturn.setLocationName(objResult.getLocationName() == null ? "" : (String) objResult.getLocationName());
						objReturn.setContractName(objResult.getContractName() == null ? "" : (String) objResult.getContractName());
						objReturn.setContractNoOld(objResult.getContractNoOld() == null ? "" : (String) objResult.getContractNoOld());
						
						WrapperBeanObject<Mmm001ContractSP> tmpWrapperBean = new WrapperBeanObject<Mmm001ContractSP>();
						tmpWrapperBean.setDataObj(objReturn);
						tmpWrapperBean.setMessage("");
						tmpWrapperBean.setCheckBox(false);
						semmmm001Bean.getPopupSearchContractResultList().add(tmpWrapperBean);
					}
					semmmm001Bean.setRenderedMsgDataNotFound(false);
				} else {
					semmmm001Bean.setRenderedMsgDataNotFound(true);
				}
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSearchPopupSiteContract >> END :::");
		}
	}
	
	public boolean doManageSelectSiteContractPopup(){
		LOG.info("::: SEMMMM001Action :: doManageSelectSiteContractPopup >> BEGIN :::");
		boolean flag = true;
		String vendorContFlag = getFacesUtils().getRequestParameter("vendorContFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("vendorContFlag");
		try {
			
			
			
			if(StringUtils.equals("Y", vendorContFlag)){
				flag = doSelectVendorContractPopup();
			}else{
				flag = doSelectSiteContractPopup();
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			LOG.info("::: SEMMMM001Action :: doManageSelectSiteContractPopup >> END :::");
		}
		return flag;
	}
	
	public boolean doSelectSiteContractPopup(){
		LOG.info("::: SEMMMM001Action :: doSelectSiteContractPopup >> BEGIN :::");
		boolean flag = true;
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String effectiveDtStrParam = getFacesUtils().getRequestParameter("effectiveDtStrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("effectiveDtStrParam");
			String expireDtStrParam = getFacesUtils().getRequestParameter("expireDtStrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("expireDtStrParam");
			
			// -- 2017/08/10
			String companyParam = getFacesUtils().getRequestParameter("companyParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("companyParam");
			
			String vendorEffectiveDt = getFacesUtils().getRequestParameter("vendorEffectiveDt") == null ? "" : (String)getFacesUtils().getRequestParameter("vendorEffectiveDt");
			
			String contractNameParam = getFacesUtils().getRequestParameter("contractNameParam") == null ? "" : (String)getFacesUtils().getRequestParameter("contractNameParam");
			// --
			semmmm001Bean.getExpCntrctOfVndObj().setContractNo(contractNo);
//			semmmm001Bean.getVendorInfo().setCompany(companyParam);
			
			if(!effectiveDtStrParam.isEmpty())
				semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDt(SEMDataUtility.convertStringToDateByFormat(effectiveDtStrParam, DateUtil.SIMPLE_DATE_PATTERN));
			else
				semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDt(null);
			
			if(!expireDtStrParam.isEmpty())
				semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDt(SEMDataUtility.convertStringToDateByFormat(expireDtStrParam, DateUtil.SIMPLE_DATE_PATTERN));
			else
				semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDt(null);
			
			if(!vendorEffectiveDt.isEmpty())
				semmmm001Bean.getExpCntrctOfVndObj().setExpenseEffectiveDt(SEMDataUtility.convertStringToDateByFormat(vendorEffectiveDt, DateUtil.SIMPLE_DATE_PATTERN));
			else
				semmmm001Bean.getExpCntrctOfVndObj().setExpenseEffectiveDt(null);
			
			LOG.debug("semmmm001Bean.getVendorInfo().getSaveFlag() : "+semmmm001Bean.getVendorInfo().getSaveFlag());
			if(contractNameParam != null && !StringUtils.equals("", contractNameParam) 
					&& StringUtils.equals("N", semmmm001Bean.getVendorInfo().getSaveFlag()))
				semmmm001Bean.getVendorAddrObj().setContactName(contractNameParam);
			
			semmmm001Bean.getExpCntrctOfVndObj().setPayType("01");
			semmmm001Bean.setOtherExpenseFlag(false);
			
			// temp param for saveFlag
//			semmmm001Bean.getVendorInfo().setSaveFlag("V"); //VIEW
//			semmmm001Bean.setDisableBtnSaveVendor(false);
//			this.doValidateBtnPage();
			semmmm001Bean.setDisableBtnSaveVendor(false);
			
			//set default company mode NEW only 2018/02/09
			LOG.debug("semmmm001Bean.getVendorInfo().getSaveFlag() : "+semmmm001Bean.getVendorInfo().getSaveFlag());
			if(semmmm001Bean.getExpCntrctOfVndObj().getContractNo() != null && !StringUtils.equals("", semmmm001Bean.getExpCntrctOfVndObj().getContractNo())
					&& StringUtils.equals("N", semmmm001Bean.getVendorInfo().getSaveFlag())){
//				semmmm001Bean.getVendorAddrObj().setContactName(objResult.getContractName());
				
				//2018/02/09 
//				semmmm001Bean.getVendorInfo().setCompany(companyParam);
//				semmmm001Bean.getVendorInfoCmpObj().setCompany(companyParam);
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSelectSiteContractPopup >> END :::");
		}
		return flag;
	}
	// <<-
	
	public boolean doSelectVendorContractPopup(){
		LOG.info("::: SEMMMM001Action :: doSelectVendorContractPopup >> BEGIN :::");
		boolean flag = true;
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			String vendorId = getFacesUtils().getRequestParameter("vendorId") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorId");
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String effectiveDtStrParam = getFacesUtils().getRequestParameter("effectiveDtStrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("effectiveDtStrParam");
			String expireDtStrParam = getFacesUtils().getRequestParameter("expireDtStrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("expireDtStrParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			// -- 2017/08/10
			String companyParam = getFacesUtils().getRequestParameter("companyParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("companyParam");
			
			// --
			this.doReloadAllVendorContent(contractNo, vendorId, vendorMapPayeeId);
			
			//if((mode.equalsIgnoreCase("view") || mode.equalsIgnoreCase("edit")) && headType.equalsIgnoreCase("vendor")){
//			semmmm001Bean.setVisiblePnlContractInfo(false);
//			semmmm001Bean.setVisiblePnlVendorInfo(true);
//			semmmm001Bean.setVisiblePnlBankListInfo(false);
//			semmmm001Bean.setVisiblePnlBookbankPayeeListInfo(false);
			//semmmm001Bean.setVisiblePnlContractListInfo(true);  //2017/07/25 .. unused
//			
			semmmm001Bean.setDisableContent(false); 
			semmmm001Bean.setDisableEditVendorContent(false); 
			semmmm001Bean.setDisableBtnSaveVendor(false);
//			semmmm001Bean.setRenderedPnlCmpVendorInfo(false);
//			semmmm001Bean.setVisiblePnlAddContractInfo(true);
			semmmm001Bean.setRenderedBtnNewVendor(false);
//			
			semmmm001Bean.setDisableBtnEditVendor(true);
			//}
		
			// clear all object (vendor info)
//			semmmm001Bean.setContractInfo(new Mmm001ContractSP());
//			semmmm001Bean.setVendorContractList(new ArrayList<WrapperBeanObject<Mmm001VendorContractSP>>());
			semmmm001Bean.setVendorInfo(new Mmm001VendorSP());
			semmmm001Bean.setBookbankList(new ArrayList<WrapperBeanObject<Mmm001BookbankSP>>());
			semmmm001Bean.setPayeeList(new ArrayList<WrapperBeanObject<Mmm001PayeeSP>>());
			semmmm001Bean.setContractList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
			semmmm001Bean.setVendorInfoMissMatchWithSAPObj(new Mmm001VendorSP());
			semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
			
			// clear object vendor address
			semmmm001Bean.setVendorAddrObj(new Mmm001AddressSP()); 		
			semmmm001Bean.setRentalAddrObj(new Mmm001AddressSP()); 		
			semmmm001Bean.setElectrictAddrObj(new Mmm001AddressSP()); 	
			semmmm001Bean.setPropertyAddrObj(new Mmm001AddressSP()); 	
			semmmm001Bean.setInsureAddrObj(new Mmm001AddressSP()); 		
			semmmm001Bean.setConstructAddrObj(new Mmm001AddressSP()); 	
			semmmm001Bean.setWithholdAddrObj(new Mmm001AddressSP()); 
			this.doSetOwnerLocation();
			
			// clear object expense
			semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSelectVendorContractPopup >> END :::");
		}
		return flag;
	}
	// <<-
	
	public void doFillinExpenseInfo(){
		LOG.info("::: SEMMMM001Action :: doFillinExpenseInfo >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			ISiteContractService siteContractService = (ISiteContractService)getBean("siteContractService");
			List<PopupContractSearchSP> to = null;
			
			// --
			semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDt(null);
			semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDtStr("");
			semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDt(null);
			semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDtStr("");
			semmmm001Bean.getVendorInfo().setCompany("");
			// --
			LOG.debug("contractNo : "+semmmm001Bean.getExpCntrctOfVndObj().getContractNo());
			LOG.debug("siteName : "+semmmm001Bean.getExpCntrctOfVndObj().getSiteName());
			LOG.debug("company : "+semmmm001Bean.getExpCntrctOfVndObj().getCompany());
			LOG.debug("currentFlag : "+semmmm001Bean.getExpCntrctOfVndObj().getCurrentFlag());
			if(semmmm001Bean.getExpCntrctOfVndObj().getContractNo() != null && 
			  !semmmm001Bean.getExpCntrctOfVndObj().getContractNo().isEmpty()){
				// -- 
				to = siteContractService.querySPList(EQueryName.Q_SEARCH_POPUP_SITE_CONTRACT.name, semmmm001Bean.getExpCntrctOfVndObj());
				
				if(to != null && to.size() > 0){
					PopupContractSearchSP objResult = (PopupContractSearchSP)to.get(0);
					
					if(objResult.getEffDate() != null){
						semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDt(SEMDataUtility.convertToThYear(objResult.getEffDate()));
					}
					
					if(objResult.getExpDate() != null){
						semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDt(SEMDataUtility.convertToThYear(objResult.getExpDate()));
					}
					
					if(objResult.getVendorEffectiveDt() != null){
						semmmm001Bean.getExpCntrctOfVndObj().setVendorEffectiveDtStr(DateUtil.convertDateTime2StringWithLocale(objResult.getVendorEffectiveDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale));
					}
					
					if(semmmm001Bean.getExpCntrctOfVndObj().getExpenseEffectiveDt() == null){
						semmmm001Bean.getExpCntrctOfVndObj().setExpenseEffectiveDt(new Date());
					}
					
					if(semmmm001Bean.getExpCntrctOfVndObj().getPayType() == null || StringUtils.equals("", semmmm001Bean.getExpCntrctOfVndObj().getPayType()) ){
						semmmm001Bean.getExpCntrctOfVndObj().setPayType("01");
					}
					
					// -- 2017/08/10
					semmmm001Bean.getVendorInfo().setCompany(objResult.getCompany());
					semmmm001Bean.getVendorInfoCmpObj().setCompany(objResult.getCompany());
				}
				
				// temp param for saveFlag
//				semmmm001Bean.getVendorInfo().setSaveFlag("V"); //VIEW
				semmmm001Bean.setDisableBtnSaveVendor(false);
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doFillinExpenseInfo >> END :::");
		}
	}
	
	public void doFillinBookbankInfo(){
		LOG.info("::: SEMMMM001Action :: doFillinBookbankInfo >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001BookbankSP> resultLst = null;
			Mmm001BookbankSP criteriaParam = null;
			
			if(semmmm001Bean.getBookbankInfo().getBankCode() != null && 
			   !semmmm001Bean.getBookbankInfo().getBankCode().isEmpty()){
				// -- 
				criteriaParam = new Mmm001BookbankSP(); 
				criteriaParam.setBankCode(semmmm001Bean.getBookbankInfo().getBankCode());
				
				resultLst = service.querySPList(EQueryName.SEM_SAP_SEARCH_BANK_MASTER.name, criteriaParam);
				
				if(resultLst != null && resultLst.size() != 0){
					Mmm001BookbankSP objResult = resultLst.get(0); 
					semmmm001Bean.getBookbankInfo().setBankId(objResult.getBankCode() != null && objResult.getBankCode().length() >= 3 ? 
															  objResult.getBankCode().substring(0, 3) : objResult.getBankCode());
					semmmm001Bean.getBookbankInfo().setBankName(objResult.getBankName());
					semmmm001Bean.getBookbankInfo().setBankBranch(objResult.getBankBranch());
					semmmm001Bean.getBookbankInfo().setProvince(objResult.getProvince());
				} else {
					addGeneralMessageInfo("Bank Code: " +semmmm001Bean.getBookbankInfo().getBankCode()+ " not found.");
					
					semmmm001Bean.getBookbankInfo().setBankId("");
					semmmm001Bean.getBookbankInfo().setBankName("");
					semmmm001Bean.getBookbankInfo().setBankBranch("");
					semmmm001Bean.getBookbankInfo().setProvince("");
				}
				setSemmmm001Bean(semmmm001Bean);
			} else {
				semmmm001Bean.getBookbankInfo().setBankId("");
				semmmm001Bean.getBookbankInfo().setBankName("");
				semmmm001Bean.getBookbankInfo().setBankBranch("");
				semmmm001Bean.getBookbankInfo().setProvince("");
				setSemmmm001Bean(semmmm001Bean);
				
			}
			this.doCheckBBGSB();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doFillinBookbankInfo >> END :::");
		}
	}
	
	public void doFillinBookbankInfoCmp(){
		LOG.info("::: SEMMMM001Action :: doFillinBookbankInfoCmp >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001BookbankSP> resultLst = null;
			Mmm001BookbankSP criteriaParam = null;
			
			if(semmmm001Bean.getBookbankInfoCmpObj().getBankCode() != null && 
			   !semmmm001Bean.getBookbankInfoCmpObj().getBankCode().isEmpty()){
				// -- 
				criteriaParam = new Mmm001BookbankSP(); 
				criteriaParam.setBankCode(semmmm001Bean.getBookbankInfoCmpObj().getBankCode());
				
				resultLst = service.querySPList(EQueryName.SEM_SAP_SEARCH_BANK_MASTER.name, criteriaParam);
				
				if(resultLst != null && resultLst.size() != 0){
					Mmm001BookbankSP objResult = resultLst.get(0); 
					semmmm001Bean.getBookbankInfoCmpObj().setBankId(objResult.getBankCode() != null && objResult.getBankCode().length() >= 3 ? 
															  		objResult.getBankCode().substring(0, 3) : objResult.getBankCode());
					semmmm001Bean.getBookbankInfoCmpObj().setBankName(objResult.getBankName());
					semmmm001Bean.getBookbankInfoCmpObj().setBankBranch(objResult.getBankBranch());
					semmmm001Bean.getBookbankInfoCmpObj().setProvince(objResult.getProvince());
				} else {
					addGeneralMessageInfo("Bank Code: " + semmmm001Bean.getBookbankInfoCmpObj().getBankCode()+ " not found.");
					
					semmmm001Bean.getBookbankInfoCmpObj().setBankId("");
					semmmm001Bean.getBookbankInfoCmpObj().setBankName("");
					semmmm001Bean.getBookbankInfoCmpObj().setBankBranch("");
					semmmm001Bean.getBookbankInfoCmpObj().setProvince("");
				}
			} else {
				semmmm001Bean.getBookbankInfoCmpObj().setBankId("");
				semmmm001Bean.getBookbankInfoCmpObj().setBankName("");
				semmmm001Bean.getBookbankInfoCmpObj().setBankBranch("");
				semmmm001Bean.getBookbankInfoCmpObj().setProvince("");
			}
			this.doCheckBBGSBCmp();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doFillinBookbankInfoCmp >> END :::");
		}
	}
	
	public void doFillinBookbankPayeeInfo(){
		LOG.info("::: SEMMMM001Action :: doFillinBookbankPayeeInfo >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001BookbankSP> resultLst = null;
			Mmm001BookbankSP criteriaParam = null;
			
			if(semmmm001Bean.getBookbankPayeeInfo().getBankCode() != null && 
			   !semmmm001Bean.getBookbankPayeeInfo().getBankCode().isEmpty()){
				// -- 
				criteriaParam = new Mmm001BookbankSP(); 
				criteriaParam.setBankCode(semmmm001Bean.getBookbankPayeeInfo().getBankCode());
				
				resultLst = service.querySPList(EQueryName.SEM_SAP_SEARCH_BANK_MASTER.name, criteriaParam);
				
				if(resultLst != null && resultLst.size() != 0){
					Mmm001BookbankSP objResult = resultLst.get(0); 
					semmmm001Bean.getBookbankPayeeInfo().setBankId(objResult.getBankCode() != null && objResult.getBankCode().length() >= 3 ? 
															  	   objResult.getBankCode().substring(0, 3) : objResult.getBankCode());
					semmmm001Bean.getBookbankPayeeInfo().setBankName(objResult.getBankName());
					semmmm001Bean.getBookbankPayeeInfo().setBankBranch(objResult.getBankBranch());
					semmmm001Bean.getBookbankPayeeInfo().setProvince(objResult.getProvince());
				} else {
					addGeneralMessageInfo("Bank Code: " +semmmm001Bean.getBookbankPayeeInfo().getBankCode()+ " not found.");
					
					semmmm001Bean.getBookbankPayeeInfo().setBankId("");
					semmmm001Bean.getBookbankPayeeInfo().setBankName("");
					semmmm001Bean.getBookbankPayeeInfo().setBankBranch("");
					semmmm001Bean.getBookbankPayeeInfo().setProvince("");
				}
			} else {
				semmmm001Bean.getBookbankPayeeInfo().setBankId("");
				semmmm001Bean.getBookbankPayeeInfo().setBankName("");
				semmmm001Bean.getBookbankPayeeInfo().setBankBranch("");
				semmmm001Bean.getBookbankPayeeInfo().setProvince("");
			}
			this.doCheckBBGSBPayee();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doFillinBookbankPayeeInfo >> END :::");
		}
	}
	
	public void doFillinBookbankPayeeInfoCmp(){
		LOG.info("::: SEMMMM001Action :: doFillinBookbankPayeeInfoCmp >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001BookbankSP> resultLst = null;
			Mmm001BookbankSP criteriaParam = null;
			
			if(semmmm001Bean.getBookbankPayeeInfoCmpObj().getBankCode() != null && 
			   !semmmm001Bean.getBookbankPayeeInfoCmpObj().getBankCode().isEmpty()){
				// -- 
				criteriaParam = new Mmm001BookbankSP(); 
				criteriaParam.setBankCode(semmmm001Bean.getBookbankPayeeInfoCmpObj().getBankCode());
				
				resultLst = service.querySPList(EQueryName.SEM_SAP_SEARCH_BANK_MASTER.name, criteriaParam);
				
				if(resultLst != null && resultLst.size() != 0){
					Mmm001BookbankSP objResult = resultLst.get(0); 
					semmmm001Bean.getBookbankPayeeInfoCmpObj().setBankId(objResult.getBankCode() != null && objResult.getBankCode().length() >= 3 ? 
															  	   		 objResult.getBankCode().substring(0, 3) : objResult.getBankCode());
					semmmm001Bean.getBookbankPayeeInfoCmpObj().setBankName(objResult.getBankName());
					semmmm001Bean.getBookbankPayeeInfoCmpObj().setBankBranch(objResult.getBankBranch());
					semmmm001Bean.getBookbankPayeeInfoCmpObj().setProvince(objResult.getProvince());
				} else {
					addGeneralMessageInfo("Bank Code: " +semmmm001Bean.getBookbankPayeeInfoCmpObj().getBankCode()+ " not found.");
					
					semmmm001Bean.getBookbankPayeeInfoCmpObj().setBankId("");
					semmmm001Bean.getBookbankPayeeInfoCmpObj().setBankName("");
					semmmm001Bean.getBookbankPayeeInfoCmpObj().setBankBranch("");
					semmmm001Bean.getBookbankPayeeInfoCmpObj().setProvince("");
				}
			} else {
				semmmm001Bean.getBookbankPayeeInfoCmpObj().setBankId("");
				semmmm001Bean.getBookbankPayeeInfoCmpObj().setBankName("");
				semmmm001Bean.getBookbankPayeeInfoCmpObj().setBankBranch("");
				semmmm001Bean.getBookbankPayeeInfoCmpObj().setProvince("");
			}
			this.doCheckBBGSBPayeeCmp();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doFillinBookbankPayeeInfoCmp >> END :::");
		}
	}
	
	public boolean doSelectContractPopup(){
		LOG.info("::: SEMMMM001Action :: doSelectContractPopup >> BEGIN :::");
		boolean flag = true;
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
								(String) getFacesUtils().getRequestParameter("contractNoParam");
			
			String withoutContractRemark = semmmm001Bean.getExpCntrctOfVndObj().getWithoutContractRemark() == null ? "" :
										   semmmm001Bean.getExpCntrctOfVndObj().getWithoutContractRemark();
			
			boolean toDo = false;
			
			// -- without contract
			if(contractNo.isEmpty() && semmmm001Bean.getExpCntrctOfVndObj().isChkWithoutContract() 
			&& !withoutContractRemark.isEmpty()){
				toDo = true;
			} else if(contractNo.isEmpty() && semmmm001Bean.getExpCntrctOfVndObj().isChkWithoutContract() 
			&& withoutContractRemark.isEmpty()){
				addMessageError("W0001", getMessage("msg.required.remark"));
			}
			

			// -- within contract
			if(!contractNo.isEmpty()){
				withoutContractRemark = "";
				toDo = true;
			}
			
			if(toDo){
				this.doGetContractInfoByContractParam(contractNo);
				
				// 2017/07/11
				semmmm001Bean.setVisiblePnlContractInfo(false);
				semmmm001Bean.setVisiblePnlAddContractInfo(true);
				
				semmmm001Bean.setDisableContent(false); 
				
				semmmm001Bean.setDisableBtnSiteInfo(false);
				semmmm001Bean.setDisableBtnHistory(false);
				
				semmmm001Bean.setDisableBtnEditVendor(true); 
				semmmm001Bean.setDisableBtnNewBookbank(true);
				semmmm001Bean.setDisableBtnNewPayee(true);
				
				semmmm001Bean.getExpCntrctOfVndObj().setWithoutContractRemark(withoutContractRemark);
			} else {
				flag = false;
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSelectContractPopup >> END :::");
		}
		return flag;
	}
	
	public boolean doSelectContractForAssignOrChange(){
		LOG.info("::: SEMMMM001Action :: doSelectContractForAssignOrChange >> BEGIN :::");
		boolean flag = true;
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("vendorIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			this.doReloadAllVendorContent(contractNo, vendorId, vendorMapPayeeId);
			
			semmmm001Bean.setDisableBtnSaveVendor(false);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSelectContractForAssignOrChange >> END :::");
		}
		return flag;
	}
	
	public void doEditContractOfExpense(){
		LOG.info("::: SEMMMM001Action :: doEditContractOfExpense >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String expenseEffectiveDtStrParam = getFacesUtils().getRequestParameter("expenseEffectiveDtStrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("expenseEffectiveDtStrParam");
			String effectiveDtStrParam = getFacesUtils().getRequestParameter("effectiveDtStrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("effectiveDtStrParam");
			String expireDtStrParam = getFacesUtils().getRequestParameter("expireDtStrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("expireDtStrParam");
			String expenseTypeIdParam = getFacesUtils().getRequestParameter("expenseTypeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("expenseTypeIdParam");
			String payTypeIdParam = getFacesUtils().getRequestParameter("payTypeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("payTypeIdParam");
			
			String vendorIdParam = semmmm001Bean.getVendorInfo().getVendorId() == null ? "" : 
				   (String) semmmm001Bean.getVendorInfo().getVendorId();
			String vendorMapPayeeIdParam = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			
			String historyFlag = getFacesUtils().getRequestParameter("historyFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("historyFlag");
			
			// --
			semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
			semmmm001Bean.getExpCntrctOfVndObj().setContractNoOld(contractNo); // --
			semmmm001Bean.getExpCntrctOfVndObj().setContractNo(contractNo);
			semmmm001Bean.getExpCntrctOfVndObj().setExpenseType(expenseTypeIdParam);
			semmmm001Bean.getExpCntrctOfVndObj().setPayType(payTypeIdParam);
			
			semmmm001Bean.getExpCntrctOfVndObj().setVendorId(vendorIdParam);
			semmmm001Bean.getExpCntrctOfVndObj().setVendorMapPayeeId(vendorMapPayeeIdParam);
			
			if(!StringUtils.equals("Y", historyFlag)){
				semmmm001Bean.setVendorInfoBackParam(new Mmm001VendorMasterSP());// --
				semmmm001Bean.getVendorInfoBackParam().setContractNo(contractNo);
				semmmm001Bean.getVendorInfoBackParam().setVendorId(vendorIdParam);
				
				semmmm001Bean.getVendorInfoBackParam().setVendorEffectiveDtStr(expenseEffectiveDtStrParam);
				semmmm001Bean.getVendorInfoBackParam().setEffectiveDtStr(effectiveDtStrParam);
				semmmm001Bean.getVendorInfoBackParam().setExpireDtStr(expireDtStrParam);
				semmmm001Bean.getVendorInfoBackParam().setExpenseTypeId(expenseTypeIdParam);
				semmmm001Bean.getVendorInfoBackParam().setPayTypeId(payTypeIdParam);
				semmmm001Bean.getVendorInfoBackParam().setVendorMapPayeeId(vendorMapPayeeIdParam);
				
			}
			
			if(!expenseEffectiveDtStrParam.isEmpty())
				semmmm001Bean.getExpCntrctOfVndObj().setExpenseEffectiveDt(SEMDataUtility.convertStringToDateByFormat(expenseEffectiveDtStrParam, DateUtil.SIMPLE_DATE_PATTERN));
			
			if(!effectiveDtStrParam.isEmpty())
				semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDt(SEMDataUtility.convertStringToDateByFormat(effectiveDtStrParam, DateUtil.SIMPLE_DATE_PATTERN));
			
			if(!expireDtStrParam.isEmpty())
				semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDt(SEMDataUtility.convertStringToDateByFormat(expireDtStrParam, DateUtil.SIMPLE_DATE_PATTERN));
			
			
			// -- 2017/08/08
			semmmm001Bean.setDisableBtnSaveVendor(false);
			
			this.doVendorGetPayment(vendorMapPayeeIdParam,contractNo);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doEditContractOfExpense >> END :::");
		}
	}
	
	public boolean doInitDeleteVendorContract(){
		semmmm001Bean = getSemmmm001Bean();
		try{
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
			    (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
						  (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String vendorMapPayeeIdParam = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
									   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			String confirmMsg = getFacesUtils().getRequestParameter("confirmMsg") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("confirmMsg");
			
			semmmm001Bean.setContractNoDelete(contractNo);
			semmmm001Bean.setVendorIdDelete(vendorId);
			semmmm001Bean.setVendorMapPayeeIdDelete(vendorMapPayeeIdParam);
			semmmm001Bean.setConfirmMsg(confirmMsg);
			
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Bean doInitDeleteVendorContract : "+e);
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
		return true;
	}
	
	public boolean doDeleteVendorContract(){
		LOG.info("::: SEMMMM001Action :: doDeleteVendorContract >> BEGIN :::");
		boolean flag = true;
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			List<ItemResultSP> result = null;
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
							    (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
							  (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String vendorMapPayeeIdParam = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
										   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
//			System.out.println("contractNo: " + contractNo);
//			System.out.println("vendorId: " + vendorId);
//			System.out.println("vendorMapPayeeIdParam: " + vendorMapPayeeIdParam);

			
			ItemParamsSP params = new ItemParamsSP();
			params.setParam1(vendorMapPayeeIdParam);
			params.setParam2(getUserLogIn());		
			
			result = service.querySPList(EQueryName.SEM_SAP_DELETE_VENDOR_CONTRACT.name, params);
			if(result != null && result.get(0) != null){
				if(StringUtils.equals("SUCCESS", result.get(0).getResultType().toUpperCase())){
					
					
					// >> reload 
					// -- contract info + vendor of contract list
					this.doGetContractInfoByContractParam(contractNo);
					
					// -- contract of vendor list
					this.doGetContractOfVendorByVendorParam(contractNo, vendorId);
					
					semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
				
				}
				
				// - result dialog -
				resultDialog(result);
			}else{
				
				addMessageError("EL0000", "SEMMMM001Action doDeleteVendorContract");
				flag = false;
			}
			
			
			
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action doDeleteVendorContract");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doDeleteVendorContract >> END :::");
		}
		return flag;
	}
	
	public void doGetContractInfoByContractParam(String contractNo){
		LOG.info("::: SEMMMM001Action :: doGetContractInfoByContractParam >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001ContractSP> contractResultList = null;
			List<Mmm001VendorContractSP> vendorOfContractResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(!contractNo.isEmpty()){
				// -- contract info
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId("");
				
				contractResultList = service.querySPList(EQueryName.SEM_SAP_CONTRACT_DETAIL.name, tmpCriteria);
				
				semmmm001Bean.setContractInfo(new Mmm001ContractSP()); // clear object
				
				if(contractResultList != null && contractResultList.size() != 0) {
					Mmm001ContractSP obj = (Mmm001ContractSP) contractResultList.get(0);
					
					if(obj.getFirstEffectiveDt() != null){
						obj.setFirstEffectiveDtStr(SEMDataUtility.convertToThYearStr(obj.getFirstEffectiveDt()));
					}
					
					if(obj.getEffectiveDt() != null){
						obj.setEffectiveDtStr(SEMDataUtility.convertToThYearStr(obj.getEffectiveDt()));
					}
					
					if(obj.getExpireDt() != null){
						obj.setExpireDtStr(SEMDataUtility.convertToThYearStr(obj.getExpireDt()));
					}
					
					if(obj.getVendorEffectiveDt() != null){
						obj.setVendorEffectiveDtStr(SEMDataUtility.convertToThYearStr(obj.getVendorEffectiveDt()));
					}
					
					semmmm001Bean.setContractInfo(obj);
				}
				
				// -- vendor contract list
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				vendorOfContractResultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_CONTRACT_LIST.name, tmpCriteria);
				
				semmmm001Bean.setVendorContractList(new ArrayList<WrapperBeanObject<Mmm001VendorContractSP>>()); // clear object
				
				if(vendorOfContractResultList != null && vendorOfContractResultList.size() != 0) {
					for (int i=0; i<vendorOfContractResultList.size(); i++) {
						Mmm001VendorContractSP obj = (Mmm001VendorContractSP) vendorOfContractResultList.get(i);
						WrapperBeanObject<Mmm001VendorContractSP> tmpWrapperBean = new WrapperBeanObject<Mmm001VendorContractSP>();
						
						tmpWrapperBean.setDataObj(obj);
						tmpWrapperBean.setMessage("");
						tmpWrapperBean.setCheckBox(false);
						semmmm001Bean.getVendorContractList().add(tmpWrapperBean);
					}
				}
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action doGetContractInfoByContractParam");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetContractInfoByContractParam >> END :::");
		}
	}
	
	public void doGetPayeeInfoByPayeeParam(String contractNo, String vendorId, String payeeId, String vendorMapPayeeId){
		LOG.info("::: SEMMMM001Action :: doGetPayeeInfoByPayeeParam >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001PayeeSP> payeeResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(!payeeId.isEmpty()){
				// -- payee info
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setPayeeId(payeeId);
				tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
				
				payeeResultList = service.querySPList(EQueryName.SEM_SAP_PAYEE_DETAIL.name, tmpCriteria);
				
				semmmm001Bean.setPayeeInfo(new Mmm001PayeeSP()); // clear object
				
				if(payeeResultList != null && payeeResultList.size() != 0) {
					Mmm001PayeeSP obj = (Mmm001PayeeSP) payeeResultList.get(0);
					
					obj.setVendorMapPayeeId(vendorMapPayeeId);
					
					semmmm001Bean.setPayeeInfo(obj);
				}
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetPayeeInfoByPayeeParam >> END :::");
		}
	}
	
	public void doGetVendorAddressByVendorParam(String contractNo, String vendorId){
		LOG.info("::: SEMMMM001Action :: doGetVendorAddressByVendorParam >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001AddressSP> addressResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(vendorId != null && !vendorId.isEmpty()){
				// -- vendor address
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setGroupType("V");
				
				addressResultList = service.querySPList(EQueryName.SEM_SAP_ADDRESS.name, tmpCriteria);
								
				// clear object
				semmmm001Bean.setVendorAddrObj(new Mmm001AddressSP()); 		
				semmmm001Bean.setRentalAddrObj(new Mmm001AddressSP()); 		
				semmmm001Bean.setElectrictAddrObj(new Mmm001AddressSP()); 	
				semmmm001Bean.setPropertyAddrObj(new Mmm001AddressSP()); 	
				semmmm001Bean.setInsureAddrObj(new Mmm001AddressSP()); 		
				semmmm001Bean.setConstructAddrObj(new Mmm001AddressSP()); 	
				semmmm001Bean.setWithholdAddrObj(new Mmm001AddressSP()); 
				
				if(addressResultList != null && addressResultList.size() != 0) {
					semmmm001Bean.setVendorAddrObj((Mmm001AddressSP) addressResultList.get(0));
					semmmm001Bean.setRentalAddrObj((Mmm001AddressSP) addressResultList.get(1));
					semmmm001Bean.setElectrictAddrObj((Mmm001AddressSP) addressResultList.get(2));
					semmmm001Bean.setPropertyAddrObj((Mmm001AddressSP) addressResultList.get(3));
					semmmm001Bean.setInsureAddrObj((Mmm001AddressSP) addressResultList.get(4));
					semmmm001Bean.setConstructAddrObj((Mmm001AddressSP) addressResultList.get(5));
					semmmm001Bean.setWithholdAddrObj((Mmm001AddressSP) addressResultList.get(6));
					
					// --
					semmmm001Bean.getVendorAddrObj().setChkTambolOther(addressResultList.get(0).getTambol() != null && addressResultList.get(0).getTambol().equalsIgnoreCase("X") ? true : false);
					semmmm001Bean.getVendorAddrObj().setChkAmphurOther(addressResultList.get(0).getAmphur() != null && addressResultList.get(0).getAmphur().equalsIgnoreCase("X") ? true : false);
					semmmm001Bean.getVendorAddrObj().setChkLocalDepartment(addressResultList.get(0).getpTaxFlag() != null && addressResultList.get(0).getpTaxFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getVendorAddrObj().setChkTelephoneSapFlag(addressResultList.get(0).getTelephoneSapFlag() != null && addressResultList.get(0).getTelephoneSapFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getVendorAddrObj().setChkMobileNoSapFlag(addressResultList.get(0).getMobileNoSapFlag() != null && addressResultList.get(0).getMobileNoSapFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getVendorAddrObj().setChkFaxSapFlag(addressResultList.get(0).getFaxSapFlag() != null && addressResultList.get(0).getFaxSapFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getVendorAddrObj().setChkEmailSapFlag(addressResultList.get(0).getEmailSapFlag() != null && addressResultList.get(0).getEmailSapFlag().equalsIgnoreCase("Y") ? true : false);
					
					this.doSetOwnerLocation();
				}
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error("SEMMMM001Action doGetVendorAddressByVendorParam SEM_SAP_VENDOR_ADDRESS result < 7 : "+e);
			LOG.debug("SEMMMM001Action doGetVendorAddressByVendorParam SEM_SAP_VENDOR_ADDRESS result < 7 : "+e);
			addMessageError("EL0000", "SEMMMM001Action doGetVendorAddressByVendorParam SEM_SAP_VENDOR_ADDRESS result < 7 ");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetVendorAddressByVendorParam >> END :::");
		}
	}
	
	public void doGetVendorInfoByVendorParam(String contractNo, String vendorId, String vendorMapPayeeId){
		LOG.info("::: SEMMMM001Action :: doGetVendorInfoByVendorParam >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001VendorSP> vendorResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(vendorId != null && !vendorId.isEmpty()){		
				// -- vendor detail
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setSaveFlag("");
				tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
				LOG.debug("saveFlag  : "+semmmm001Bean.getVendorInfo().getSaveFlag());
				if(StringUtils.equals("C", semmmm001Bean.getVendorInfo().getSaveFlag())){
					tmpCriteria.setGroupType("C");
				}
				
				vendorResultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_DETAIL.name, tmpCriteria);
				
				semmmm001Bean.setVendorInfo(new Mmm001VendorSP()); // clear object
				
				if(vendorResultList != null && vendorResultList.size() != 0) {
					Mmm001VendorSP obj = (Mmm001VendorSP) vendorResultList.get(0);
					
					semmmm001Bean.setVendorInfo(obj);
					semmmm001Bean.getVendorInfo().setChkVAT(obj.getIncludeVAT() != null && obj.getIncludeVAT().equalsIgnoreCase("Y") ? true : false);
					
					setSemmmm001Bean(semmmm001Bean);
					
				}
				this.doGetVendorCheckBox();
			}
			
			
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action doGetVendorInfoByVendorParam");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetVendorInfoByVendorParam >> END :::");
		}
	}
	
	public void doGetVendorCheckBox(){
		LOG.info("::: SEMMMM001Action :: doGetVendorCheckBox >> BEGIN :::");
		semmmm001Bean = getSemmmm001Bean();
		try{
			semmmm001Bean.setDisableDLLCompany(true);
			if(semmmm001Bean.getVendorInfo() != null){
				if(StringUtils.equals("Y", semmmm001Bean.getVendorInfo().getVendorBlockStatus())){
					semmmm001Bean.setVendorBlockStatus(true);
				}else{
					semmmm001Bean.setVendorBlockStatus(false);
				}
				
				if(StringUtils.equals("Y", semmmm001Bean.getVendorInfo().getNotPayeeFlag())){
					semmmm001Bean.setNotPayeeFlag(true);
				}else{
					semmmm001Bean.setNotPayeeFlag(false);
				}
				
				if(StringUtils.equals("Y", semmmm001Bean.getVendorInfo().getOtherExpenseFlag())){
					semmmm001Bean.setOtherExpenseFlag(true);
				}else{
					semmmm001Bean.setOtherExpenseFlag(false);
				}
				
				if(StringUtils.equals("Y", semmmm001Bean.getVendorInfo().getVendorBlackListStatus())){
					semmmm001Bean.setVendorBlackListStatus(true);
				}else{
					semmmm001Bean.setVendorBlackListStatus(false);
				}
			}else{
				semmmm001Bean.setVendorBlockStatus(false);
				semmmm001Bean.setNotPayeeFlag(false);
				semmmm001Bean.setOtherExpenseFlag(false);
				semmmm001Bean.setVendorBlackListStatus(false);
			}
		
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action doGetVendorCheckBox : "+e);
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetVendorCheckBox >> END :::");
		}
	}
	
	public void doSetVendorCheckBox(){
		LOG.info("::: SEMMMM001Action :: doSetVendorCheckBox >> BEGIN :::");
		semmmm001Bean = getSemmmm001Bean();
		try{
			if(semmmm001Bean.getVendorInfo() != null){
				if(semmmm001Bean.isVendorBlockStatus()){
					semmmm001Bean.getVendorInfo().setVendorBlockStatus("Y");
				}else{
					semmmm001Bean.getVendorInfo().setVendorBlockStatus("N");
				}
				
				if(semmmm001Bean.isNotPayeeFlag()){
					semmmm001Bean.getVendorInfo().setNotPayeeFlag("Y");
				}else{
					semmmm001Bean.getVendorInfo().setNotPayeeFlag("N");
				}
				
				if(semmmm001Bean.isOtherExpenseFlag()){
					semmmm001Bean.getVendorInfo().setOtherExpenseFlag("Y");
				}else{
					semmmm001Bean.getVendorInfo().setOtherExpenseFlag("N");
				}
				
				if(semmmm001Bean.isVendorBlackListStatus()){
					semmmm001Bean.getVendorInfo().setVendorBlackListStatus("Y");
				}else{
					semmmm001Bean.getVendorInfo().setVendorBlackListStatus("N");
				}
			}
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action doSetVendorCheckBox : "+e);
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSetVendorCheckBox >> END :::");
		}
	}
	
	public void doGetVendorBookbankByVendorParam(String contractNo, String vendorId){
		LOG.info("::: SEMMMM001Action :: doGetVendorBookbankByVendorParam >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001BookbankSP> bookbankResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(vendorId != null && !vendorId.isEmpty()){
				// -- bookbank detail
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				
				bookbankResultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_BOOKBANK_LIST.name, tmpCriteria);
				
				semmmm001Bean.setBookbankList(new ArrayList<WrapperBeanObject<Mmm001BookbankSP>>()); // clear object
				semmmm001Bean.setBookbankActiveList(new ArrayList<WrapperBeanObject<Mmm001BookbankSP>>()); // clear object
				semmmm001Bean.setBookbankInactiveList(new ArrayList<WrapperBeanObject<Mmm001BookbankSP>>()); // clear object
				
				if(bookbankResultList != null && bookbankResultList.size() != 0) {
					for (int i=0; i<bookbankResultList.size(); i++) {
						Mmm001BookbankSP obj = (Mmm001BookbankSP) bookbankResultList.get(i);
						WrapperBeanObject<Mmm001BookbankSP> tmpWrapperBean = new WrapperBeanObject<Mmm001BookbankSP>();
						
						if(obj != null && obj.getUpdateDt() != null){
							obj.setUpdateDtStr(DateUtil.convertDateTime2StringWithLocale(obj.getUpdateDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale));
						}
						
						tmpWrapperBean.setDataObj(obj);
						tmpWrapperBean.setMessage("");
						tmpWrapperBean.setCheckBox(false);
						
						if(StringUtils.equals("Y", obj.getBookbankStatus())){
							semmmm001Bean.getBookbankActiveList().add(tmpWrapperBean);
						}else if(StringUtils.equals("N", obj.getBookbankStatus())){
							semmmm001Bean.getBookbankInactiveList().add(tmpWrapperBean);
						}
						semmmm001Bean.getBookbankList().add(tmpWrapperBean);
					}
				}
			} 
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action doGetVendorAddressByVendorParam");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetVendorBookbankByVendorParam >> END :::");
		}
	}
	
	public void doGetVendorPayeeByVendorParam(String contractNo, String vendorId){
		LOG.info("::: SEMMMM001Action :: doGetVendorPayeeByVendorParam >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001PayeeSP> payeeResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(vendorId != null && !vendorId.isEmpty()){
				// -- payee of vendor list
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				
				payeeResultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_PAYEE_LIST.name, tmpCriteria);
				
				semmmm001Bean.setPayeeList(new ArrayList<WrapperBeanObject<Mmm001PayeeSP>>()); // clear object
				
				if(payeeResultList != null && payeeResultList.size() != 0) {
					for (int i=0; i<payeeResultList.size(); i++) {
						Mmm001PayeeSP obj = (Mmm001PayeeSP) payeeResultList.get(i);
						WrapperBeanObject<Mmm001PayeeSP> tmpWrapperBean = new WrapperBeanObject<Mmm001PayeeSP>();
						
						if(obj != null && obj.getUpdateDt() != null){
							obj.setUpdateDtStr(DateUtil.convertDateTime2StringWithLocale(obj.getUpdateDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale));
						}
						
						tmpWrapperBean.setDataObj(obj);
						tmpWrapperBean.setMessage("");
						tmpWrapperBean.setCheckBox(false);
						semmmm001Bean.getPayeeList().add(tmpWrapperBean);
					}
				}
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action doGetVendorPayeeByVendorParam");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetVendorPayeeByVendorParam >> END :::");
		}
	}
	
	public void doGetContractOfVendorByVendorParam(String contractNo, String vendorId){
		LOG.info("::: SEMMMM001Action :: doGetContractOfVendorByVendorParam >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001ContractSP> contractVendorResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
//			System.out.println("contractNo: " + contractNo);
//			System.out.println("vendorId: " + vendorId);
			
			if(vendorId != null && !vendorId.isEmpty()){
				// -- contract of vendor list
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				
				contractVendorResultList = service.querySPList(EQueryName.SEM_SAP_CONTRACT_LIST.name, tmpCriteria);
				
				semmmm001Bean.setContractList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>()); // clear object
				
				if(contractVendorResultList != null && contractVendorResultList.size() != 0) {
					for (int i=0; i<contractVendorResultList.size(); i++) {
						Mmm001ContractSP obj = (Mmm001ContractSP) contractVendorResultList.get(i);
						
						if(obj.getEffectiveDt() != null){
							obj.setEffectiveDtStr(SEMDataUtility.convertToThYearStr(obj.getEffectiveDt()));
						}
						
						if(obj.getExpireDt() != null){
							obj.setExpireDtStr(SEMDataUtility.convertToThYearStr(obj.getExpireDt()));
						}
						
						if(obj.getVendorEffectiveDt() != null){
							obj.setVendorEffectiveDtStr(SEMDataUtility.convertToThYearStr(obj.getVendorEffectiveDt()));
						}
						
						WrapperBeanObject<Mmm001ContractSP> tmpWrapperBean = new WrapperBeanObject<Mmm001ContractSP>();
						tmpWrapperBean.setDataObj(obj);
						tmpWrapperBean.setMessage("");
						tmpWrapperBean.setCheckBox(false);
						semmmm001Bean.getContractList().add(tmpWrapperBean);
					}
				}
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action doGetContractOfVendorByVendorParam");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetContractOfVendorByVendorParam >> END :::");
		}
	}
	
	public void doGetContractOfBookbankByBookbankParam(String vendorId, String bookbankId){
		LOG.info("::: SEMMMM001Action :: doGetContractOfBookbankByBookbankParam >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001ContractSP> contractBookbankResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(bookbankId != null && !bookbankId.isEmpty()){
				// -- contract of bookbank list
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setBookbankId(bookbankId); 
				//added 11/12/2017
				tmpCriteria.setVendorId(vendorId); 
				contractBookbankResultList = service.querySPList(EQueryName.SEM_SAP_CONTRACT_LIST.name, tmpCriteria);
				
				semmmm001Bean.setContractOfBookbankList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>()); // clear object
				
				if(contractBookbankResultList != null && contractBookbankResultList.size() != 0) {
					for (int i=0; i<contractBookbankResultList.size(); i++) {
						Mmm001ContractSP obj = (Mmm001ContractSP) contractBookbankResultList.get(i);
						
						if(obj.getEffectiveDt() != null){
							obj.setEffectiveDtStr(SEMDataUtility.convertToThYearStr(obj.getEffectiveDt()));
						}
						
						if(obj.getExpireDt() != null){
							obj.setExpireDtStr(SEMDataUtility.convertToThYearStr(obj.getExpireDt()));
						}
						
						if(obj.getVendorEffectiveDt() != null){
							obj.setVendorEffectiveDtStr(SEMDataUtility.convertToThYearStr(obj.getVendorEffectiveDt()));
						}
						
						WrapperBeanObject<Mmm001ContractSP> tmpWrapperBean = new WrapperBeanObject<Mmm001ContractSP>();
						tmpWrapperBean.setDataObj(obj);
						tmpWrapperBean.setMessage("");
						tmpWrapperBean.setCheckBox(false);
						semmmm001Bean.getContractOfBookbankList().add(tmpWrapperBean);
					}
				}
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetContractOfBookbankByBookbankParam >> END :::");
		}
	}
	
	public void doGetContractOfPayeeByPayeeParam(String vendorId, String payeeId){
		LOG.info("::: SEMMMM001Action :: doGetContractOfPayeeByPayeeParam >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001ContractSP> contractPayeeResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(payeeId != null && !payeeId.isEmpty()){
				// -- contract of payee list
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setPayeeId(payeeId); 
				//added 11/12/2017
				tmpCriteria.setVendorId(vendorId);
				
				contractPayeeResultList = service.querySPList(EQueryName.SEM_SAP_CONTRACT_LIST.name, tmpCriteria);
				
				semmmm001Bean.setContractOfPayeeList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>()); // clear object
				
				if(contractPayeeResultList != null && contractPayeeResultList.size() != 0) {
					for (int i=0; i<contractPayeeResultList.size(); i++) {
						Mmm001ContractSP obj = (Mmm001ContractSP) contractPayeeResultList.get(i);
						
						if(obj.getEffectiveDt() != null){
							obj.setEffectiveDtStr(SEMDataUtility.convertToThYearStr(obj.getEffectiveDt()));
						}
						
						if(obj.getExpireDt() != null){
							obj.setExpireDtStr(SEMDataUtility.convertToThYearStr(obj.getExpireDt()));
						}
						
						if(obj.getVendorEffectiveDt() != null){
							obj.setVendorEffectiveDtStr(SEMDataUtility.convertToThYearStr(obj.getVendorEffectiveDt()));
						}
						
						WrapperBeanObject<Mmm001ContractSP> tmpWrapperBean = new WrapperBeanObject<Mmm001ContractSP>();
						tmpWrapperBean.setDataObj(obj);
						tmpWrapperBean.setMessage("");
						tmpWrapperBean.setCheckBox(false);
						semmmm001Bean.getContractOfPayeeList().add(tmpWrapperBean);
					}
				}
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetContractOfPayeeByPayeeParam >> END :::");
		}
	}
	
	public void doGetBookbankInfoByBookbankParam(String contractNo, String vendorId, String vendorBookbankId,String vendorMapPayeeId){
		LOG.info("::: SEMMMM001Action :: doGetBookbankInfoByBookbankParam >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
						
			List<Mmm001BookbankSP> bookbankResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(vendorId != null && !vendorId.isEmpty() && 
			   vendorBookbankId != null && !vendorBookbankId.isEmpty()){
				// -- bank info
				semmmm001Bean.setBookbankInfo(new Mmm001BookbankSP()); // clear object
				
				tmpCriteria = new Mmm001CriteriaSP();
				//tmpCriteria.setContractNo(contractNo); //2017/08/01 unused
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setVendorBookbankId(vendorBookbankId);
				tmpCriteria.setStrParam("");
				tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
				bookbankResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_DETAIL.name, tmpCriteria);
				
				if(bookbankResultList != null && bookbankResultList.size() != 0) {
					Mmm001BookbankSP obj = (Mmm001BookbankSP) bookbankResultList.get(0);
					
					obj.setBankId(obj.getBankCode() != null && obj.getBankCode().length() >= 3 ? 
								  obj.getBankCode().substring(0, 3) : obj.getBankCode());
					
					LOG.debug("getAccountType : "+obj.getAccountType());
					LOG.debug("getBookbankStatus : "+obj.getBookbankStatus());
					semmmm001Bean.setBookbankInfo(obj);
				}
				
				this.doCompareBookbankWithSAP();
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetBookbankInfoByBookbankParam >> END :::");
		}
	}
	
	public void doGetBookbankPayeeInfoByBookbankPayeeParam(String contractNo, String vendorId, String bookbankPayeeId, String vendorMapPayeeId){
		LOG.info("::: SEMMMM001Action :: doGetBookbankInfoByBookbankParam >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
						
			List<Mmm001BookbankPayeeSP> bookbankPayeeResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(bookbankPayeeId != null && !bookbankPayeeId.isEmpty() ){
				// -- bookbank payee info
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setBookbankPayeeId(bookbankPayeeId);
				tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
				
				bookbankPayeeResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_PAYEE_DETAIL.name, tmpCriteria);
				
				semmmm001Bean.setBookbankPayeeInfo(new Mmm001BookbankPayeeSP()); // clear object
				
				if(bookbankPayeeResultList != null && bookbankPayeeResultList.size() != 0) {
					Mmm001BookbankPayeeSP obj = (Mmm001BookbankPayeeSP) bookbankPayeeResultList.get(0);
					
					obj.setBankId(obj.getBankCode() != null && obj.getBankCode().length() >= 3 ? 
							  	  obj.getBankCode().substring(0, 3) : obj.getBankCode());
					
					semmmm001Bean.setBookbankPayeeInfo(obj);
				}
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetBookbankPayeeInfoByBookbankPayeeParam >> END :::");
		}
	}
	
	public void doGetBookbankPayeeInfoCmpByBookbankPayeeParam(String contractNo, String vendorId, String bookbankPayeeId, String vendorMapPayeeId){
		LOG.info("::: SEMMMM001Action :: doGetBookbankPayeeInfoCmpByBookbankPayeeParam >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
						
			List<Mmm001BookbankPayeeSP> bookbankPayeeResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(bookbankPayeeId != null && !bookbankPayeeId.isEmpty() ){
				// -- bookbank payee info
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setBookbankPayeeId(bookbankPayeeId);
				tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
				
				bookbankPayeeResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_PAYEE_DETAIL.name, tmpCriteria);
				
				semmmm001Bean.setBookbankPayeeInfoCmpObj(new Mmm001BookbankPayeeSP()); // clear object
				
				if(bookbankPayeeResultList != null && bookbankPayeeResultList.size() != 0) {
					Mmm001BookbankPayeeSP obj = (Mmm001BookbankPayeeSP) bookbankPayeeResultList.get(0);
					
					obj.setBankId(obj.getBankCode() != null && obj.getBankCode().length() >= 3 ? 
							  	  obj.getBankCode().substring(0, 3) : obj.getBankCode());
					
					semmmm001Bean.setBookbankPayeeInfoCmpObj(obj);
				}
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetBookbankPayeeInfoCmpByBookbankPayeeParam >> END :::");
		}
	}
	
	public void doGetBookbankPayeeByPayeeParam(String contractNo, String vendorId, String payeeId, String vendorMapPayeeId){
		LOG.info("::: SEMMMM001Action :: doGetBookbankPayeeByPayeeParam >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001BookbankPayeeSP> bookbankPayeeResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(vendorId != null && !vendorId.isEmpty() && 
			payeeId != null && !payeeId.isEmpty()){
				// -- bookbank of payee list
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setPayeeId(payeeId);
				tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);

				bookbankPayeeResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_PAYEE_LIST.name, tmpCriteria);
				
				semmmm001Bean.setBookbankPayeeList(new ArrayList<WrapperBeanObject<Mmm001BookbankPayeeSP>>()); // clear object
				semmmm001Bean.setBookbankPayeeActiveList(new ArrayList<WrapperBeanObject<Mmm001BookbankPayeeSP>>()); // clear object
				semmmm001Bean.setBookbankPayeeInactiveList(new ArrayList<WrapperBeanObject<Mmm001BookbankPayeeSP>>()); // clear object
				
				if(bookbankPayeeResultList != null && bookbankPayeeResultList.size() != 0) {
					for (int i=0; i<bookbankPayeeResultList.size(); i++) {
						Mmm001BookbankPayeeSP obj = (Mmm001BookbankPayeeSP) bookbankPayeeResultList.get(i);
						WrapperBeanObject<Mmm001BookbankPayeeSP> tmpWrapperBean = new WrapperBeanObject<Mmm001BookbankPayeeSP>();
						
						tmpWrapperBean.setDataObj(obj);
						tmpWrapperBean.setMessage("");
						tmpWrapperBean.setCheckBox(false);
						if(StringUtils.equals("Y", obj.getBookbankPayeeStatus())){
							semmmm001Bean.getBookbankPayeeActiveList().add(tmpWrapperBean);
						}else if(StringUtils.equals("N", obj.getBookbankPayeeStatus())){
							semmmm001Bean.getBookbankPayeeInactiveList().add(tmpWrapperBean);
						}
						semmmm001Bean.getBookbankPayeeList().add(tmpWrapperBean);
					}
				}
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetBookbankPayeeByPayeeParam >> END :::");
		}
	}
	
	public void doGetBookbankInfoCmpByBookbankParam(String contractNo, String vendorId, String vendorBookbankId, String vendorMapPayeeId){
		LOG.info("::: SEMMMM001Action :: doGetBookbankInfoCmpByBookbankParam >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
						
			List<Mmm001BookbankSP> bookbankResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(vendorId != null && !vendorId.isEmpty() && 
			   vendorBookbankId != null && !vendorBookbankId.isEmpty()){
				// -- bank info
				semmmm001Bean.setBookbankInfoCmpObj(new Mmm001BookbankSP()); // clear object
				
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setVendorBookbankId(vendorBookbankId);
				tmpCriteria.setStrParam("");
				tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
				bookbankResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_DETAIL.name, tmpCriteria);
				
				if(bookbankResultList != null && bookbankResultList.size() != 0) {
					Mmm001BookbankSP obj = (Mmm001BookbankSP) bookbankResultList.get(0);
					
					obj.setBankId(obj.getBankCode() != null && obj.getBankCode().length() >= 3 ? 
								  obj.getBankCode().substring(0, 3) : obj.getBankCode());
					
					semmmm001Bean.setBookbankInfoCmpObj(obj);
				}
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetBookbankInfoCmpByBookbankParam >> END :::");
		}
	}
	
	public void doGetPayeeInfoCmpByPayeeParam(String contractNo, String vendorId, String payeeId, String vendorMapPayeeId){
		LOG.info("::: SEMMMM001Action :: doGetPayeeInfoCmpByPayeeParam >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001PayeeSP> payeeResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(!payeeId.isEmpty()){
				// -- payee info
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setPayeeId(payeeId);
				tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
				
				payeeResultList = service.querySPList(EQueryName.SEM_SAP_PAYEE_DETAIL.name, tmpCriteria);
				
				semmmm001Bean.setPayeeInfoCmpObj(new Mmm001PayeeSP()); // clear object
				
				if(payeeResultList != null && payeeResultList.size() != 0) {
					Mmm001PayeeSP obj = (Mmm001PayeeSP) payeeResultList.get(0);
					
					obj.setVendorMapPayeeId(vendorMapPayeeId);
					
					semmmm001Bean.setPayeeInfoCmpObj(obj);
				}
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetPayeeInfoCmpByPayeeParam >> END :::");
		}
	}
	
	public void doCompareVendorWithSAP(){
		LOG.info("::: SEMMMM001Action :: doCompareVendorWithSAP >> BEGIN :::");
		
		try {
						
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			List<Mmm001SAPVendorSP> resultList = null;
			
			String vendorId = semmmm001Bean.getVendorInfo().getVendorId() == null ? "" : 
				   (String) semmmm001Bean.getVendorInfo().getVendorId(); 
			
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			LOG.debug(">> vendorId: " + vendorId);
			
			Mmm001CriteriaSP tmpCriteria = new Mmm001CriteriaSP();
			tmpCriteria.setVendorId(vendorId);
			tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
			
			if(vendorId != null && !vendorId.isEmpty())
			resultList = service.querySPList(EQueryName.SEM_SAP_GET_VENDOR.name, tmpCriteria);
			System.out.println(">> call SEM_SAP_MAP_VENDOR_INFO ---> tmpCriteria : " + tmpCriteria);	
			LOG.info(">> call SEM_SAP_MAP_VENDOR_INFO ---> tmpCriteria : " + tmpCriteria);	
			
			// --
			if(resultList != null && resultList.size() != 0){
				Mmm001SAPVendorSP prepareCallSAPObj = (Mmm001SAPVendorSP) resultList.get(0);
				
				System.out.println(">> before callWS sapService.getven ---> Mmm001VendorSP : " + prepareCallSAPObj);	
				
				List<Mmm001VendorSP> sapRetObjList = null;
				WsClientService sapService = new WsClientService();
				sapRetObjList = (List<Mmm001VendorSP>) sapService.getven(prepareCallSAPObj);
				
//				TestCallService sapTestService = new TestCallService();
//				sapTestService.testCall_GETVEN();
				
				// --
				if(sapRetObjList != null && sapRetObjList.size() != 0){
					Mmm001VendorSP obj = (Mmm001VendorSP) sapRetObjList.get(0);
					LOG.info(">> after callWS sapService.getven ---> Mmm001VendorSP : " + obj);		
					System.out.println(">> after callWS sapService.getven ---> Mmm001VendorSP : " + obj);	
					
					// --
					List<Mmm001VendorSP> resultMapSAPList = null;
					if(obj != null){
						obj.setVendorId(semmmm001Bean.getVendorInfo().getVendorId()); //
						resultMapSAPList = service.querySPList(EQueryName.SEM_SAP_MAP_VENDOR_INFO.name, obj);
					}
					
					if(resultMapSAPList != null && resultMapSAPList.size() != 0){
						Mmm001VendorSP mapSAPObj = (Mmm001VendorSP) resultMapSAPList.get(0);
						
						if(mapSAPObj.getVendorBlockStatus() != null && StringUtils.equals("Y", mapSAPObj.getVendorBlockStatus())){
							semmmm001Bean.setVendorBlockStatusSAP(true);
						}else{
							semmmm001Bean.setVendorBlockStatusSAP(false);
						}
						
						if(mapSAPObj.getNotPayeeFlag() != null && StringUtils.equals("Y", mapSAPObj.getNotPayeeFlag())){
							semmmm001Bean.setNotPayeeFlagSAP(true);
						}else{
							semmmm001Bean.setNotPayeeFlagSAP(false);
						}
						
						semmmm001Bean.setVendorInfoMissMatchWithSAPObj(mapSAPObj);
					}
					LOG.debug("getVendorInfoMissMatchWithSAPObj: " + semmmm001Bean.getVendorInfoMissMatchWithSAPObj());
				}
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action doCompareVendorWithSAP");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doCompareVendorWithSAP >> END :::");
		}
	}
	
	public void doCompareBookbankWithSAP(){
		LOG.info("::: SEMMMM001Action :: doCompareBookbankWithSAP >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			List<Mmm001BookbankSP> resultList = null;
			
			//String accountNo = semmmm001Bean.getBookbankInfo().getAccountNo() == null ? "" : 
			//	   (String) semmmm001Bean.getBookbankInfo().getAccountNo(); 
			
			//LOG.debug(">> accountNo: " + accountNo);
			
			String vendorCode = semmmm001Bean.getVendorInfo().getVendorCode() == null ? "" : 
		 	   	   (String) semmmm001Bean.getVendorInfo().getVendorCode(); 
			String bookbankId = semmmm001Bean.getBookbankInfo().getVendorBookbankId() == null ? "" : 
		 	   	   (String) semmmm001Bean.getBookbankInfo().getVendorBookbankId();
			
			LOG.debug(">> vendorCode like same with accountNo for send to SAP: " + vendorCode);
			
			Mmm001SAPBookbankSP prepareCallSAPObj = new Mmm001SAPBookbankSP();
			List<Mmm001SAPBookbankSP> sapRetObjList = null;
			WsClientService sapService = new WsClientService();
			
			prepareCallSAPObj.setKoart("K");
			prepareCallSAPObj.setAccountNo(vendorCode);
			prepareCallSAPObj.setxTechAccNo("");
			
			sapRetObjList = (List<Mmm001SAPBookbankSP>) sapService.getvenbank(prepareCallSAPObj);
			
			if(sapRetObjList != null && sapRetObjList.size() != 0){
				Mmm001SAPBookbankSP obj = (Mmm001SAPBookbankSP) sapRetObjList.get(0);
				obj.setVendorBookbankId(bookbankId);
				
				if(obj != null)
					resultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_DETAIL_SAP.name, obj);
				
				// --
				if(resultList != null && resultList.size() != 0){
					Mmm001BookbankSP missMatchObj = (Mmm001BookbankSP) resultList.get(0);
					semmmm001Bean.setBookbankInfoMissMatchWithSAPObj(missMatchObj);
					
					LOG.debug("getBookbankInfoMissMatchWithSAPObj: " + semmmm001Bean.getBookbankInfoMissMatchWithSAPObj().toString());
				}
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doCompareBookbankWithSAP >> END :::");
		}
	}
	
	public void renderedTextFieldAddress(){
		LOG.info("::: SEMMMM001Action :: renderedTextFieldAddress >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			String fieldAddrParam = getFacesUtils().getRequestParameter("fieldAddrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("fieldAddrParam");
			
			if(fieldAddrParam.equalsIgnoreCase("VD_TAMBOL")){
				if(semmmm001Bean.getVendorAddrObj().isChkTambolOther()){
					semmmm001Bean.getVendorAddrObj().setTambol("");
					semmmm001Bean.getVendorAddrObj().setTambolName("");
				}else{
					semmmm001Bean.getVendorAddrObj().setTambol("");
					semmmm001Bean.getVendorAddrObj().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("VD_AMPHUR")){
				if(semmmm001Bean.getVendorAddrObj().isChkAmphurOther()){
					semmmm001Bean.getVendorAddrObj().setAmphur("");
					semmmm001Bean.getVendorAddrObj().setAmphurName("");
					
					semmmm001Bean.getVendorAddrObj().setChkTambolOther(true);
					semmmm001Bean.getVendorAddrObj().setTambol("");
					semmmm001Bean.getVendorAddrObj().setTambolName("");
				}else{
					semmmm001Bean.getVendorAddrObj().setAmphur("");
					semmmm001Bean.getVendorAddrObj().setAmphurName("");
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("RT_TAMBOL")){
				if(semmmm001Bean.getRentalAddrObj().isChkTambolOther()){
					semmmm001Bean.getRentalAddrObj().setTambol("");
					semmmm001Bean.getRentalAddrObj().setTambolName("");
				}else{
					semmmm001Bean.getRentalAddrObj().setTambol("");
					semmmm001Bean.getRentalAddrObj().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("RT_AMPHUR")){
				if(semmmm001Bean.getRentalAddrObj().isChkAmphurOther()){
					semmmm001Bean.getRentalAddrObj().setAmphur("");
					semmmm001Bean.getRentalAddrObj().setAmphurName("");
					
					semmmm001Bean.getRentalAddrObj().setChkTambolOther(true);
					semmmm001Bean.getRentalAddrObj().setTambol("");
					semmmm001Bean.getRentalAddrObj().setTambolName("");
				}else{
					semmmm001Bean.getRentalAddrObj().setAmphur("");
					semmmm001Bean.getRentalAddrObj().setAmphurName("");
					
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("EL_TAMBOL")){
				if(semmmm001Bean.getElectrictAddrObj().isChkTambolOther()){
					semmmm001Bean.getElectrictAddrObj().setTambol("");
					semmmm001Bean.getElectrictAddrObj().setTambolName("");
				}else{
					semmmm001Bean.getElectrictAddrObj().setTambol("");
					semmmm001Bean.getElectrictAddrObj().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("EL_AMPHUR")){
				if(semmmm001Bean.getElectrictAddrObj().isChkAmphurOther()){
					semmmm001Bean.getElectrictAddrObj().setAmphur("");
					semmmm001Bean.getElectrictAddrObj().setAmphurName("");
					
					semmmm001Bean.getElectrictAddrObj().setChkTambolOther(true);
					semmmm001Bean.getElectrictAddrObj().setTambol("");
					semmmm001Bean.getElectrictAddrObj().setTambolName("");
				}else{
					semmmm001Bean.getElectrictAddrObj().setAmphur("");
					semmmm001Bean.getElectrictAddrObj().setAmphurName("");
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("PT_TAMBOL")){
				if(semmmm001Bean.getPropertyAddrObj().isChkTambolOther()){
					semmmm001Bean.getPropertyAddrObj().setTambol("");
					semmmm001Bean.getPropertyAddrObj().setTambolName("");
				}else{
					semmmm001Bean.getPropertyAddrObj().setTambol("");
					semmmm001Bean.getPropertyAddrObj().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("PT_AMPHUR")){
				if(semmmm001Bean.getPropertyAddrObj().isChkAmphurOther()){
					semmmm001Bean.getPropertyAddrObj().setAmphur("");
					semmmm001Bean.getPropertyAddrObj().setAmphurName("");
					
					semmmm001Bean.getPropertyAddrObj().setChkTambolOther(true);
					semmmm001Bean.getPropertyAddrObj().setTambol("");
					semmmm001Bean.getPropertyAddrObj().setTambolName("");
				}else{
					semmmm001Bean.getPropertyAddrObj().setAmphur("");
					semmmm001Bean.getPropertyAddrObj().setAmphurName("");
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("IR_TAMBOL")){
				if(semmmm001Bean.getInsureAddrObj().isChkTambolOther()){
					semmmm001Bean.getInsureAddrObj().setTambol("");
					semmmm001Bean.getInsureAddrObj().setTambolName("");
				}else{
					semmmm001Bean.getInsureAddrObj().setTambol("");
					semmmm001Bean.getInsureAddrObj().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("IR_AMPHUR")){
				if(semmmm001Bean.getInsureAddrObj().isChkAmphurOther()){
					semmmm001Bean.getInsureAddrObj().setAmphur("");
					semmmm001Bean.getInsureAddrObj().setAmphurName("");
					
					semmmm001Bean.getInsureAddrObj().setChkTambolOther(true);
					semmmm001Bean.getInsureAddrObj().setTambol("");
					semmmm001Bean.getInsureAddrObj().setTambolName("");
				}else{
					semmmm001Bean.getInsureAddrObj().setAmphur("");
					semmmm001Bean.getInsureAddrObj().setAmphurName("");
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("CS_TAMBOL")){
				if(semmmm001Bean.getConstructAddrObj().isChkTambolOther()){
					semmmm001Bean.getConstructAddrObj().setTambol("");
					semmmm001Bean.getConstructAddrObj().setTambolName("");
				}else{
					semmmm001Bean.getConstructAddrObj().setTambol("");
					semmmm001Bean.getConstructAddrObj().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("CS_AMPHUR")){
				if(semmmm001Bean.getConstructAddrObj().isChkAmphurOther()){
					semmmm001Bean.getConstructAddrObj().setAmphur("");
					semmmm001Bean.getConstructAddrObj().setAmphurName("");
					
					semmmm001Bean.getConstructAddrObj().setChkTambolOther(true);
					semmmm001Bean.getConstructAddrObj().setTambol("");
					semmmm001Bean.getConstructAddrObj().setTambolName("");
				}else{
					semmmm001Bean.getConstructAddrObj().setAmphur("");
					semmmm001Bean.getConstructAddrObj().setAmphurName("");
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("WH_TAMBOL")){
				if(semmmm001Bean.getWithholdAddrObj().isChkTambolOther()){
					semmmm001Bean.getWithholdAddrObj().setTambol("");
					semmmm001Bean.getWithholdAddrObj().setTambolName("");
				}else{
					semmmm001Bean.getWithholdAddrObj().setTambol("");
					semmmm001Bean.getWithholdAddrObj().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("WH_AMPHUR")){
				if(semmmm001Bean.getWithholdAddrObj().isChkAmphurOther()){
					semmmm001Bean.getWithholdAddrObj().setAmphur("");
					semmmm001Bean.getWithholdAddrObj().setAmphurName("");
					
					semmmm001Bean.getWithholdAddrObj().setChkTambolOther(true);
					semmmm001Bean.getWithholdAddrObj().setTambol("");
					semmmm001Bean.getWithholdAddrObj().setTambolName("");
				}else{
					semmmm001Bean.getWithholdAddrObj().setAmphur("");
					semmmm001Bean.getWithholdAddrObj().setAmphurName("");
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("PY_TAMBOL")){
				if(semmmm001Bean.getPayeeInfo().isChkTambolOther()){
					semmmm001Bean.getPayeeInfo().setTambol("");
					semmmm001Bean.getPayeeInfo().setTambolName("");
				}else{
					semmmm001Bean.getPayeeInfo().setTambol("");
					semmmm001Bean.getPayeeInfo().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("PY_AMPHUR")){
				if(semmmm001Bean.getPayeeInfo().isChkAmphurOther()){
					semmmm001Bean.getPayeeInfo().setAmphur("");
					semmmm001Bean.getPayeeInfo().setAmphurName("");
					
					semmmm001Bean.getPayeeInfo().setChkTambolOther(true);
					semmmm001Bean.getPayeeInfo().setTambol("");
					semmmm001Bean.getPayeeInfo().setTambolName("");
				}else{
					semmmm001Bean.getPayeeInfo().setAmphur("");
					semmmm001Bean.getPayeeInfo().setAmphurName("");
				}
			}
			
			
			// -- content change
			if(fieldAddrParam.equalsIgnoreCase("VD_CMP_TAMBOL")){
				if(semmmm001Bean.getVendorAddrCmpObj().isChkTambolOther()){
					semmmm001Bean.getVendorAddrCmpObj().setTambol("");
					semmmm001Bean.getVendorAddrCmpObj().setTambolName("");
				}else{
					semmmm001Bean.getVendorAddrCmpObj().setTambol("");
					semmmm001Bean.getVendorAddrCmpObj().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("VD_CMP_AMPHUR")){
				if(semmmm001Bean.getVendorAddrCmpObj().isChkAmphurOther()){
					semmmm001Bean.getVendorAddrCmpObj().setAmphur("");
					semmmm001Bean.getVendorAddrCmpObj().setAmphurName("");
					
					semmmm001Bean.getVendorAddrCmpObj().setChkTambolOther(true);
					semmmm001Bean.getVendorAddrCmpObj().setTambol("");
					semmmm001Bean.getVendorAddrCmpObj().setTambolName("");
				}else{
					semmmm001Bean.getVendorAddrCmpObj().setAmphur("");
					semmmm001Bean.getVendorAddrCmpObj().setAmphurName("");
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("RT_CMP_TAMBOL")){
				if(semmmm001Bean.getRentalAddrCmpObj().isChkTambolOther()){
					semmmm001Bean.getRentalAddrCmpObj().setTambol("");
					semmmm001Bean.getRentalAddrCmpObj().setTambolName("");
				}else{
					semmmm001Bean.getRentalAddrCmpObj().setTambol("");
					semmmm001Bean.getRentalAddrCmpObj().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("RT_CMP_AMPHUR")){
				if(semmmm001Bean.getRentalAddrCmpObj().isChkAmphurOther()){
					semmmm001Bean.getRentalAddrCmpObj().setAmphur("");
					semmmm001Bean.getRentalAddrCmpObj().setAmphurName("");
					
					semmmm001Bean.getRentalAddrCmpObj().setChkTambolOther(true);
					semmmm001Bean.getRentalAddrCmpObj().setTambol("");
					semmmm001Bean.getRentalAddrCmpObj().setTambolName("");
				}else{
					semmmm001Bean.getRentalAddrCmpObj().setAmphur("");
					semmmm001Bean.getRentalAddrCmpObj().setAmphurName("");
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("EL_CMP_TAMBOL")){
				if(semmmm001Bean.getElectrictAddrCmpObj().isChkTambolOther()){
					semmmm001Bean.getElectrictAddrCmpObj().setTambol("");
					semmmm001Bean.getElectrictAddrCmpObj().setTambolName("");
				}else{
					semmmm001Bean.getElectrictAddrCmpObj().setTambol("");
					semmmm001Bean.getElectrictAddrCmpObj().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("EL_CMP_AMPHUR")){
				if(semmmm001Bean.getElectrictAddrCmpObj().isChkAmphurOther()){
					semmmm001Bean.getElectrictAddrCmpObj().setAmphur("");
					semmmm001Bean.getElectrictAddrCmpObj().setAmphurName("");
					
					semmmm001Bean.getElectrictAddrCmpObj().setChkTambolOther(true);
					semmmm001Bean.getElectrictAddrCmpObj().setTambol("");
					semmmm001Bean.getElectrictAddrCmpObj().setTambolName("");
				}else{
					semmmm001Bean.getElectrictAddrCmpObj().setAmphur("");
					semmmm001Bean.getElectrictAddrCmpObj().setAmphurName("");
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("PT_CMP_TAMBOL")){
				if(semmmm001Bean.getPropertyAddrCmpObj().isChkTambolOther()){
					semmmm001Bean.getPropertyAddrCmpObj().setTambol("");
					semmmm001Bean.getPropertyAddrCmpObj().setTambolName("");
				}else{
					semmmm001Bean.getPropertyAddrCmpObj().setTambol("");
					semmmm001Bean.getPropertyAddrCmpObj().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("PT_CMP_AMPHUR")){
				if(semmmm001Bean.getPropertyAddrCmpObj().isChkAmphurOther()){
					semmmm001Bean.getPropertyAddrCmpObj().setAmphur("");
					semmmm001Bean.getPropertyAddrCmpObj().setAmphurName("");
					
					semmmm001Bean.getPropertyAddrCmpObj().setChkTambolOther(true);
					semmmm001Bean.getPropertyAddrCmpObj().setTambol("");
					semmmm001Bean.getPropertyAddrCmpObj().setTambolName("");
				}else{
					semmmm001Bean.getPropertyAddrCmpObj().setAmphur("");
					semmmm001Bean.getPropertyAddrCmpObj().setAmphurName("");
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("IR_CMP_TAMBOL")){
				if(semmmm001Bean.getInsureAddrCmpObj().isChkTambolOther()){
					semmmm001Bean.getInsureAddrCmpObj().setTambol("");
					semmmm001Bean.getInsureAddrCmpObj().setTambolName("");
				}else{
					semmmm001Bean.getInsureAddrCmpObj().setTambol("");
					semmmm001Bean.getInsureAddrCmpObj().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("IR_CMP_AMPHUR")){
				if(semmmm001Bean.getInsureAddrCmpObj().isChkAmphurOther()){
					semmmm001Bean.getInsureAddrCmpObj().setAmphur("");
					semmmm001Bean.getInsureAddrCmpObj().setAmphurName("");
					
					semmmm001Bean.getInsureAddrCmpObj().setChkTambolOther(true);
					semmmm001Bean.getInsureAddrCmpObj().setTambol("");
					semmmm001Bean.getInsureAddrCmpObj().setTambolName("");
				}else{
					semmmm001Bean.getInsureAddrCmpObj().setAmphur("");
					semmmm001Bean.getInsureAddrCmpObj().setAmphurName("");
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("CS_CMP_TAMBOL")){
				if(semmmm001Bean.getConstructAddrCmpObj().isChkTambolOther()){
					semmmm001Bean.getConstructAddrCmpObj().setTambol("");
					semmmm001Bean.getConstructAddrCmpObj().setTambolName("");
				}else{
					semmmm001Bean.getConstructAddrCmpObj().setTambol("");
					semmmm001Bean.getConstructAddrCmpObj().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("CS_CMP_AMPHUR")){
				if(semmmm001Bean.getConstructAddrCmpObj().isChkAmphurOther()){
					semmmm001Bean.getConstructAddrCmpObj().setAmphur("");
					semmmm001Bean.getConstructAddrCmpObj().setAmphurName("");
					
					semmmm001Bean.getConstructAddrCmpObj().setChkTambolOther(true);
					semmmm001Bean.getConstructAddrCmpObj().setTambol("");
					semmmm001Bean.getConstructAddrCmpObj().setTambolName("");
				}else{
					semmmm001Bean.getConstructAddrCmpObj().setAmphur("");
					semmmm001Bean.getConstructAddrCmpObj().setAmphurName("");
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("WH_CMP_TAMBOL")){
				if(semmmm001Bean.getWithholdAddrCmpObj().isChkTambolOther()){
					semmmm001Bean.getWithholdAddrCmpObj().setTambol("");
					semmmm001Bean.getWithholdAddrCmpObj().setTambolName("");
				}else{
					semmmm001Bean.getWithholdAddrCmpObj().setTambol("");
					semmmm001Bean.getWithholdAddrCmpObj().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("WH_CMP_AMPHUR")){
				if(semmmm001Bean.getWithholdAddrCmpObj().isChkAmphurOther()){
					semmmm001Bean.getWithholdAddrCmpObj().setAmphur("");
					semmmm001Bean.getWithholdAddrCmpObj().setAmphurName("");
					
					semmmm001Bean.getWithholdAddrCmpObj().setChkTambolOther(true);
					semmmm001Bean.getWithholdAddrCmpObj().setTambol("");
					semmmm001Bean.getWithholdAddrCmpObj().setTambolName("");
				}else{
					semmmm001Bean.getWithholdAddrCmpObj().setAmphur("");
					semmmm001Bean.getWithholdAddrCmpObj().setAmphurName("");
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("PY_CMP_TAMBOL")){
				if(semmmm001Bean.getPayeeInfoCmpObj().isChkTambolOther()){
					semmmm001Bean.getPayeeInfoCmpObj().setTambol("");
					semmmm001Bean.getPayeeInfoCmpObj().setTambolName("");
				}else{
					semmmm001Bean.getPayeeInfoCmpObj().setTambol("");
					semmmm001Bean.getPayeeInfoCmpObj().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("PY_CMP_AMPHUR")){
				if(semmmm001Bean.getPayeeInfoCmpObj().isChkAmphurOther()){
					semmmm001Bean.getPayeeInfoCmpObj().setAmphur("");
					semmmm001Bean.getPayeeInfoCmpObj().setAmphurName("");
					
					semmmm001Bean.getPayeeInfoCmpObj().setChkTambolOther(true);
					semmmm001Bean.getPayeeInfoCmpObj().setTambol("");
					semmmm001Bean.getPayeeInfoCmpObj().setTambolName("");
				}else{
					semmmm001Bean.getPayeeInfoCmpObj().setAmphur("");
					semmmm001Bean.getPayeeInfoCmpObj().setAmphurName("");
				}
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: renderedTextFieldAddress >> END :::");
		}
	}
	
	public void doFillinPostCode(){
		LOG.info("::: SEMMMM001Action :: doFillinPostCode >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			SelectItem retIem = null;
			
			String fieldAddrParam = getFacesUtils().getRequestParameter("fieldAddrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("fieldAddrParam");
			
			String provinceCode = "";
			String amphurCode = "";
			String tambolCode = "";
			
			if(fieldAddrParam.equalsIgnoreCase("TAB0_POSTCODE")){
				provinceCode = semmmm001Bean.getVendorAddrObj().getProvince();
				amphurCode = semmmm001Bean.getVendorAddrObj().getAmphur();
				tambolCode = semmmm001Bean.getVendorAddrObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB1_POSTCODE")){
				provinceCode = semmmm001Bean.getRentalAddrObj().getProvince();
				amphurCode = semmmm001Bean.getRentalAddrObj().getAmphur();
				tambolCode = semmmm001Bean.getRentalAddrObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB2_POSTCODE")){
				provinceCode = semmmm001Bean.getElectrictAddrObj().getProvince();
				amphurCode = semmmm001Bean.getElectrictAddrObj().getAmphur();
				tambolCode = semmmm001Bean.getElectrictAddrObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB3_POSTCODE")){
				provinceCode = semmmm001Bean.getPropertyAddrObj().getProvince();
				amphurCode = semmmm001Bean.getPropertyAddrObj().getAmphur();
				tambolCode = semmmm001Bean.getPropertyAddrObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB4_POSTCODE")){
				provinceCode = semmmm001Bean.getInsureAddrObj().getProvince();
				amphurCode = semmmm001Bean.getInsureAddrObj().getAmphur();
				tambolCode = semmmm001Bean.getInsureAddrObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB5_POSTCODE")){
				provinceCode = semmmm001Bean.getConstructAddrObj().getProvince();
				amphurCode = semmmm001Bean.getConstructAddrObj().getAmphur();
				tambolCode = semmmm001Bean.getConstructAddrObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB6_POSTCODE")){
				provinceCode = semmmm001Bean.getWithholdAddrObj().getProvince();
				amphurCode = semmmm001Bean.getWithholdAddrObj().getAmphur();
				tambolCode = semmmm001Bean.getWithholdAddrObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB0_CMP_POSTCODE")){
				provinceCode = semmmm001Bean.getVendorAddrCmpObj().getProvince();
				amphurCode = semmmm001Bean.getVendorAddrCmpObj().getAmphur();
				tambolCode = semmmm001Bean.getVendorAddrCmpObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB1_CMP_POSTCODE")){
				provinceCode = semmmm001Bean.getRentalAddrCmpObj().getProvince();
				amphurCode = semmmm001Bean.getRentalAddrCmpObj().getAmphur();
				tambolCode = semmmm001Bean.getRentalAddrCmpObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB2_CMP_POSTCODE")){
				provinceCode = semmmm001Bean.getElectrictAddrCmpObj().getProvince();
				amphurCode = semmmm001Bean.getElectrictAddrCmpObj().getAmphur();
				tambolCode = semmmm001Bean.getElectrictAddrCmpObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB3_CMP_POSTCODE")){
				provinceCode = semmmm001Bean.getPropertyAddrCmpObj().getProvince();
				amphurCode = semmmm001Bean.getPropertyAddrCmpObj().getAmphur();
				tambolCode = semmmm001Bean.getPropertyAddrCmpObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB4_CMP_POSTCODE")){
				provinceCode = semmmm001Bean.getInsureAddrCmpObj().getProvince();
				amphurCode = semmmm001Bean.getInsureAddrCmpObj().getAmphur();
				tambolCode = semmmm001Bean.getInsureAddrCmpObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB5_CMP_POSTCODE")){
				provinceCode = semmmm001Bean.getConstructAddrCmpObj().getProvince();
				amphurCode = semmmm001Bean.getConstructAddrCmpObj().getAmphur();
				tambolCode = semmmm001Bean.getConstructAddrCmpObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB6_CMP_POSTCODE")){
				provinceCode = semmmm001Bean.getWithholdAddrCmpObj().getProvince();
				amphurCode = semmmm001Bean.getWithholdAddrCmpObj().getAmphur();
				tambolCode = semmmm001Bean.getWithholdAddrCmpObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("PAYEE_POSTCODE")){
				provinceCode = semmmm001Bean.getPayeeInfo().getProvince();
				amphurCode = semmmm001Bean.getPayeeInfo().getAmphur();
				tambolCode = semmmm001Bean.getPayeeInfo().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("PAYEE_CMP_POSTCODE")){
				provinceCode = semmmm001Bean.getPayeeInfoCmpObj().getProvince();
				amphurCode = semmmm001Bean.getPayeeInfoCmpObj().getAmphur();
				tambolCode = semmmm001Bean.getPayeeInfoCmpObj().getTambol();
			} 
			
			LOG.debug(">> fieldAddrParam: " + fieldAddrParam);
			LOG.debug(">> provinceCode: " + provinceCode);
			LOG.debug(">> amphurCode: " + amphurCode);
			LOG.debug(">> tambolCode: " + tambolCode);
			
			retIem = getDistrictName_SEM(provinceCode, amphurCode, tambolCode);
			
			if(retIem != null){
				if(fieldAddrParam.equalsIgnoreCase("TAB0_POSTCODE")){
					semmmm001Bean.getVendorAddrObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB1_POSTCODE")){
					semmmm001Bean.getRentalAddrObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB2_POSTCODE")){
					semmmm001Bean.getElectrictAddrObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB3_POSTCODE")){
					semmmm001Bean.getPropertyAddrObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB4_POSTCODE")){
					semmmm001Bean.getInsureAddrObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB5_POSTCODE")){
					semmmm001Bean.getConstructAddrObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB6_POSTCODE")){
					semmmm001Bean.getWithholdAddrObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB0_CMP_POSTCODE")){
					semmmm001Bean.getVendorAddrCmpObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB1_CMP_POSTCODE")){
					semmmm001Bean.getRentalAddrCmpObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB2_CMP_POSTCODE")){
					semmmm001Bean.getElectrictAddrCmpObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB3_CMP_POSTCODE")){
					semmmm001Bean.getPropertyAddrCmpObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB4_CMP_POSTCODE")){
					semmmm001Bean.getInsureAddrCmpObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB5_CMP_POSTCODE")){
					semmmm001Bean.getConstructAddrCmpObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB6_CMP_POSTCODE")){
					semmmm001Bean.getWithholdAddrCmpObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("PAYEE_POSTCODE")){
					semmmm001Bean.getPayeeInfo().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("PAYEE_CMP_POSTCODE")){
					semmmm001Bean.getPayeeInfoCmpObj().setPostCode(retIem.getDescription());
				} 
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doFillinPostCode >> END :::");
		}
	}
	
	public void doSearchPayee() {
		LOG.info("::: SEMMMM001Action :: doSearchPayee >> BEGIN :::");
		
		try{
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			List<Mmm001PayeeSP> payeeResultList = null;
//			String payeeName = getFacesUtils().getRequestParameter("payeeNameParam") == null ? "" : 
//				   (String) getFacesUtils().getRequestParameter("payeeNameParam");
//			String idCard = getFacesUtils().getRequestParameter("idCardParam") == null ? "" : 
//				   (String) getFacesUtils().getRequestParameter("idCardParam");
//			String taxId = getFacesUtils().getRequestParameter("taxIdParam") == null ? "" : 
//				   (String) getFacesUtils().getRequestParameter("taxIdParam");
			String payeeName = SemUtils.emptyString(semmmm001Bean.getPayeeInfo().getPayeeName());
			String idCard = SemUtils.emptyString(semmmm001Bean.getPayeeInfo().getIdCard());
			String taxId = SemUtils.emptyString(semmmm001Bean.getPayeeInfo().getTaxId());
			
			LOG.debug(">> payeeName: " + payeeName);
			LOG.debug(">> idCard: " + idCard);
			LOG.debug(">> taxId: " + taxId);
			
			semmmm001Bean.setScrollerPage("1");
			
			Mmm001PayeeSP tmpPayeeParam = new Mmm001PayeeSP();
			if(payeeName != null)tmpPayeeParam.setPayeeName(payeeName.trim());
			if(idCard != null)tmpPayeeParam.setIdCard(idCard.trim());
			if(taxId != null)tmpPayeeParam.setTaxId(taxId.trim());
			
			// -- payee list
			payeeResultList = service.querySPList(EQueryName.SEM_SAP_CHECK_PAYEE_POPUP.name, tmpPayeeParam);
			
			semmmm001Bean.setPopupPayeeResultList(new ArrayList<WrapperBeanObject<Mmm001PayeeSP>>()); // clear object
			
			if(payeeResultList != null && payeeResultList.size() != 0) {
				for (int i=0; i<payeeResultList.size(); i++) {
					Mmm001PayeeSP obj = (Mmm001PayeeSP) payeeResultList.get(i);
					WrapperBeanObject<Mmm001PayeeSP> tmpWrapperBean = new WrapperBeanObject<Mmm001PayeeSP>();
					
					tmpWrapperBean.setDataObj(obj);
					tmpWrapperBean.setMessage("");
					tmpWrapperBean.setCheckBox(false);
					semmmm001Bean.getPopupPayeeResultList().add(tmpWrapperBean);
				}
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSearchPayee >> END :::");
		}
	}
	
	public void doSelectPayeePopup() {
		LOG.info("::: SEMMMM001Action :: doSelectPayeePopup >> BEGIN :::");
		
		try{
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			List<Mmm001PayeeSP> payeeResultList = null;
			
			String saveFlag = semmmm001Bean.getPayeeInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getPayeeInfo().getSaveFlag();
			//String payeeCode = getFacesUtils().getRequestParameter("payeeCodeParam") == null ? "" : 
			//	   (String) getFacesUtils().getRequestParameter("payeeCodeParam");
			
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("payeeIdParam");
			
			LOG.debug(">> saveFlag: " + saveFlag);
			//LOG.debug(">> payeeCode: " + payeeCode);
			LOG.debug(">> payeeId: " + payeeId);
			
//			if(saveFlag.equalsIgnoreCase("C")){
//				
//				// -- payee detail (CMP)
//				this.doGetPayeeInfoCmpByPayeeParam("", "", payeeId, "");
//				
//				//test
//				/*semmmm001Bean.getPayeeInfoCmpObj().setPayeeAddress1("test addr1");
//				semmmm001Bean.getPayeeInfoCmpObj().setPayeeAddress2("test addr2");
//				semmmm001Bean.getPayeeInfoCmpObj().setTambol("X");
//				semmmm001Bean.getPayeeInfoCmpObj().setTambolName("test tambol X");
//				semmmm001Bean.getPayeeInfoCmpObj().setAmphur("X");
//				semmmm001Bean.getPayeeInfoCmpObj().setAmphurName("test amphur X");
//				semmmm001Bean.getPayeeInfoCmpObj().setProvince("13");
//				semmmm001Bean.getPayeeInfoCmpObj().setPostCode("12345");*/
//			} else {
				
				// -- payee detail
				this.doGetPayeeInfoByPayeeParam("", "",	payeeId, "");
				
				//test
				/*semmmm001Bean.getPayeeInfo().setPayeeAddress1("test addr1");
				semmmm001Bean.getPayeeInfo().setPayeeAddress2("test addr2");
				semmmm001Bean.getPayeeInfo().setTambol("X");
				semmmm001Bean.getPayeeInfo().setTambolName("test tambol X");
				semmmm001Bean.getPayeeInfo().setAmphur("X");
				semmmm001Bean.getPayeeInfo().setAmphurName("test amphur X");
				semmmm001Bean.getPayeeInfo().setProvince("13");
				semmmm001Bean.getPayeeInfo().setPostCode("12345");*/
//			}
				
			this.doGetPayeeAddressByVendorParam("",payeeId);
				
			this.doSetPayeeLocation();
			
			if(semmmm001Bean.getContractInfo().getContractNo() != null)
				semmmm001Bean.getPayeeInfo().setContractNo(semmmm001Bean.getContractInfo().getContractNo());
			
			if(semmmm001Bean.getVendorInfo().getVendorId() != null)
				semmmm001Bean.getPayeeInfo().setVendorId(semmmm001Bean.getVendorInfo().getVendorId());
			
			if(semmmm001Bean.getExpCntrctOfVndObj().getExpenseType() != null)
				semmmm001Bean.getPayeeInfo().setExpenseType(semmmm001Bean.getExpCntrctOfVndObj().getExpenseType());
			
			if(semmmm001Bean.getVendorInfo().getVendorMapPayeeId() != null)
				semmmm001Bean.getPayeeInfo().setVendorMapPayeeId(semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
			
			
			if(saveFlag != null && !StringUtils.equals("", saveFlag)){
				semmmm001Bean.getPayeeInfo().setSaveFlag(saveFlag);
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSelectPayeePopup >> END :::");
		}
	}
	
	public void doChkWithoutContract() {
		LOG.info("::: SEMMMM001Action :: doChkWithoutContract >> BEGIN :::");
		
		try{
			
			semmmm001Bean = getSemmmm001Bean();
			String actionId = getFacesUtils().getRequestParameter("actionId") == null ? "" : (String)getFacesUtils().getRequestParameter("actionId");
			if(semmmm001Bean.isOtherExpenseFlag() || (semmmm001Bean.getVendorInfo().getRemarkWithoutContract() != null 
					&& !StringUtils.equals("", semmmm001Bean.getVendorInfo().getRemarkWithoutContract()))){
				semmmm001Bean.setRenderedRemarkContract(true);
//				semmmm001Bean.setOtherExpenseFlag(true);
				
				semmmm001Bean.getExpCntrctOfVndObj().setContractNo("");			
				semmmm001Bean.getExpCntrctOfVndObj().setExpenseEffectiveDt(null);
				semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDt(null);
				semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDt(null);
				semmmm001Bean.getExpCntrctOfVndObj().setExpenseType("");
				semmmm001Bean.getExpCntrctOfVndObj().setPayType("");
				semmmm001Bean.getExpCntrctOfVndObj().setWithoutContractRemark("");
			}else{
				semmmm001Bean.setRenderedRemarkContract(false);
			}
			
			if(semmmm001Bean.isOtherExpenseFlag() || (semmmm001Bean.getExpCntrctOfVndObj().getContractNo() != null 
					&& !StringUtils.equals("", semmmm001Bean.getExpCntrctOfVndObj().getContractNo()))){
				semmmm001Bean.setDisablePaymentVendorCont(true);
				semmmm001Bean.setDisablePaymentVendorContVerify(true);
//				semmmm001Bean.setOtherExpenseFlag(true);
				if(semmmm001Bean.isOtherExpenseFlag()){
					semmmm001Bean.getExpCntrctOfVndObj().setContractNo("");			
					semmmm001Bean.getExpCntrctOfVndObj().setExpenseEffectiveDt(null);
					semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDt(null);
					semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDt(null);
					semmmm001Bean.getExpCntrctOfVndObj().setExpenseType("");
					semmmm001Bean.getExpCntrctOfVndObj().setPayType("");
					semmmm001Bean.getExpCntrctOfVndObj().setWithoutContractRemark("");
					//check disable DLL Company
//					if(semmmm001Bean.isOtherExpenseFlag()){
						semmmm001Bean.setDisableDLLCompany(false);
//					}else{
//						semmmm001Bean.setDisableDLLCompany(true);
//					}
				}else{
					//check disable DLL Company
						semmmm001Bean.setDisableDLLCompany(true);
				}
				
			}else{
				semmmm001Bean.setDisablePaymentVendorCont(false);
				semmmm001Bean.setDisablePaymentVendorContVerify(false);
			}
			
			semmmm001Bean.getExpCntrctOfVndObj().setChkWithoutContract(semmmm001Bean.isOtherExpenseFlag());
			
			if(StringUtils.equals("VENDOR_WITHOUT_CONTRACT", actionId))this.doValidateBtnPage();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doChkWithoutContract >> END :::");
		}
	}
	
	public void doCopyVendorInfoFromSAP(){
		LOG.info("::: SEMMMM001Action :: doCopyVendorInfoFromSAP >> BEGIN :::");

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			List<Mmm001SAPVendorSP> resultList = null;
			
//			Mmm001VendorSP = semmmm001Bean.getVendorInfoMissMatchWithSAPObj();
			
			String vendorId = semmmm001Bean.getVendorInfo().getVendorId() == null ? "" : 
				   (String)semmmm001Bean.getVendorInfo().getVendorId();
			
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);
			
			Mmm001CriteriaSP tmpCriteria = new Mmm001CriteriaSP();
			tmpCriteria.setVendorId(vendorId);
			tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
			
			if(vendorId != null && !vendorId.isEmpty())
			resultList = service.querySPList(EQueryName.SEM_SAP_GET_VENDOR.name, tmpCriteria);
			
			// --
			if(resultList != null && resultList.size() != 0){
				Mmm001SAPVendorSP prepareCallSAPObj = (Mmm001SAPVendorSP) resultList.get(0);
				
				List<Mmm001VendorSP> sapRetObjList = null;
				WsClientService sapService = new WsClientService();
				sapRetObjList = (List<Mmm001VendorSP>) sapService.getven(prepareCallSAPObj);
				
				// --
				if(sapRetObjList != null && sapRetObjList.size() != 0){
					Mmm001VendorSP obj = (Mmm001VendorSP) sapRetObjList.get(0);
					
					// --
					List<Mmm001VendorSP> resultMapSAPList = null;
					if(obj != null){
						obj.setVendorId(semmmm001Bean.getVendorInfo().getVendorId()); //
						resultMapSAPList = service.querySPList(EQueryName.SEM_SAP_MAP_VENDOR_INFO.name, obj);
					}
					
					if(resultMapSAPList != null && resultMapSAPList.size() != 0){
						Mmm001VendorSP mapSAPObj = (Mmm001VendorSP) resultMapSAPList.get(0);

						if(mapSAPObj != null){
							// vendor detail
							if(mapSAPObj.getVendorType() != null)semmmm001Bean.getVendorInfo().setVendorType(mapSAPObj.getVendorType());
							if(mapSAPObj.getVendorBlockStatus() != null){
								semmmm001Bean.getVendorInfo().setVendorBlockStatus(mapSAPObj.getVendorBlockStatus());
								semmmm001Bean.setVendorBlockStatus(mapSAPObj.getVendorBlockStatus() == "Y" ? true : false);
							}
							if(mapSAPObj.getNotPayee() != null){
								semmmm001Bean.getVendorInfo().setNotPayee(mapSAPObj.getNotPayee());
								semmmm001Bean.getVendorInfo().setNotPayeeFlag(mapSAPObj.getNotPayee());
								semmmm001Bean.setNotPayeeFlagSAP(mapSAPObj.getNotPayee() == "Y" ? true : false);
							}
							if(mapSAPObj.getVendorCode() != null)semmmm001Bean.getVendorInfo().setVendorCode(mapSAPObj.getVendorCode());
							if(mapSAPObj.getVendorName1() != null)semmmm001Bean.getVendorInfo().setVendorName1(mapSAPObj.getVendorName1());
							if(mapSAPObj.getVendorName2() != null)semmmm001Bean.getVendorInfo().setVendorName2(mapSAPObj.getVendorName2());
							if(mapSAPObj.getVendorName3() != null)semmmm001Bean.getVendorInfo().setVendorName3(mapSAPObj.getVendorName3());
							if(mapSAPObj.getVendorName4() != null)semmmm001Bean.getVendorInfo().setVendorName4(mapSAPObj.getVendorName4());
							if(mapSAPObj.getIdCard() != null)semmmm001Bean.getVendorInfo().setIdCard(mapSAPObj.getIdCard());
							if(mapSAPObj.getTaxId() != null)semmmm001Bean.getVendorInfo().setTaxId(mapSAPObj.getTaxId());
							if(mapSAPObj.getBranchNo() != null)semmmm001Bean.getVendorInfo().setBranchNo(mapSAPObj.getBranchNo());
							if(mapSAPObj.getWhtId() != null)semmmm001Bean.getVendorInfo().setWhtId(mapSAPObj.getWhtId());
							if(mapSAPObj.getIncludeVAT() != null)semmmm001Bean.getVendorInfo().setChkVAT(mapSAPObj.getIncludeVAT() == "Y" ? true : false);
							
							// -- address and contact info
							LOG.debug("mapSAPObj.getTambol() : "+ mapSAPObj.getTambol());
							LOG.debug("mapSAPObj.getAmphur() : "+ mapSAPObj.getAmphur());
							LOG.debug("mapSAPObj.getProvince() : "+ mapSAPObj.getProvince());
							if(mapSAPObj.getAddress1() != null)semmmm001Bean.getVendorAddrObj().setAddress1(mapSAPObj.getAddress1());
							if(mapSAPObj.getAddress2() != null)semmmm001Bean.getVendorAddrObj().setAddress2(mapSAPObj.getAddress2());
//							if(mapSAPObj.getTambol() != null)semmmm001Bean.getVendorAddrObj().setTambol(mapSAPObj.getTambol());
//							if(mapSAPObj.getAmphur() != null)semmmm001Bean.getVendorAddrObj().setAmphur(mapSAPObj.getAmphur());
							if(mapSAPObj.getProvince() != null)semmmm001Bean.getVendorAddrObj().setProvince(mapSAPObj.getProvince());
							if(mapSAPObj.getPostCode() != null)semmmm001Bean.getVendorAddrObj().setPostCode(mapSAPObj.getPostCode());
							
							if(mapSAPObj.getTelephone() != null)semmmm001Bean.getVendorAddrObj().setTelephone(mapSAPObj.getTelephone());
							if(mapSAPObj.getMobileNo() != null)semmmm001Bean.getVendorAddrObj().setMobileNo(mapSAPObj.getMobileNo());
							if(mapSAPObj.getFax() != null)semmmm001Bean.getVendorAddrObj().setFax(mapSAPObj.getFax());
							if(mapSAPObj.getEmail() != null)semmmm001Bean.getVendorAddrObj().setEmail(mapSAPObj.getEmail());
							
//							if(mapSAPObj.getTambol() != null)semmmm001Bean.getVendorAddrObj().setChkTambolOther(mapSAPObj.getTambol() != null && mapSAPObj.getTambol().equalsIgnoreCase("X") ? true : false);
//							if(mapSAPObj.getAmphur() != null)semmmm001Bean.getVendorAddrObj().setChkAmphurOther(mapSAPObj.getAmphur() != null && mapSAPObj.getAmphur().equalsIgnoreCase("X") ? true : false);
							if(mapSAPObj.getTambolName() != null){
								semmmm001Bean.getVendorAddrObj().setTambolName(mapSAPObj.getTambolName());
								semmmm001Bean.getVendorAddrObj().setChkTambolOther(mapSAPObj.getTambol() != null && mapSAPObj.getTambol().equalsIgnoreCase("X") ? true : false);
							}
							if(mapSAPObj.getAmphurName() != null){
								semmmm001Bean.getVendorAddrObj().setAmphurName(semmmm001Bean.getVendorAddrObj().isChkAmphurOther() ? mapSAPObj.getAmphurName() : "");
								semmmm001Bean.getVendorAddrObj().setChkAmphurOther(mapSAPObj.getAmphur() != null && mapSAPObj.getAmphur().equalsIgnoreCase("X") ? true : false);
							}
							
							semmmm001Bean.getVendorAddrObj().setChkLocalDepartment(false);
							if(mapSAPObj.getTelephone() != null)semmmm001Bean.getVendorAddrObj().setChkTelephoneSapFlag(mapSAPObj.getTelephone() != null && !mapSAPObj.getTelephone().isEmpty() ? true : false);
							if(mapSAPObj.getMobileNo() != null)semmmm001Bean.getVendorAddrObj().setChkMobileNoSapFlag(mapSAPObj.getMobileNo() != null && !mapSAPObj.getMobileNo().isEmpty() ? true : false);
							if(mapSAPObj.getFax() != null)semmmm001Bean.getVendorAddrObj().setChkFaxSapFlag(mapSAPObj.getFax() != null && !mapSAPObj.getFax().isEmpty() ? true : false);
							if(mapSAPObj.getEmail() != null)semmmm001Bean.getVendorAddrObj().setChkEmailSapFlag(mapSAPObj.getEmail() != null && !mapSAPObj.getEmail().isEmpty() ? true : false);
							
						}
					}
				}
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doCopyVendorInfoFromSAP >> END :::");
		}
	}
	
	public void doCopyVendorAddr() {
		LOG.info("::: SEMMMM001Action :: doCopyVendorAddr >> BEGIN :::");
		
		try{
			
			semmmm001Bean = getSemmmm001Bean();
			
			String pageParam = getFacesUtils().getRequestParameter("pageParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("pageParam");
			String vendorIdParam = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorIdParam");
			
			LOG.debug(">> page: " + pageParam);
			LOG.debug(">> vendorIdParam: " + vendorIdParam);
			
			// -- address
			Mmm001AddressSP vendorAddr = new Mmm001AddressSP();
			String vendorAddr1 = semmmm001Bean.getVendorAddrObj().getAddress1();
			String vendorAddr2 = semmmm001Bean.getVendorAddrObj().getAddress2();
			String vendorTambol = semmmm001Bean.getVendorAddrObj().getTambol();
			String vendorAmphur = semmmm001Bean.getVendorAddrObj().getAmphur();
			String vendorTambolName = semmmm001Bean.getVendorAddrObj().getTambolName();
			String vendorAmphurName = semmmm001Bean.getVendorAddrObj().getAmphurName();
			String vendorProvince = semmmm001Bean.getVendorAddrObj().getProvince();
			boolean chkTambolOther = semmmm001Bean.getVendorAddrObj().isChkTambolOther();
			boolean chkAmphurOther = semmmm001Bean.getVendorAddrObj().isChkAmphurOther();
			boolean chkLocalDprtmnt = semmmm001Bean.getVendorAddrObj().isChkLocalDepartment();
			String vendorPostCode = semmmm001Bean.getVendorAddrObj().getPostCode();
			
			String vendorContactName = semmmm001Bean.getVendorAddrObj().getContactName();
			String vendorTelephone = semmmm001Bean.getVendorAddrObj().getTelephone();
			String vendorMobileNo = semmmm001Bean.getVendorAddrObj().getMobileNo();
			String vendorFax = semmmm001Bean.getVendorAddrObj().getFax();
			String vendorEmail = semmmm001Bean.getVendorAddrObj().getEmail();
			
			Province province = new Province();
			province.setProvinceCode(vendorProvince);
			List<SelectItem> amphurList = getAmphurListByProvince_SEM(province);
			List<SelectItem> tambolList = getDistrictListByProvinceAmphur_SEM(province, vendorAmphur);
			
			if(pageParam.equalsIgnoreCase("PAGE_PAYEE")){
//				if(semmmm001Bean.getPayeeInfo().getSaveFlag() != null &&
//				   semmmm001Bean.getPayeeInfo().getSaveFlag().equalsIgnoreCase("C")){
//					semmmm001Bean.getPayeeInfoCmpObj().setPayeeAddress1(vendorAddr1);	
//					semmmm001Bean.getPayeeInfoCmpObj().setPayeeAddress2(vendorAddr2);	
//					semmmm001Bean.getPayeeInfoCmpObj().setTambol(vendorTambol);		
//					semmmm001Bean.getPayeeInfoCmpObj().setAmphur(vendorAmphur);		
//					semmmm001Bean.getPayeeInfoCmpObj().setProvince(vendorProvince);	
//					semmmm001Bean.getPayeeInfoCmpObj().setPostCode(vendorPostCode);	
//					
//					semmmm001Bean.getPayeeInfoCmpObj().setProvinceList(getProvinceList_SEM());
//					semmmm001Bean.getPayeeInfoCmpObj().setAmphurList(amphurList);
//					semmmm001Bean.getPayeeInfoCmpObj().setTambolList(tambolList);
//					
//					// --
//					semmmm001Bean.getPayeeInfoCmpObj().setChkTambolOther(chkTambolOther);
//					semmmm001Bean.getPayeeInfoCmpObj().setChkAmphurOther(chkAmphurOther);
//					semmmm001Bean.getPayeeInfoCmpObj().setTambolName(semmmm001Bean.getPayeeInfoCmpObj().isChkTambolOther() ? vendorTambolName : "");
//					semmmm001Bean.getPayeeInfoCmpObj().setAmphurName(semmmm001Bean.getPayeeInfoCmpObj().isChkAmphurOther() ? vendorAmphurName : "");
//					semmmm001Bean.getPayeeInfoCmpObj().setChkLocalDepartment(chkLocalDprtmnt);
//				} else {
//					semmmm001Bean.getPayeeInfo().setPayeeAddress1(vendorAddr1);	
//					semmmm001Bean.getPayeeInfo().setPayeeAddress2(vendorAddr2);	
//					semmmm001Bean.getPayeeInfo().setTambol(vendorTambol);		
//					semmmm001Bean.getPayeeInfo().setAmphur(vendorAmphur);		
//					semmmm001Bean.getPayeeInfo().setProvince(vendorProvince);	
//					semmmm001Bean.getPayeeInfo().setPostCode(vendorPostCode);	
//					
//					semmmm001Bean.getPayeeInfo().setProvinceList(getProvinceList_SEM());
//					semmmm001Bean.getPayeeInfo().setAmphurList(amphurList);
//					semmmm001Bean.getPayeeInfo().setTambolList(tambolList);
//					
//					// --
//					semmmm001Bean.getPayeeInfo().setChkTambolOther(chkTambolOther);
//					semmmm001Bean.getPayeeInfo().setChkAmphurOther(chkAmphurOther);
//					semmmm001Bean.getPayeeInfo().setTambolName(semmmm001Bean.getPayeeInfo().isChkTambolOther() ? vendorTambolName : "");
//					semmmm001Bean.getPayeeInfo().setAmphurName(semmmm001Bean.getPayeeInfo().isChkAmphurOther() ? vendorAmphurName : "");
//					semmmm001Bean.getPayeeInfo().setChkLocalDepartment(chkLocalDprtmnt);
//				}
				semmmm001Bean.getPayeeAddrObj().setAddress1(vendorAddr1);	
				semmmm001Bean.getPayeeAddrObj().setAddress2(vendorAddr2);	
				semmmm001Bean.getPayeeAddrObj().setTambol(vendorTambol);		
				semmmm001Bean.getPayeeAddrObj().setAmphur(vendorAmphur);		
				semmmm001Bean.getPayeeAddrObj().setProvince(vendorProvince);	
				semmmm001Bean.getPayeeAddrObj().setPostCode(vendorPostCode);	
				
				semmmm001Bean.getPayeeAddrObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getPayeeAddrObj().setAmphurList(amphurList);
				semmmm001Bean.getPayeeAddrObj().setTambolList(tambolList);
				
				// --
				semmmm001Bean.getPayeeAddrObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getPayeeAddrObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getPayeeAddrObj().setTambolName(semmmm001Bean.getPayeeAddrObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getPayeeAddrObj().setAmphurName(semmmm001Bean.getPayeeAddrObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getPayeeAddrObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getPayeeAddrObj().setContactName(vendorContactName);
				semmmm001Bean.getPayeeAddrObj().setTelephone(vendorTelephone);
				semmmm001Bean.getPayeeAddrObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getPayeeAddrObj().setFax(vendorFax);
				semmmm001Bean.getPayeeAddrObj().setEmail(vendorEmail);
			}
			
			if(pageParam.equalsIgnoreCase("TAB_01")){
				semmmm001Bean.getRentalAddrObj().setAddress1(vendorAddr1);	
				semmmm001Bean.getRentalAddrObj().setAddress2(vendorAddr2);	
				semmmm001Bean.getRentalAddrObj().setTambol(vendorTambol);		
				semmmm001Bean.getRentalAddrObj().setAmphur(vendorAmphur);		
				semmmm001Bean.getRentalAddrObj().setProvince(vendorProvince);	
				semmmm001Bean.getRentalAddrObj().setPostCode(vendorPostCode);	
				
				semmmm001Bean.getRentalAddrObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getRentalAddrObj().setAmphurList(amphurList);
				semmmm001Bean.getRentalAddrObj().setTambolList(tambolList);
				
				// --
				semmmm001Bean.getRentalAddrObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getRentalAddrObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getRentalAddrObj().setTambolName(semmmm001Bean.getRentalAddrObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getRentalAddrObj().setAmphurName(semmmm001Bean.getRentalAddrObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getRentalAddrObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getRentalAddrObj().setContactName(vendorContactName);
				semmmm001Bean.getRentalAddrObj().setTelephone(vendorTelephone);
				semmmm001Bean.getRentalAddrObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getRentalAddrObj().setFax(vendorFax);
				semmmm001Bean.getRentalAddrObj().setEmail(vendorEmail);
			}
			
			if(pageParam.equalsIgnoreCase("TAB_02")){
				semmmm001Bean.getElectrictAddrObj().setAddress1(vendorAddr1);	
				semmmm001Bean.getElectrictAddrObj().setAddress2(vendorAddr2);	
				semmmm001Bean.getElectrictAddrObj().setTambol(vendorTambol);		
				semmmm001Bean.getElectrictAddrObj().setAmphur(vendorAmphur);		
				semmmm001Bean.getElectrictAddrObj().setProvince(vendorProvince);	
				semmmm001Bean.getElectrictAddrObj().setPostCode(vendorPostCode);	
				
				semmmm001Bean.getElectrictAddrObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getElectrictAddrObj().setAmphurList(amphurList);
				semmmm001Bean.getElectrictAddrObj().setTambolList(tambolList);

				// --
				semmmm001Bean.getElectrictAddrObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getElectrictAddrObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getElectrictAddrObj().setTambolName(semmmm001Bean.getElectrictAddrObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getElectrictAddrObj().setAmphurName(semmmm001Bean.getElectrictAddrObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getElectrictAddrObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getElectrictAddrObj().setContactName(vendorContactName);
				semmmm001Bean.getElectrictAddrObj().setTelephone(vendorTelephone);
				semmmm001Bean.getElectrictAddrObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getElectrictAddrObj().setFax(vendorFax);
				semmmm001Bean.getElectrictAddrObj().setEmail(vendorEmail);
			}
			
			if(pageParam.equalsIgnoreCase("TAB_03")){
				semmmm001Bean.getPropertyAddrObj().setAddress1(vendorAddr1);	
				semmmm001Bean.getPropertyAddrObj().setAddress2(vendorAddr2);	
				semmmm001Bean.getPropertyAddrObj().setTambol(vendorTambol);		
				semmmm001Bean.getPropertyAddrObj().setAmphur(vendorAmphur);		
				semmmm001Bean.getPropertyAddrObj().setProvince(vendorProvince);	
				semmmm001Bean.getPropertyAddrObj().setPostCode(vendorPostCode);	
				
				semmmm001Bean.getPropertyAddrObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getPropertyAddrObj().setAmphurList(amphurList);
				semmmm001Bean.getPropertyAddrObj().setTambolList(tambolList);
				
				// --
				semmmm001Bean.getPropertyAddrObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getPropertyAddrObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getPropertyAddrObj().setTambolName(semmmm001Bean.getPropertyAddrObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getPropertyAddrObj().setAmphurName(semmmm001Bean.getPropertyAddrObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getPropertyAddrObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getPropertyAddrObj().setContactName(vendorContactName);
				semmmm001Bean.getPropertyAddrObj().setTelephone(vendorTelephone);
				semmmm001Bean.getPropertyAddrObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getPropertyAddrObj().setFax(vendorFax);
				semmmm001Bean.getPropertyAddrObj().setEmail(vendorEmail);
			}
			
			if(pageParam.equalsIgnoreCase("TAB_04")){
				semmmm001Bean.getInsureAddrObj().setAddress1(vendorAddr1);	
				semmmm001Bean.getInsureAddrObj().setAddress2(vendorAddr2);	
				semmmm001Bean.getInsureAddrObj().setTambol(vendorTambol);		
				semmmm001Bean.getInsureAddrObj().setAmphur(vendorAmphur);		
				semmmm001Bean.getInsureAddrObj().setProvince(vendorProvince);	
				semmmm001Bean.getInsureAddrObj().setPostCode(vendorPostCode);	
				
				semmmm001Bean.getInsureAddrObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getInsureAddrObj().setAmphurList(amphurList);
				semmmm001Bean.getInsureAddrObj().setTambolList(tambolList);
				
				// --
				semmmm001Bean.getInsureAddrObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getInsureAddrObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getInsureAddrObj().setTambolName(semmmm001Bean.getInsureAddrObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getInsureAddrObj().setAmphurName(semmmm001Bean.getInsureAddrObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getInsureAddrObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getInsureAddrObj().setContactName(vendorContactName);
				semmmm001Bean.getInsureAddrObj().setTelephone(vendorTelephone);
				semmmm001Bean.getInsureAddrObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getInsureAddrObj().setFax(vendorFax);
				semmmm001Bean.getInsureAddrObj().setEmail(vendorEmail);
			}
			
			if(pageParam.equalsIgnoreCase("TAB_05")){
				semmmm001Bean.getConstructAddrObj().setAddress1(vendorAddr1);	
				semmmm001Bean.getConstructAddrObj().setAddress2(vendorAddr2);	
				semmmm001Bean.getConstructAddrObj().setTambol(vendorTambol);		
				semmmm001Bean.getConstructAddrObj().setAmphur(vendorAmphur);		
				semmmm001Bean.getConstructAddrObj().setProvince(vendorProvince);	
				semmmm001Bean.getConstructAddrObj().setPostCode(vendorPostCode);	
				
				semmmm001Bean.getConstructAddrObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getConstructAddrObj().setAmphurList(amphurList);
				semmmm001Bean.getConstructAddrObj().setTambolList(tambolList);
				
				// --
				semmmm001Bean.getConstructAddrObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getConstructAddrObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getConstructAddrObj().setTambolName(semmmm001Bean.getConstructAddrObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getConstructAddrObj().setAmphurName(semmmm001Bean.getConstructAddrObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getConstructAddrObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getConstructAddrObj().setContactName(vendorContactName);
				semmmm001Bean.getConstructAddrObj().setTelephone(vendorTelephone);
				semmmm001Bean.getConstructAddrObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getConstructAddrObj().setFax(vendorFax);
				semmmm001Bean.getConstructAddrObj().setEmail(vendorEmail);
			}
			
			if(pageParam.equalsIgnoreCase("TAB_06")){
				semmmm001Bean.getWithholdAddrObj().setAddress1(vendorAddr1);	
				semmmm001Bean.getWithholdAddrObj().setAddress2(vendorAddr2);	
				semmmm001Bean.getWithholdAddrObj().setTambol(vendorTambol);		
				semmmm001Bean.getWithholdAddrObj().setAmphur(vendorAmphur);		
				semmmm001Bean.getWithholdAddrObj().setProvince(vendorProvince);	
				semmmm001Bean.getWithholdAddrObj().setPostCode(vendorPostCode);	
				
				semmmm001Bean.getWithholdAddrObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getWithholdAddrObj().setAmphurList(amphurList);
				semmmm001Bean.getWithholdAddrObj().setTambolList(tambolList);
				
				// --
				semmmm001Bean.getWithholdAddrObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getWithholdAddrObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getWithholdAddrObj().setTambolName(semmmm001Bean.getWithholdAddrObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getWithholdAddrObj().setAmphurName(semmmm001Bean.getWithholdAddrObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getWithholdAddrObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getWithholdAddrObj().setContactName(vendorContactName);
				semmmm001Bean.getWithholdAddrObj().setTelephone(vendorTelephone);
				semmmm001Bean.getWithholdAddrObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getWithholdAddrObj().setFax(vendorFax);
				semmmm001Bean.getWithholdAddrObj().setEmail(vendorEmail);
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doCopyVendorAddr >> END :::");
		}
	}
	
	public void doCopyVendorAddrCmp() {
		LOG.info("::: SEMMMM001Action :: doCopyVendorAddrCmp >> BEGIN :::");
		
		try{
			
			semmmm001Bean = getSemmmm001Bean();
			
			String pageParam = getFacesUtils().getRequestParameter("pageParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("pageParam");
			String vendorIdParam = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			
			LOG.debug(">> page: " + pageParam);
			LOG.debug(">> vendorIdParam: " + vendorIdParam);
			
			// -- address
			Mmm001AddressSP vendorAddr = new Mmm001AddressSP();
			String vendorAddr1 = semmmm001Bean.getVendorAddrCmpObj().getAddress1();
			String vendorAddr2 = semmmm001Bean.getVendorAddrCmpObj().getAddress2();
			String vendorTambol = semmmm001Bean.getVendorAddrCmpObj().getTambol();
			String vendorAmphur = semmmm001Bean.getVendorAddrCmpObj().getAmphur();
			String vendorTambolName = semmmm001Bean.getVendorAddrCmpObj().getTambolName();
			String vendorAmphurName = semmmm001Bean.getVendorAddrCmpObj().getAmphurName();
			String vendorProvince = semmmm001Bean.getVendorAddrCmpObj().getProvince();
			boolean chkTambolOther = semmmm001Bean.getVendorAddrCmpObj().isChkTambolOther();
			boolean chkAmphurOther = semmmm001Bean.getVendorAddrCmpObj().isChkAmphurOther();
			boolean chkLocalDprtmnt = semmmm001Bean.getVendorAddrCmpObj().isChkLocalDepartment();
			String vendorPostCode = semmmm001Bean.getVendorAddrCmpObj().getPostCode();
			
			String vendorContactName = semmmm001Bean.getVendorAddrCmpObj().getContactName();
			String vendorTelephone = semmmm001Bean.getVendorAddrCmpObj().getTelephone();
			String vendorMobileNo = semmmm001Bean.getVendorAddrCmpObj().getMobileNo();
			String vendorFax = semmmm001Bean.getVendorAddrCmpObj().getFax();
			String vendorEmail = semmmm001Bean.getVendorAddrCmpObj().getEmail();
			
			Province province = new Province();
			province.setProvinceCode(vendorProvince);
			List<SelectItem> amphurList = getAmphurListByProvince_SEM(province);
			List<SelectItem> tambolList = getDistrictListByProvinceAmphur_SEM(province, vendorAmphur);
			
			if(pageParam.equalsIgnoreCase("TAB_01CMP")){
				semmmm001Bean.getRentalAddrCmpObj().setAddress1(vendorAddr1);
				semmmm001Bean.getRentalAddrCmpObj().setAddress2(vendorAddr2);
				semmmm001Bean.getRentalAddrCmpObj().setTambol(vendorTambol);
				semmmm001Bean.getRentalAddrCmpObj().setAmphur(vendorAmphur);
				semmmm001Bean.getRentalAddrCmpObj().setProvince(vendorProvince);
				semmmm001Bean.getRentalAddrCmpObj().setPostCode(vendorPostCode);
				
				semmmm001Bean.getRentalAddrCmpObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getRentalAddrCmpObj().setAmphurList(amphurList);
				semmmm001Bean.getRentalAddrCmpObj().setTambolList(tambolList);
				
				// --
				semmmm001Bean.getRentalAddrCmpObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getRentalAddrCmpObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getRentalAddrCmpObj().setTambolName(semmmm001Bean.getRentalAddrCmpObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getRentalAddrCmpObj().setAmphurName(semmmm001Bean.getRentalAddrCmpObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getRentalAddrCmpObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getRentalAddrCmpObj().setContactName(vendorContactName);
				semmmm001Bean.getRentalAddrCmpObj().setTelephone(vendorTelephone);
				semmmm001Bean.getRentalAddrCmpObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getRentalAddrCmpObj().setFax(vendorFax);
				semmmm001Bean.getRentalAddrCmpObj().setEmail(vendorEmail);
			}
			
			if(pageParam.equalsIgnoreCase("TAB_02CMP")){
				semmmm001Bean.getElectrictAddrCmpObj().setAddress1(vendorAddr1);	
				semmmm001Bean.getElectrictAddrCmpObj().setAddress2(vendorAddr2);	
				semmmm001Bean.getElectrictAddrCmpObj().setTambol(vendorTambol);		
				semmmm001Bean.getElectrictAddrCmpObj().setAmphur(vendorAmphur);		
				semmmm001Bean.getElectrictAddrCmpObj().setProvince(vendorProvince);	
				semmmm001Bean.getElectrictAddrCmpObj().setPostCode(vendorPostCode);	
				
				semmmm001Bean.getElectrictAddrCmpObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getElectrictAddrCmpObj().setAmphurList(amphurList);
				semmmm001Bean.getElectrictAddrCmpObj().setTambolList(tambolList);
				
				// --
				semmmm001Bean.getElectrictAddrCmpObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getElectrictAddrCmpObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getElectrictAddrCmpObj().setTambolName(semmmm001Bean.getElectrictAddrCmpObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getElectrictAddrCmpObj().setAmphurName(semmmm001Bean.getElectrictAddrCmpObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getElectrictAddrCmpObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getElectrictAddrCmpObj().setContactName(vendorContactName);
				semmmm001Bean.getElectrictAddrCmpObj().setTelephone(vendorTelephone);
				semmmm001Bean.getElectrictAddrCmpObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getElectrictAddrCmpObj().setFax(vendorFax);
				semmmm001Bean.getElectrictAddrCmpObj().setEmail(vendorEmail);
			}
			
			if(pageParam.equalsIgnoreCase("TAB_03CMP")){
				semmmm001Bean.getPropertyAddrCmpObj().setAddress1(vendorAddr1);	
				semmmm001Bean.getPropertyAddrCmpObj().setAddress2(vendorAddr2);	
				semmmm001Bean.getPropertyAddrCmpObj().setTambol(vendorTambol);		
				semmmm001Bean.getPropertyAddrCmpObj().setAmphur(vendorAmphur);		
				semmmm001Bean.getPropertyAddrCmpObj().setProvince(vendorProvince);	
				semmmm001Bean.getPropertyAddrCmpObj().setPostCode(vendorPostCode);	
				
				semmmm001Bean.getPropertyAddrCmpObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getPropertyAddrCmpObj().setAmphurList(amphurList);
				semmmm001Bean.getPropertyAddrCmpObj().setTambolList(tambolList);
				
				// --
				semmmm001Bean.getPropertyAddrCmpObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getPropertyAddrCmpObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getPropertyAddrCmpObj().setTambolName(semmmm001Bean.getPropertyAddrCmpObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getPropertyAddrCmpObj().setAmphurName(semmmm001Bean.getPropertyAddrCmpObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getPropertyAddrCmpObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getPropertyAddrCmpObj().setContactName(vendorContactName);
				semmmm001Bean.getPropertyAddrCmpObj().setTelephone(vendorTelephone);
				semmmm001Bean.getPropertyAddrCmpObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getPropertyAddrCmpObj().setFax(vendorFax);
				semmmm001Bean.getPropertyAddrCmpObj().setEmail(vendorEmail);
			}
			
			if(pageParam.equalsIgnoreCase("TAB_04CMP")){
				semmmm001Bean.getInsureAddrCmpObj().setAddress1(vendorAddr1);	
				semmmm001Bean.getInsureAddrCmpObj().setAddress2(vendorAddr2);	
				semmmm001Bean.getInsureAddrCmpObj().setTambol(vendorTambol);		
				semmmm001Bean.getInsureAddrCmpObj().setAmphur(vendorAmphur);		
				semmmm001Bean.getInsureAddrCmpObj().setProvince(vendorProvince);	
				semmmm001Bean.getInsureAddrCmpObj().setPostCode(vendorPostCode);	
				
				semmmm001Bean.getInsureAddrCmpObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getInsureAddrCmpObj().setAmphurList(amphurList);
				semmmm001Bean.getInsureAddrCmpObj().setTambolList(tambolList);
				
				// --
				semmmm001Bean.getInsureAddrCmpObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getInsureAddrCmpObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getInsureAddrCmpObj().setTambolName(semmmm001Bean.getInsureAddrCmpObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getInsureAddrCmpObj().setAmphurName(semmmm001Bean.getInsureAddrCmpObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getInsureAddrCmpObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getInsureAddrCmpObj().setContactName(vendorContactName);
				semmmm001Bean.getInsureAddrCmpObj().setTelephone(vendorTelephone);
				semmmm001Bean.getInsureAddrCmpObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getInsureAddrCmpObj().setFax(vendorFax);
				semmmm001Bean.getInsureAddrCmpObj().setEmail(vendorEmail);
			}
			
			if(pageParam.equalsIgnoreCase("TAB_05CMP")){
				semmmm001Bean.getConstructAddrCmpObj().setAddress1(vendorAddr1);	
				semmmm001Bean.getConstructAddrCmpObj().setAddress2(vendorAddr2);	
				semmmm001Bean.getConstructAddrCmpObj().setTambol(vendorTambol);		
				semmmm001Bean.getConstructAddrCmpObj().setAmphur(vendorAmphur);		
				semmmm001Bean.getConstructAddrCmpObj().setProvince(vendorProvince);	
				semmmm001Bean.getConstructAddrCmpObj().setPostCode(vendorPostCode);	
				
				semmmm001Bean.getConstructAddrCmpObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getConstructAddrCmpObj().setAmphurList(amphurList);
				semmmm001Bean.getConstructAddrCmpObj().setTambolList(tambolList);
				
				// --
				semmmm001Bean.getConstructAddrCmpObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getConstructAddrCmpObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getConstructAddrCmpObj().setTambolName(semmmm001Bean.getConstructAddrCmpObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getConstructAddrCmpObj().setAmphurName(semmmm001Bean.getConstructAddrCmpObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getConstructAddrCmpObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getConstructAddrCmpObj().setContactName(vendorContactName);
				semmmm001Bean.getConstructAddrCmpObj().setTelephone(vendorTelephone);
				semmmm001Bean.getConstructAddrCmpObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getConstructAddrCmpObj().setFax(vendorFax);
				semmmm001Bean.getConstructAddrCmpObj().setEmail(vendorEmail);
			}
			
			if(pageParam.equalsIgnoreCase("TAB_06CMP")){
				semmmm001Bean.getWithholdAddrCmpObj().setAddress1(vendorAddr1);	
				semmmm001Bean.getWithholdAddrCmpObj().setAddress2(vendorAddr2);	
				semmmm001Bean.getWithholdAddrCmpObj().setTambol(vendorTambol);		
				semmmm001Bean.getWithholdAddrCmpObj().setAmphur(vendorAmphur);		
				semmmm001Bean.getWithholdAddrCmpObj().setProvince(vendorProvince);	
				semmmm001Bean.getWithholdAddrCmpObj().setPostCode(vendorPostCode);	
				
				semmmm001Bean.getWithholdAddrCmpObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getWithholdAddrCmpObj().setAmphurList(amphurList);
				semmmm001Bean.getWithholdAddrCmpObj().setTambolList(tambolList);
				
				// --
				semmmm001Bean.getWithholdAddrCmpObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getWithholdAddrCmpObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getWithholdAddrCmpObj().setTambolName(semmmm001Bean.getWithholdAddrCmpObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getWithholdAddrCmpObj().setAmphurName(semmmm001Bean.getWithholdAddrCmpObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getWithholdAddrCmpObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getWithholdAddrCmpObj().setContactName(vendorContactName);
				semmmm001Bean.getWithholdAddrCmpObj().setTelephone(vendorTelephone);
				semmmm001Bean.getWithholdAddrCmpObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getWithholdAddrCmpObj().setFax(vendorFax);
				semmmm001Bean.getWithholdAddrCmpObj().setEmail(vendorEmail);
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doCopyVendorAddrCmp >> END :::");
		}
	}
	
	public void doCopyBookbankInfoFromSAP(){
		LOG.info("::: SEMMMM001Action :: doCopyBookbankInfoFromSAP >> BEGIN :::");

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			Mmm001BookbankSP mapSAPObj = null;
			
			mapSAPObj = semmmm001Bean.getBookbankInfoMissMatchWithSAPObj();
			
			// --
			if(mapSAPObj != null && mapSAPObj.getRowId() != null){
				// bookbank detail
				if(mapSAPObj.getAccountType() != null && !mapSAPObj.getAccountType().isEmpty()) 
					semmmm001Bean.getBookbankInfo().setAccountType(mapSAPObj.getAccountType());
				if(mapSAPObj.getBankCode() != null && !mapSAPObj.getBankCode().isEmpty()) 
					semmmm001Bean.getBookbankInfo().setBankCode(mapSAPObj.getBankCode());
				if(mapSAPObj.getAccountNo() != null && !mapSAPObj.getAccountNo().isEmpty()) 
					semmmm001Bean.getBookbankInfo().setAccountNo(mapSAPObj.getAccountNo());
				if(mapSAPObj.getAccountName() != null && !mapSAPObj.getAccountName().isEmpty()) 
					semmmm001Bean.getBookbankInfo().setAccountName(mapSAPObj.getAccountName());
				
				if(mapSAPObj.getBankBranch() != null && !mapSAPObj.getBankBranch().isEmpty()) 
					semmmm001Bean.getBookbankInfo().setBankBranch(mapSAPObj.getBankBranch());
				if(mapSAPObj.getProvince() != null && !mapSAPObj.getProvince().isEmpty()) 
					semmmm001Bean.getBookbankInfo().setProvince(mapSAPObj.getProvince());
				if(mapSAPObj.getRemark() != null && !mapSAPObj.getRemark().isEmpty()) 
					semmmm001Bean.getBookbankInfo().setRemark(mapSAPObj.getRemark());
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doCopyBookbankInfoFromSAP >> END :::");
		}
	}
	
	public boolean doContractHistory() {
		LOG.info("::: SEMMMM001Action :: doContractHistory >> BEGIN :::");
		boolean flag = true;
		String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : (String) getFacesUtils().getRequestParameter("contractNoParam");
		String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("vendorIdParam");
		String bookbankId = getFacesUtils().getRequestParameter("bookbankIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("bookbankIdParam");
		String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("payeeIdParam");
		String bookbankPayeeId = getFacesUtils().getRequestParameter("bookbankPayeeIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("bookbankPayeeIdParam");
		String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
		String historyPage = getFacesUtils().getRequestParameter("historyPage") == null ? "" : (String) getFacesUtils().getRequestParameter("historyPage");
		LOG.debug(">> contractNo: " + contractNo);
		LOG.debug(">> vendorId: " + vendorId);
		String historyType = "contract";
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> historyPage: "+historyPage);
			Mmm001CriteriaSP tmpCriteria = new Mmm001CriteriaSP();
			tmpCriteria.setContractNo(contractNo);
			tmpCriteria.setVendorId(vendorId);
			tmpCriteria.setBookbankId(bookbankId);
			tmpCriteria.setPayeeId(payeeId);
			tmpCriteria.setBookbankPayeeId(bookbankPayeeId);
			tmpCriteria.setHistoryPage(historyPage);
			tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
			
			doGetVendor(tmpCriteria);
			
			
			
			/*
			 * TODO
			 * */
			
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doContractHistory >> END :::");
		}
		return flag;
	}
	
	public boolean doVendorHistory() {
		LOG.info("::: SEMMMM001Action :: doVendorHistory >> BEGIN :::");
		boolean flag = true;
		String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : (String) getFacesUtils().getRequestParameter("contractNoParam");
		String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("vendorIdParam");
		String bookbankId = getFacesUtils().getRequestParameter("bookbankIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("bookbankIdParam");
		String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("payeeIdParam");
		String bookbankPayeeId = getFacesUtils().getRequestParameter("bookbankPayeeIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("bookbankPayeeIdParam");
		String historyPage = getFacesUtils().getRequestParameter("historyPage") == null ? "" : (String) getFacesUtils().getRequestParameter("historyPage");
		String backButtonFlag = getFacesUtils().getRequestParameter("backButtonFlag") == null ? "" : (String) getFacesUtils().getRequestParameter("backButtonFlag");
		
//		LOG.debug(">> contractNo: " + contractNo);
//		LOG.debug(">> vendorId: " + vendorId);
//		String historyType = "contract";
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> bookbankId: "+bookbankId);
			LOG.debug(">> payeeId: "+payeeId);
			LOG.debug(">> bookbankPayeeId: "+bookbankPayeeId);
			LOG.debug(">> historyPage: "+historyPage);
			LOG.debug(">> backButtonFlag: "+backButtonFlag);
			Mmm001CriteriaSP tmpCriteria = new Mmm001CriteriaSP();
			tmpCriteria.setContractNo(contractNo);
			tmpCriteria.setVendorId(vendorId);
			tmpCriteria.setBookbankId(bookbankId);
			tmpCriteria.setPayeeId(payeeId);
			tmpCriteria.setBookbankPayeeId(bookbankPayeeId);
			tmpCriteria.setUserLogin(getUserLogIn());
			tmpCriteria.setHistoryPage(historyPage);
			tmpCriteria.setGroupType("H");
			tmpCriteria.setStrParam("H");
			
			if(StringUtils.equals("Y", backButtonFlag)){
				semmmm001Bean.setRenderedBtnBack(true);
				semmmm001Bean.setBackButtonFlag("Y");
			}else{
				semmmm001Bean.setRenderedBtnBack(false);
				semmmm001Bean.setBackButtonFlag("");
			}
			LOG.debug("getSaveFlag 1"+semmmm001Bean.getVendorInfo().getSaveFlag());
			doGetVendor(tmpCriteria);
			LOG.debug("getSaveFlag 2"+semmmm001Bean.getVendorInfo().getSaveFlag());
			doGetVendorAddressHistDetail( contractNo, vendorId);
			LOG.debug("getSaveFlag 3"+semmmm001Bean.getVendorInfo().getSaveFlag());
			
			/*
			 * TODO
			 * */
			
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doVendorHistory >> END :::");
		}
		return flag;
	}
	
	public boolean doBookbankHistory() {
		LOG.info("::: SEMMMM001Action :: doBookbankHistory >> BEGIN :::");
		boolean flag = true;
		String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : (String) getFacesUtils().getRequestParameter("contractNoParam");
		String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("vendorIdParam");
		String bookbankId = getFacesUtils().getRequestParameter("bookbankIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("bookbankIdParam");
		String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("payeeIdParam");
		String bookbankPayeeId = getFacesUtils().getRequestParameter("bookbankPayeeIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("bookbankPayeeIdParam");
		String historyPage = getFacesUtils().getRequestParameter("historyPage") == null ? "" : (String) getFacesUtils().getRequestParameter("historyPage");
		String backButtonFlag = getFacesUtils().getRequestParameter("backButtonFlag") == null ? "" : (String) getFacesUtils().getRequestParameter("backButtonFlag");
		
		LOG.debug(">> contractNo: " + contractNo);
		LOG.debug(">> vendorId: " + vendorId);
		String historyType = "contract";
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> historyPage: "+historyPage);
			Mmm001CriteriaSP tmpCriteria = new Mmm001CriteriaSP();
			tmpCriteria.setContractNo(contractNo);
			tmpCriteria.setVendorId(vendorId);
			tmpCriteria.setBookbankId(bookbankId);
			tmpCriteria.setVendorBookbankId(bookbankId);
			tmpCriteria.setPayeeId(payeeId);
			tmpCriteria.setBookbankPayeeId(bookbankPayeeId);
			tmpCriteria.setHistoryPage(historyPage);
			tmpCriteria.setGroupType("H");
			tmpCriteria.setStrParam("H");
			
			if(StringUtils.equals("Y", backButtonFlag)){
				semmmm001Bean.setRenderedBtnBack(true);
			}else{
				semmmm001Bean.setRenderedBtnBack(false);
			}
			
			doGetVendor(tmpCriteria);

			/*
			 * TODO
			 * */
			
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doBookbankHistory >> END :::");
		}
		return flag;
	}
	
	public boolean doPayeeHistory() {
		LOG.info("::: SEMMMM001Action :: doPayeeHistory >> BEGIN :::");
		boolean flag = true;
		String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : (String) getFacesUtils().getRequestParameter("contractNoParam");
		String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("vendorIdParam");
		String bookbankId = getFacesUtils().getRequestParameter("bookbankIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("bookbankIdParam");
		String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("payeeIdParam");
		String bookbankPayeeId = getFacesUtils().getRequestParameter("bookbankPayeeIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("bookbankPayeeIdParam");
		String historyPage = getFacesUtils().getRequestParameter("historyPage") == null ? "" : (String) getFacesUtils().getRequestParameter("historyPage");
		String backButtonFlag = getFacesUtils().getRequestParameter("backButtonFlag") == null ? "" : (String) getFacesUtils().getRequestParameter("backButtonFlag");
		LOG.debug(">> contractNo: " + contractNo);
		LOG.debug(">> vendorId: " + vendorId);
		String historyType = "contract";
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> historyPage: "+historyPage);
			Mmm001CriteriaSP tmpCriteria = new Mmm001CriteriaSP();
			tmpCriteria.setContractNo(contractNo);
			tmpCriteria.setVendorId(vendorId);
			tmpCriteria.setBookbankId(bookbankId);
			tmpCriteria.setPayeeId(payeeId);
			tmpCriteria.setBookbankPayeeId(bookbankPayeeId);
			tmpCriteria.setHistoryPage(historyPage);
			tmpCriteria.setGroupType("H");
			tmpCriteria.setStrParam("H");
			
			if(StringUtils.equals("Y", backButtonFlag)){
				semmmm001Bean.setRenderedBtnBack(true);
			}else{
				semmmm001Bean.setRenderedBtnBack(false);
			}
			
			doGetVendor(tmpCriteria);

			/*
			 * TODO
			 * */
			
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doPayeeHistory >> END :::");
		}
		return flag;
	}
	
	public boolean doBookbankPayeeHistory() {
		LOG.info("::: SEMMMM001Action :: doBookbankPayeeHistory >> BEGIN :::");
		boolean flag = true;
		String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : (String) getFacesUtils().getRequestParameter("contractNoParam");
		String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("vendorIdParam");
		String bookbankId = getFacesUtils().getRequestParameter("bookbankIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("bookbankIdParam");
		String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("payeeIdParam");
		String bookbankPayeeId = getFacesUtils().getRequestParameter("bookbankPayeeIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("bookbankPayeeIdParam");
		String historyPage = getFacesUtils().getRequestParameter("historyPage") == null ? "" : (String) getFacesUtils().getRequestParameter("historyPage");
		String backButtonFlag = getFacesUtils().getRequestParameter("backButtonFlag") == null ? "" : (String) getFacesUtils().getRequestParameter("backButtonFlag");
		LOG.debug(">> contractNo: " + contractNo);
		LOG.debug(">> vendorId: " + vendorId);
		String historyType = "contract";
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> historyPage: "+historyPage);
			Mmm001CriteriaSP tmpCriteria = new Mmm001CriteriaSP();
			tmpCriteria.setContractNo(contractNo);
			tmpCriteria.setVendorId(vendorId);
			tmpCriteria.setBookbankId(bookbankId);
			tmpCriteria.setPayeeId(payeeId);
			tmpCriteria.setBookbankPayeeId(bookbankPayeeId);
			tmpCriteria.setHistoryPage(historyPage);
			tmpCriteria.setGroupType("H");
			tmpCriteria.setStrParam("H");
			
			if(StringUtils.equals("Y", backButtonFlag)){
				semmmm001Bean.setRenderedBtnBack(true);
			}else{
				semmmm001Bean.setRenderedBtnBack(false);
			}
			
			doGetVendor(tmpCriteria);

			/*
			 * TODO
			 * */
			
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doBookbankPayeeHistory >> END :::");
		}
		return flag;
	}
	
	 private boolean doGetVendor(Mmm001CriteriaSP tmpCriteria) {
			LOG.info("::: SEMMMM001Action :: doNewVendor >> BEGIN :::");
			boolean flag = true;

			try {
				
				semmmm001Bean = getSemmmm001Bean();
				IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
				
				
				List<Mmm001ContractSP> contractResultList = new ArrayList<Mmm001ContractSP>();
				List<Mmm001VendorContractSP> vendorContractResultList = new ArrayList<Mmm001VendorContractSP>();			
				List<Mmm001VendorSP> vendorResultList = new ArrayList<Mmm001VendorSP>();
				List<Mmm001AddressSP> addressResultList = new ArrayList<Mmm001AddressSP>();
				List<Mmm001BookbankSP> bookbankResultList = new ArrayList<Mmm001BookbankSP>();
				List<Mmm001PayeeSP> payeeResultList = new ArrayList<Mmm001PayeeSP>();
				List<Mmm001BookbankPayeeSP> bookbankPayeeResultList = new ArrayList<Mmm001BookbankPayeeSP>();
				List<Mmm001HistorySP> masterHistorySP = new ArrayList<Mmm001HistorySP>();
				List<Mmm001VendorPayHistSP> contractPayHistoryList = new ArrayList<Mmm001VendorPayHistSP>();
				List<Mmm001ContractHistory> contractHistoryList = new ArrayList<Mmm001ContractHistory>();

				
				semmmm001Bean.setVendorAddrHistObj(new Mmm001AddressSP()); 		// clear object
				semmmm001Bean.setRentalAddrHistObj(new Mmm001AddressSP()); 		// clear object
				semmmm001Bean.setElectrictAddrHistObj(new Mmm001AddressSP()); 	// clear object
				semmmm001Bean.setPropertyAddrHistObj(new Mmm001AddressSP()); 	// clear object
				semmmm001Bean.setInsureAddrHistObj(new Mmm001AddressSP()); 		// clear object
				semmmm001Bean.setConstructAddrHistObj(new Mmm001AddressSP()); 	// clear object
				semmmm001Bean.setWithholdAddrHistObj(new Mmm001AddressSP()); 	// clear object
				
				semmmm001Bean.setContractInfoHist(new Mmm001ContractSP()); // clear object
				semmmm001Bean.setVendorContractHistList(new ArrayList<WrapperBeanObject<Mmm001VendorContractSP>>()); // clear object
				semmmm001Bean.setVendorInfoHist(new Mmm001VendorSP()); // clear object
				semmmm001Bean.setBookbankHistList(new ArrayList<WrapperBeanObject<Mmm001BookbankSP>>()); // clear object
				semmmm001Bean.setPayeeHistList(new ArrayList<WrapperBeanObject<Mmm001PayeeSP>>()); // clear object
				semmmm001Bean.setContractHistList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>()); // clear object
				semmmm001Bean.setVendorInfoHistSummaryList(new ArrayList<WrapperBeanObject<Mmm001VendorSP>>()); // clear object
				semmmm001Bean.setBookbankInfoHist(new Mmm001BookbankSP()); // clear object
				semmmm001Bean.setBookbankHistList(new ArrayList<WrapperBeanObject<Mmm001BookbankSP>>()); // clear object
				semmmm001Bean.setPayeeInfoHist(new Mmm001PayeeSP()); // clear object
				semmmm001Bean.setPayeeHistList(new ArrayList<WrapperBeanObject<Mmm001PayeeSP>>()); // clear object
				semmmm001Bean.setBookbankPayeeInfoHist(new Mmm001BookbankPayeeSP()); // clear object
				semmmm001Bean.setContractHistList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>()); // clear object
				semmmm001Bean.setContractHistoryList(new ArrayList<WrapperBeanObject<Mmm001ContractHistory>>()); // clear object
				semmmm001Bean.setContractPayHistoryList(new ArrayList<WrapperBeanObject<Mmm001ContractPayHistory>>()); // clear object
				semmmm001Bean.setRtPaymentHistoryList(new ArrayList<WrapperBeanObject<Mmm001VendorPayHistSP>>()); // clear object
				semmmm001Bean.setElPaymentHistoryList(new ArrayList<WrapperBeanObject<Mmm001VendorPayHistSP>>()); // clear object
				semmmm001Bean.setPtPaymentHistoryList(new ArrayList<WrapperBeanObject<Mmm001VendorPayHistSP>>()); // clear object
				semmmm001Bean.setIrPaymentHistoryList(new ArrayList<WrapperBeanObject<Mmm001VendorPayHistSP>>()); // clear object
				semmmm001Bean.setCtPaymentHistoryList(new ArrayList<WrapperBeanObject<Mmm001VendorPayHistSP>>()); // clear object
				
//				String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : (String) getFacesUtils().getRequestParameter("contractNoParam");
//				String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("vendorIdParam");
//				String historyPage = getFacesUtils().getRequestParameter("historyPage") == null ? "" : (String) getFacesUtils().getRequestParameter("historyPage");
//				LOG.debug(">> contractNo: " + contractNo);
//				LOG.debug(">> vendorId: " + vendorId);
//				LOG.debug(">> historyPage: "+historyPage);
				
				semmmm001Bean.setSelectedTab("tab0");
				semmmm001Bean.setPayeeSelectedTab("tabP0");

				if(StringUtils.isNotEmpty(tmpCriteria.getContractNo()) || StringUtils.isNotEmpty(tmpCriteria.getVendorId())){
					
					if(StringUtils.isEmpty(tmpCriteria.getContractNo())){
//						semmmm001Bean.setVisiblePnlContractInfo(false);
						
						semmmm001Bean.setContractInfoHist(new Mmm001ContractSP());
						semmmm001Bean.setVendorContractHistList(new ArrayList<WrapperBeanObject<Mmm001VendorContractSP>>());
						semmmm001Bean.setVendorInfoHist(new Mmm001VendorSP());
						semmmm001Bean.setBookbankHistList(new ArrayList<WrapperBeanObject<Mmm001BookbankSP>>());
						semmmm001Bean.setPayeeHistList(new ArrayList<WrapperBeanObject<Mmm001PayeeSP>>());
						semmmm001Bean.setContractHistList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
						
						semmmm001Bean.setDisableBtnSiteInfo(true);
						semmmm001Bean.setDisableBtnHistory(true);
						
						semmmm001Bean.setDisableContent(true); 
						semmmm001Bean.setDisableBtnEditVendor(true); 
						semmmm001Bean.setDisableBtnNewBookbank(true);
						semmmm001Bean.setDisableBtnNewPayee(true);
						semmmm001Bean.setRenderedPanelVendor(false);
					}else{
						semmmm001Bean.setRenderedPanelVendor(true);
//						semmmm001Bean.setVisiblePnlContractInfo(true);
						
						semmmm001Bean.setDisableContent(true); 
						
						semmmm001Bean.setDisableBtnSiteInfo(false);
						semmmm001Bean.setDisableBtnHistory(false);
						
						semmmm001Bean.setDisableBtnEditVendor(false); 
						semmmm001Bean.setDisableBtnNewBookbank(false);
						semmmm001Bean.setDisableBtnNewPayee(false);
					}
					
					
				
					// -- contract info
//					tmpCriteria = new Mmm001CriteriaSP();
//					tmpCriteria.setContractNo(contractNo);
//					tmpCriteria.setVendorId(vendorId);
					semmmm001Bean.setContractInfoHist(new Mmm001ContractSP());
					if(StringUtils.isNotEmpty(tmpCriteria.getContractNo())){
						contractResultList = service.querySPList(EQueryName.SEM_SAP_CONTRACT_DETAIL.name, tmpCriteria);
						
						semmmm001Bean.setContractInfoHist(new Mmm001ContractSP()); // clear object
						
						if(contractResultList != null && !contractResultList.isEmpty()) {
							LOG.debug(">> contractResultList.size() = " + contractResultList.size());
							Mmm001ContractSP obj = (Mmm001ContractSP) contractResultList.get(0);
							
							semmmm001Bean.setContractInfoHist(obj);
						}
					}
					
					
					// -- vendor contract list
//					tmpCriteria = new Mmm001CriteriaSP();
//					tmpCriteria.setContractNo(contractNo);
					vendorContractResultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_CONTRACT_LIST.name, tmpCriteria);
					
					semmmm001Bean.setVendorContractHistList(new ArrayList<WrapperBeanObject<Mmm001VendorContractSP>>()); // clear object
					
					if(vendorContractResultList != null && !vendorContractResultList.isEmpty()) {
						LOG.debug(">> vendorContractResultList.size() = " + vendorContractResultList.size());
						for (int i=0; i<vendorContractResultList.size(); i++) {
							Mmm001VendorContractSP obj = (Mmm001VendorContractSP) vendorContractResultList.get(i);
							WrapperBeanObject<Mmm001VendorContractSP> tmpWrapperBean = new WrapperBeanObject<Mmm001VendorContractSP>();
							
							tmpWrapperBean.setDataObj(obj);
							tmpWrapperBean.setMessage("");
							tmpWrapperBean.setCheckBox(false);
							semmmm001Bean.getVendorContractHistList().add(tmpWrapperBean);
						}
					}
					
					
					// -- vendor detail
					
//					tmpCriteria.setContractNo(contractNo);
//					tmpCriteria.setVendorId(vendorId);
//					tmpCriteria.setSaveFlag("");
					vendorResultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_DETAIL.name, tmpCriteria);
					
					semmmm001Bean.setVendorInfoHist(new Mmm001VendorSP()); // clear object
					
					if(vendorResultList != null && !vendorResultList.isEmpty()) {
						LOG.debug(">> vendorResultList.size() = " + vendorResultList.size());
						Mmm001VendorSP obj = (Mmm001VendorSP) vendorResultList.get(0);
						
						semmmm001Bean.setVendorInfoHist(obj);
						semmmm001Bean.getVendorInfoHist().setChkVAT(obj.getIncludeVAT().equalsIgnoreCase("Y") ? true : false);
					}
					
					// -- summary Vendor Hist 
//					semmmm001Bean.setVendorInfoHistSummary(new Mmm001VendorSP()); // clear object
					semmmm001Bean.setVendorInfoHistSummaryList(new ArrayList<WrapperBeanObject<Mmm001VendorSP>>());
//					LOG.debug(""+semmmm001Bean.getVendorInfoHistSummary)
					if(!tmpCriteria.getVendorId().isEmpty()){
						vendorResultList = service.querySPList(EQueryName.SEM_SAP_SUMMARY_VENDOR_HIST.name, tmpCriteria);
						
						
						
						if(vendorResultList != null && !vendorResultList.isEmpty() && vendorResultList.size() > 0) {
//							semmmm001Bean.getVendorInfoHistSummaryList();
							LOG.debug(">> vendorResultList.size() = " + vendorResultList.size());
							for(Mmm001VendorSP obj : vendorResultList){
//								Mmm001VendorSP obj = (Mmm001VendorSP) vendorResultList.get(0);
								WrapperBeanObject<Mmm001VendorSP> tmpWrapperBean = new WrapperBeanObject<Mmm001VendorSP>();
								if(obj.getEffectiveDt() != null){
									obj.setEffectiveDtStr(convertYearENtoTHStr(obj.getEffectiveDt()));
								}
								
								if(obj.getContractEffectiveDt() != null){
									obj.setContractEffectiveDtStr(convertYearENtoTHStr(obj.getContractEffectiveDt()));
								}
								
								if(obj.getContractExpireDt() != null){
									obj.setContractExpireDtStr(convertYearENtoTHStr(obj.getContractExpireDt()));
								}
								
								LOG.debug("obj.getVendorId() : "+obj.getVendorId());
								LOG.debug("getPayeeId() : "+obj.getPayeeId());
								LOG.debug("getPayeeBookbankId() : "+obj.getPayeeBookbankId());
								
//								semmmm001Bean.setVendorInfoHistSummary(obj);
								tmpWrapperBean.setDataObj(obj);
								tmpWrapperBean.setMessage("");
								tmpWrapperBean.setCheckBox(false);
								semmmm001Bean.getVendorInfoHistSummaryList().add(tmpWrapperBean);
							}
							
						}
					}
					
					
					// -- bank info
					semmmm001Bean.setBookbankInfoHist(new Mmm001BookbankSP()); // clear object
					
					if(!tmpCriteria.getBookbankId().isEmpty()){
						
						
						bookbankResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_DETAIL.name, tmpCriteria);
						
						if(bookbankResultList != null && bookbankResultList.size() != 0) {
							LOG.debug(">> bookbankResultList.size() = " + bookbankResultList.size());
							Mmm001BookbankSP obj = (Mmm001BookbankSP) bookbankResultList.get(0);
							LOG.debug(">> bookbankResult obj: " +  obj.toString());
							
							semmmm001Bean.setBookbankInfoHist(obj);
						}
					}
					
					// -- bookbank of vendor list
//					tmpCriteria = new Mmm001CriteriaSP();
//					tmpCriteria.setContractNo(contractNo);
//					tmpCriteria.setVendorId(vendorId);
					bookbankResultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_BOOKBANK_LIST.name, tmpCriteria);
					
					semmmm001Bean.setBookbankHistList(new ArrayList<WrapperBeanObject<Mmm001BookbankSP>>()); // clear object
					
					if(bookbankResultList != null && !bookbankResultList.isEmpty()) {
						LOG.debug(">> bookbankResultList.size() = " + bookbankResultList.size());
						for (int i=0; i<bookbankResultList.size(); i++) {
							Mmm001BookbankSP obj = (Mmm001BookbankSP) bookbankResultList.get(i);
							WrapperBeanObject<Mmm001BookbankSP> tmpWrapperBean = new WrapperBeanObject<Mmm001BookbankSP>();
							
							tmpWrapperBean.setDataObj(obj);
							tmpWrapperBean.setMessage("");
							tmpWrapperBean.setCheckBox(false);
							semmmm001Bean.getBookbankHistList().add(tmpWrapperBean);
						}
					}
					
					

					// -- payee info
					semmmm001Bean.setPayeeInfoHist(new Mmm001PayeeSP()); // clear object
					semmmm001Bean.getPayeeInfoHist().setProvinceList(getEmptyDropDown());
					semmmm001Bean.getPayeeInfoHist().setAmphurList(getEmptyDropDown());
					semmmm001Bean.getPayeeInfoHist().setTambolList(getEmptyDropDown());
					
					
					if(!tmpCriteria.getPayeeId().isEmpty()){
						
						
						payeeResultList = service.querySPList(EQueryName.SEM_SAP_PAYEE_DETAIL.name, tmpCriteria);
						
						if(payeeResultList != null && payeeResultList.get(0) != null) {
							LOG.debug(">> payeeResultList.size() = " + payeeResultList.size());
							Mmm001PayeeSP obj = (Mmm001PayeeSP) payeeResultList.get(0);
							LOG.debug(">> payeeResult obj: " +  obj.toString());
							
							semmmm001Bean.setPayeeInfoHist(obj);
						}
					}
					
					// -- payee of vendor list
//					tmpCriteria = new Mmm001CriteriaSP();
//					tmpCriteria.setContractNo(contractNo);
//					tmpCriteria.setVendorId(vendorId);
					payeeResultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_PAYEE_LIST.name, tmpCriteria);
					
					semmmm001Bean.setPayeeHistList(new ArrayList<WrapperBeanObject<Mmm001PayeeSP>>()); // clear object
					
					if(payeeResultList != null && !payeeResultList.isEmpty()) {
						LOG.debug(">> payeeResultList.size() = " + payeeResultList.size());
						for (int i=0; i<payeeResultList.size(); i++) {
							Mmm001PayeeSP obj = (Mmm001PayeeSP) payeeResultList.get(i);
							WrapperBeanObject<Mmm001PayeeSP> tmpWrapperBean = new WrapperBeanObject<Mmm001PayeeSP>();
							
							tmpWrapperBean.setDataObj(obj);
							tmpWrapperBean.setMessage("");
							tmpWrapperBean.setCheckBox(false);
							semmmm001Bean.getPayeeHistList().add(tmpWrapperBean);
						}
					}
					
					// -- bookbank payee info
					semmmm001Bean.setBookbankPayeeInfoHist(new Mmm001BookbankPayeeSP()); // clear object
					
					if(!tmpCriteria.getBookbankPayeeId().isEmpty()){
						
						bookbankPayeeResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_PAYEE_DETAIL.name, tmpCriteria);
						
						if(bookbankPayeeResultList != null && !bookbankPayeeResultList.isEmpty() && bookbankPayeeResultList.get(0) != null) {
							LOG.debug(">> bookbankPayeeResultList.size() = " + bookbankPayeeResultList.size());
							Mmm001BookbankPayeeSP obj = (Mmm001BookbankPayeeSP) bookbankPayeeResultList.get(0);
							LOG.debug(">> bookbankPayeeResult obj: " +  obj.toString());
							
							semmmm001Bean.setBookbankPayeeInfoHist(obj);
						}
					}
					
					
					// -- contract list
//					tmpCriteria = new Mmm001CriteriaSP();
//					tmpCriteria.setContractNo(contractNo);
//					tmpCriteria.setVendorId(vendorId);
					contractResultList = service.querySPList(EQueryName.SEM_SAP_CONTRACT_LIST.name, tmpCriteria);
					
					semmmm001Bean.setContractHistList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>()); // clear object
					
					if(contractResultList != null && !contractResultList.isEmpty()) {
						LOG.debug(">> contractResultList.size() = " + contractResultList.size());
						for (int i=0; i<contractResultList.size(); i++) {
							Mmm001ContractSP obj = (Mmm001ContractSP) contractResultList.get(i);
							WrapperBeanObject<Mmm001ContractSP> tmpWrapperBean = new WrapperBeanObject<Mmm001ContractSP>();
							
							tmpWrapperBean.setDataObj(obj);
							tmpWrapperBean.setMessage("");
							tmpWrapperBean.setCheckBox(false);
							semmmm001Bean.getContractHistList().add(tmpWrapperBean);
						}
					}
					
					
					// -- contract history
//					tmpCriteria = new Mmm001CriteriaSP();
//					tmpCriteria.setContractNo(contractNo);
//					tmpCriteria.setVendorId(vendorId);
					contractHistoryList = service.querySPList(EQueryName.SEM_SAP_GET_CONTRACT_HIST.name, tmpCriteria);
					
					semmmm001Bean.setContractHistoryList(new ArrayList<WrapperBeanObject<Mmm001ContractHistory>>()); // clear object
					
					if(contractHistoryList != null && !contractHistoryList.isEmpty()) {
						LOG.debug(">> contractHistoryList.size() = " + contractHistoryList.size());
						for (int i=0; i<contractHistoryList.size(); i++) {
							Mmm001ContractHistory obj = (Mmm001ContractHistory) contractHistoryList.get(i);
							WrapperBeanObject<Mmm001ContractHistory> tmpWrapperBean = new WrapperBeanObject<Mmm001ContractHistory>();
							
							if(obj.getEffectiveDt() != null){
								obj.setEffectiveDtStr(convertYearENtoTHStr(obj.getEffectiveDt()));
							}
							
							if(obj.getExpireDt() != null){
								obj.setExpireDtStr(convertYearENtoTHStr(obj.getExpireDt()));
							}
							
							if(obj.getFirstEffectiveDt() != null){
								obj.setFirstEffectiveDtStr(convertYearENtoTHStr(obj.getFirstEffectiveDt()));
							}
							
							tmpWrapperBean.setDataObj(obj);
							tmpWrapperBean.setMessage("");
							tmpWrapperBean.setCheckBox(false);
							semmmm001Bean.getContractHistoryList().add(tmpWrapperBean);
						}
						
					}
					
					// -- contract pay history
//					tmpCriteria = new Mmm001CriteriaSP();
//					List<WrapperBeanObject<Mmm001ContractPayHistory>> contractPayHistoryList = new ArrayList<WrapperBeanObject<Mmm001ContractPayHistory>>();
//					tmpCriteria.setContractNo(contractNo);
//					tmpCriteria.setVendorId(vendorId);
					
					String paymentType[] = {"RT", "EL", "PT", "IR", "CT"};
					
					LOG.debug("tmpCriteria.getVendorId() : "+tmpCriteria.getVendorId());
					LOG.debug("tmpCriteria.getBookbankId() : "+tmpCriteria.getBookbankId());
					LOG.debug("tmpCriteria.PayeeId() : "+tmpCriteria.getPayeeId());
					LOG.debug("tmpCriteria getBookbankPayeeId() : "+tmpCriteria.getBookbankPayeeId());
					LOG.debug("tmpCriteria getUserLogin() : "+tmpCriteria.getUserLogin());
		        	
		        	for(String pType : paymentType) {
		        		
		        		tmpCriteria.setPaymentType(pType);
		        		
//		        		contractPayHistoryList = service.querySPList(EQueryName.SEM_SAP_GET_CONTRACT_PAY_HIST.name, tmpCriteria);
		        		if(StringUtils.equals("RT", pType)){
		        			contractPayHistoryList = service.querySPList(EQueryName.SEM_SAP_VENDOR_RENTAL_PAYMENT_HISTORY.name, tmpCriteria);
						}else if(StringUtils.equals("EL", pType)){
							contractPayHistoryList = service.querySPList(EQueryName.SEM_SAP_VENDOR_EL_PAYMENT_HISTORY.name, tmpCriteria);
						}else if(StringUtils.equals("PT", pType)){
							contractPayHistoryList = service.querySPList(EQueryName.SEM_SAP_VENDOR_PT_PAYMENT_HISTORY.name, tmpCriteria);
						}else if(StringUtils.equals("IR", pType)){
							contractPayHistoryList = service.querySPList(EQueryName.SEM_SAP_VENDOR_IR_PAYMENT_HISTORY.name, tmpCriteria);
						}else if(StringUtils.equals("CT", pType)){
							contractPayHistoryList = service.querySPList(EQueryName.SEM_SAP_VENDOR_CT_PAYMENT_HISTORY.name, tmpCriteria);
						}
						
						semmmm001Bean.setContractPayHistoryList(new ArrayList<WrapperBeanObject<Mmm001ContractPayHistory>>()); // clear object
						
						if(contractPayHistoryList != null && !contractPayHistoryList.isEmpty()) {
							LOG.debug(">> contractResultList.size() = " + contractPayHistoryList.size());
							
							List<WrapperBeanObject<Mmm001VendorPayHistSP>> payHistoryList = new ArrayList<WrapperBeanObject<Mmm001VendorPayHistSP>>();
//							Mmm001ContractSP obj = (Mmm001ContractSP) contractHistoryList.get(0);
							for (int i=0; i<contractPayHistoryList.size(); i++) {
								Mmm001VendorPayHistSP obj = (Mmm001VendorPayHistSP) contractPayHistoryList.get(i);
								WrapperBeanObject<Mmm001VendorPayHistSP> tmpWrapperBean = new WrapperBeanObject<Mmm001VendorPayHistSP>();
								
//								if(obj.getContractPaymentDt() != null){
//									obj.setContractPaymentDtStr(convertYearENtoTHStr(obj.getContractPaymentDt()));
//								}
								
								if(obj.getEffDt() != null){
									obj.setEffDtStr(convertYearENtoTHStr(obj.getEffDt()));
								}
								
								if(obj.getExpDt() != null){
									obj.setExpDtStr(convertYearENtoTHStr(obj.getExpDt()));
								}
								
								if(obj.getDueDt() != null){
									obj.setDueDtStr(convertYearENtoTHStr(obj.getDueDt()));
								}
								
								if(obj.getPaymentRequestDt() != null){
									obj.setPaymentRequestDtStr(convertYearENtoTHStr(obj.getPaymentRequestDt()));
								}
								
								if(obj.getChqDt() != null){
									obj.setChqDtStr(convertYearENtoTHStr(obj.getChqDt()));
								}
								
								if(obj.getChqReceiveDt() != null){
									obj.setChqReceiveDtStr(convertYearENtoTHStr(obj.getChqReceiveDt()));
								}
								
								if(obj.getTransferDt() != null){
									obj.setTransferDtStr(convertYearENtoTHStr(obj.getTransferDt()));
								}
								
								tmpWrapperBean.setDataObj(obj);
								tmpWrapperBean.setMessage("");
								tmpWrapperBean.setCheckBox(false);
//								semmmm001Bean.getContractPayHistoryList().add(tmpWrapperBean);
								payHistoryList.add(tmpWrapperBean);
							}
							
							if(StringUtils.equals("RT", pType)){
								semmmm001Bean.setRtPaymentHistoryList(new ArrayList<WrapperBeanObject<Mmm001VendorPayHistSP>>());
								semmmm001Bean.getRtPaymentHistoryList().addAll(payHistoryList);
							}else if(StringUtils.equals("EL", pType)){
								semmmm001Bean.setElPaymentHistoryList(new ArrayList<WrapperBeanObject<Mmm001VendorPayHistSP>>());
								semmmm001Bean.getElPaymentHistoryList().addAll(payHistoryList);
							}else if(StringUtils.equals("PT", pType)){
								semmmm001Bean.setPtPaymentHistoryList(new ArrayList<WrapperBeanObject<Mmm001VendorPayHistSP>>());
								semmmm001Bean.getPtPaymentHistoryList().addAll(payHistoryList);
							}else if(StringUtils.equals("IR", pType)){
								semmmm001Bean.setIrPaymentHistoryList(new ArrayList<WrapperBeanObject<Mmm001VendorPayHistSP>>());
								semmmm001Bean.getIrPaymentHistoryList().addAll(payHistoryList);
							}else if(StringUtils.equals("CT", pType)){
								semmmm001Bean.setCtPaymentHistoryList(new ArrayList<WrapperBeanObject<Mmm001VendorPayHistSP>>());
								semmmm001Bean.getCtPaymentHistoryList().addAll(payHistoryList);
							}
						}
		        		
		        	}
					
					
					
					// -- contract pay history
//					tmpCriteria = new Mmm001CriteriaSP();
					List<WrapperBeanObject<Mmm001HistorySP>> historyResultList = new ArrayList<WrapperBeanObject<Mmm001HistorySP>>();
//					tmpCriteria.setContractNo(contractNo);
//					tmpCriteria.setVendorId(vendorId);
					masterHistorySP = service.querySPList(EQueryName.SEM_SAP_GET_MASTER_HIST.name, tmpCriteria);
					
					semmmm001Bean.setHistoryResultList(new ArrayList<WrapperBeanObject<Mmm001HistorySP>>()); // clear object
					
					if(masterHistorySP != null && !masterHistorySP.isEmpty()) {
						LOG.debug(">> masterHistorySP.size() = " + masterHistorySP.size());
						for (int i=0; i<masterHistorySP.size(); i++) {
							Mmm001HistorySP obj = (Mmm001HistorySP) masterHistorySP.get(i);
							WrapperBeanObject<Mmm001HistorySP> tmpWrapperBean = new WrapperBeanObject<Mmm001HistorySP>();
							
							if(obj.getUpdateDt() != null){
								obj.setLastUpdateDtStr(convertYearENtoTHStr(obj.getUpdateDt()));
							}
							
							if(obj.getEffectiveDt() != null){
								obj.setEffectiveDtStr(convertYearENtoTHStr(obj.getEffectiveDt()));
							}
							
							if(obj.getExpireDt() != null){
								obj.setExpireDtStr(convertYearENtoTHStr(obj.getExpireDt()));
							}
							
							tmpWrapperBean.setDataObj(obj);
							tmpWrapperBean.setMessage("");
							tmpWrapperBean.setCheckBox(false);
							semmmm001Bean.getHistoryResultList().add(tmpWrapperBean);
						}
//						
					}
				}
				
				semmmm001Bean.setDisableBtnSaveVendor(false);
				
				// temp param for saveFlag
//				semmmm001Bean.getVendorInfo().setSaveFlag("N"); //NEW
				
			} catch(Exception e) {
				e.printStackTrace();
				LOG.error(e);
				LOG.debug(e);
				addMessageError("EL0000", "SEMMMM001Action");
				flag = false;
			} finally {
				setSemmmm001Bean(semmmm001Bean);
				LOG.info("::: SEMMMM001Action :: doNewVendor >> END :::");
			}
			return flag;
		}
	
	//added by NEW 07/06/2017 init popup
	public boolean initSearchBankCode(){
		LOG.info("--initSearchBankCode--");
		
		boolean flag = true;
		semmmm001Bean = getSemmmm001Bean();
		semmmm001Bean.setRenderedMsgDataNotFound(false);
		//clear criteria before searching.
		semmmm001Bean.setCriteriaBank(new Bank());
		String navPrograme = getNavPrograme();
		IBankService service = (IBankService)getBean("bankService");
		List<Bank> bankSelList = null;
		semmmm001Bean.setScrollerPage("1");
		semmmm001Bean.setSelectedRadio("");
		try {
			bankSelList = service.queryBankAll();
			if(bankSelList != null && !bankSelList.isEmpty()){
				LOG.debug("semmmm001Bean.getSelectedRadio() : "+semmmm001Bean.getSelectedRadio());
				
				semmmm001Bean.setBankSelList(bankSelList);
				semmmm001Bean.setBankTmpSelList(bankSelList);
			}
			semmmm001Bean.setNavPrograme(navPrograme);
			
			// -- 2017/08/15 -- clear field
			/*if(semmmm001Bean.getBookbankInfo().getSaveFlag().equalsIgnoreCase("C")){
				semmmm001Bean.getBookbankInfoCmpObj().setBankId("");
				semmmm001Bean.getBookbankInfoCmpObj().setBankName("");
				semmmm001Bean.getBookbankInfoCmpObj().setBankBranch("");
				semmmm001Bean.getBookbankInfoCmpObj().setProvince("");
			} else {
				semmmm001Bean.getBookbankInfo().setBankId("");
				semmmm001Bean.getBookbankInfo().setBankName("");
				semmmm001Bean.getBookbankInfo().setBankBranch("");
				semmmm001Bean.getBookbankInfo().setProvince("");
			}*/
			
		} catch (Exception e) {
			e.printStackTrace();
		}
		setSemmmm001Bean(semmmm001Bean);
		return flag;
	}
	
	public boolean doSearchBankCode(){
		LOG.info("--doSearchBankCode--");
		boolean flag = true;
		semmmm001Bean = getSemmmm001Bean();
		List<Bank> bankSelList = null;
		try {
			String bankCode = semmmm001Bean.getCriteriaBank().getBankCode();
			String bankName = semmmm001Bean.getCriteriaBank().getBankName();
			
			if(getSemmmm001Bean().getBankTmpSelList() != null && 
			  !getSemmmm001Bean().getBankTmpSelList().isEmpty()){
				bankSelList = searchVendorBookBankByXPath(bankCode, bankName);
			}
			
			if(bankSelList != null && !bankSelList.isEmpty()){
				semmmm001Bean.setBankSelList(bankSelList);
				semmmm001Bean.setRenderedMsgDataNotFound(false);
			}else{
				semmmm001Bean.setBankSelList(new ArrayList<Bank>());
				semmmm001Bean.setRenderedMsgDataNotFound(true);
			}
		} catch (Exception e) {
			e.printStackTrace();
		}
		return flag;
	}
	
	private List<Bank> searchVendorBookBankByXPath(String bankCode, String bankName) throws Exception{
		List<String[]> listCND = new ArrayList<String[]>();
		String[] cndBankCode = new String[] { "bankCode", bankCode };
		String[] cndBankName = new String[] { "bankName", bankName };
		listCND.add(cndBankCode);
		listCND.add(cndBankName);
		//send vendorBookBank list after initial value.
		return (List<Bank>) SEMXPathSearch.xSearch(getSemmmm001Bean().getBankTmpSelList(), listCND);
	}
	
	private void doClearSearchBankCriteria(){
		getSemmmm001Bean().getCriteriaBank().setBankName("");
		getSemmmm001Bean().getCriteriaBank().setBankCode("");
	}
	
	private boolean doSelectBank(){
		boolean flag = true;
			
		/*String bankCode = getSemmmm001Bean().getSelectedRadio();
		String navPrograme = getNavPrograme();
		if(StringUtils.equals(navPrograme, "semmmm001-3")){
			getSemmmm001Bean().getBookbankInfo().setBankCode(bankCode);
			
			try {
				List<Bank> banks = searchVendorBookBankByXPath(bankCode, "");
				if(banks != null && !banks.isEmpty() && banks.size()==1){
					Bank bank = banks.get(0);
					String bankId = "";
					if(bank.getBankCode() != null)bankId = StringUtils.substring(bank.getBankCode(), 0, 3);
					getSemmmm001Bean().getBookbankInfo().setBankName(bankId);
					getSemmmm001Bean().getBookbankInfo().setBankBranch(bank.getBankBranch());
					getSemmmm001Bean().getBookbankInfo().setProvince(bank.getProvinceId());
//					getSemmmm001Bean().setNewBankInfo(false);
//					getSemmmm001Bean().setNewBank(bank);
//					getSemmmm001Bean().setDisabledBankInfo(true);
				}else{
//					getSemmmm001Bean().setNewBankInfo(true);
//					getSemmmm001Bean().setNewBank(null);
//					getSemmmm001Bean().setDisabledBankInfo(false);
				}
			}catch (Exception e) {
				e.printStackTrace();
				LOG.debug("Error SEMMMM001Action doSelectBank"+e);
				// TODO: handle exception
			}
			
		}else if(StringUtils.equals(navPrograme, "semmmm001-5")){
			getSemmmm001Bean().getBookbankPayeeInfo().setBankCode(bankCode);
			
			try {
				List<Bank> banks = searchVendorBookBankByXPath(bankCode, "");
				if(banks != null && !banks.isEmpty() && banks.size()==1){
					Bank bank = banks.get(0);
					String bankId = "";
					if(bank.getBankCode() != null)bankId = StringUtils.substring(bank.getBankCode(), 0, 3);
					getSemmmm001Bean().getBookbankPayeeInfo().setBankName(bankId);
					getSemmmm001Bean().getBookbankPayeeInfo().setBankBranch(bank.getBankBranch());
					getSemmmm001Bean().getBookbankPayeeInfo().setProvince(bank.getProvinceId());
//					getSemmmm001Bean().setNewBankInfo(false);
//					getSemmmm001Bean().setNewBank(bank);
//					getSemmmm001Bean().setDisabledBankInfo(true);
				}else{
//					getSemmmm001Bean().setNewBankInfo(true);
//					getSemmmm001Bean().setNewBank(null);
//					getSemmmm001Bean().setDisabledBankInfo(false);
				}
			}catch (Exception e) {
				e.printStackTrace();
				LOG.debug("Error SEMMMM001Action doSelectBank"+e);
				// TODO: handle exception
			}
		}*/

		// -- 2017/08/08 >>
		String bankCode = getSemmmm001Bean().getSelectedRadio();
		String navPrograme = getNavPrograme();
		
		if(StringUtils.equals(navPrograme, "semmmm001-3")){
			if(getSemmmm001Bean().getBookbankInfo().getSaveFlag().equalsIgnoreCase("C")){
				getSemmmm001Bean().getBookbankInfoCmpObj().setBankCode(bankCode);
				this.doFillinBookbankInfoCmp();
			} else {
				getSemmmm001Bean().getBookbankInfo().setBankCode(bankCode);
				this.doFillinBookbankInfo();
			}
		} else if(StringUtils.equals(navPrograme, "semmmm001-5")){
			if(getSemmmm001Bean().getBookbankPayeeInfo().getSaveFlag().equalsIgnoreCase("C")){
				getSemmmm001Bean().getBookbankPayeeInfoCmpObj().setBankCode(bankCode);
				this.doFillinBookbankPayeeInfoCmp();
			} else {
				getSemmmm001Bean().getBookbankPayeeInfo().setBankCode(bankCode);
				this.doFillinBookbankPayeeInfo();
			}
		}
		// -- <<
		
		return flag;
	}
	
	private boolean doInitNewOrUpdate() {
		LOG.info("::: SEMMMM001Action :: actionWithNavi : doInitNewOrUpdate :::");
		boolean flag = false;
		
		semmmm001Bean = getSemmmm001Bean();
		String mode = (String)getFacesUtils().getRequestParameter("mode");
		String navPrograme = getNavPrograme();

		try {
			
			String rowId = (String)getFacesUtils().getRequestParameter("rowId");
			String paramBankGroupCode = (String)getFacesUtils().getRequestParameter("paramBankGroupCode");
			String paramBankName = (String)getFacesUtils().getRequestParameter("paramBankName");
			String paramBankBranchCode = (String)getFacesUtils().getRequestParameter("paramBankBranchCode");
			String paramBankBranch = (String)getFacesUtils().getRequestParameter("paramBankBranch");
			String paramProvince = (String)getFacesUtils().getRequestParameter("paramProvince");
			
			retrieveBankSelections();
			if(StringUtils.equals(mode, "NEW")){
				
				semmmm001Bean.setDisbledDialogField(false);
				semmmm001Bean.setDoMode("NEW");
				semmmm001Bean.setItemBankMasterSP(new BankMasterSP());
				
			} else if(StringUtils.equals(mode, "UPDATE")){
				semmmm001Bean.setDisbledDialogField(true);
				semmmm001Bean.setDoMode("UPDATE");
				
				semmmm001Bean.getItemBankMasterSP().setRowId(rowId);
				semmmm001Bean.getItemBankMasterSP().setBankGroupCode(paramBankGroupCode);
				semmmm001Bean.getItemBankMasterSP().setBankName(paramBankName);
				semmmm001Bean.getItemBankMasterSP().setBankBranchCode(paramBankBranchCode);
				semmmm001Bean.getItemBankMasterSP().setBankBranch(paramBankBranch);
				semmmm001Bean.getItemBankMasterSP().setProvinceId(paramProvince);
			} else if(StringUtils.equals(mode, "DELETE")){
				semmmm001Bean.getItemBankMasterSP().setRowId(rowId);
			}
			semmmm001Bean.setNavPrograme(navPrograme);
			semmmm001Bean.setChkForEdit(false);
				
		}catch(Exception e){
			e.printStackTrace();
		}
		
		setSemmmm001Bean(semmmm001Bean);
		return flag;
	}
	
	@SuppressWarnings("unchecked")
	private void retrieveBankSelections() {
		IBankMasterService service = (IBankMasterService)getBean("bankMasterService");
		List<BankMasterSP> bankMasterList = null;
		try {
			bankMasterList = service.querySPList(EQueryName.SP_MCT009_BANKMASTER_SEARCH_DDL_BANK.name, semmmm001Bean.getCriteriaBankMasterSP());
			if(bankMasterList != null){
				SelectItem t1,t2,t3;
				List<SelectItem> bankCodeList = new ArrayList<SelectItem>();
				List<SelectItem> bankNameList = new ArrayList<SelectItem>();
				List<SelectItem> backSelectionList = new ArrayList<SelectItem>();
//				backSelectionList.add(setInitDropDown());
				for(BankMasterSP bankMSP : bankMasterList){
					t1 = new SelectItem();
					t2 = new SelectItem();
					t3 = new SelectItem();
					
					t1.setLabel(bankMSP.getBankGroupCode() + " - " + bankMSP.getBankName());
					t1.setValue(bankMSP.getBankGroupCode());
					if(bankMSP.getBankName() != null && !bankMSP.getBankName().equals("")){
						t2.setLabel(bankMSP.getBankName());
						t2.setValue(bankMSP.getBankName());
					}else{
						t2.setLabel("");
						t2.setValue("");
					}
					
					t3.setLabel(bankMSP.getBankGroupCode() + " - " + bankMSP.getBankName());
					t3.setValue(bankMSP.getBankGroupCode() + "#" + bankMSP.getBankName());
					
					backSelectionList.add(t3);
					bankCodeList.add(t1);
					bankNameList.add(t2);
				}
				
				semmmm001Bean.setBankMasterSlctList(bankMasterList);
				semmmm001Bean.setBankSelectionSearchList(backSelectionList);
				semmmm001Bean.setBankCodeList(bankCodeList);
				semmmm001Bean.setBankNameList(bankNameList);	
			}
		} catch(Exception e) {
			e.printStackTrace();
		}
		
	}
	
	private boolean doSave() {
		LOG.info("::: SEMMMM001Action :: actionWithNavi : doSave :::");
		boolean flag = false;
		
		semmmm001Bean = getSemmmm001Bean();
		String mode = (String)getFacesUtils().getRequestParameter("mode");
		
		try {
			LOG.info("::: SEMMMM001Action :: actionWithNavi : doSave > [mode: " + mode + "] :::");
			
			if(validateBank()){
				IBankMasterService service = (IBankMasterService)getBean("bankMasterService");
				
				semmmm001Bean.getItemBankMasterSP().setCurrentUser(getUserLogIn());
				semmmm001Bean.getItemBankMasterSP().setActionType(mode);
				
				List<BankMasterSP> to = service.querySPList(EQueryName.SP_MCT009_BANKMASTER_SAVE.name, semmmm001Bean.getItemBankMasterSP());
				
				if (to != null && !to.isEmpty()) {
					if (to.get(0).getRetResult().equals("Success")) {
//						addMessageInfo("M0001");
//						
//						System.out.println("test : "+semmmm001Bean.getItemBankMasterSP().getBankGroupCode()+semmmm001Bean.getItemBankMasterSP().getBankBranchCode());
						getSemmmm001Bean().setSelectedRadio(semmmm001Bean.getItemBankMasterSP().getBankGroupCode()+semmmm001Bean.getItemBankMasterSP().getBankBranchCode());
//						doSearchBankMaster();
						initSearchBankCode();
						this.doSelectBank(semmmm001Bean.getItemBankMasterSP().getBankGroupCode()+semmmm001Bean.getItemBankMasterSP().getBankBranchCode());
						semmmm001Bean.setPopupClose(true);
						
//						this.doCheckBBGSB();
					}
				}
			}
			
		}catch(Exception e){
			addMessageError("E0001");
			e.printStackTrace();
		}
		
		setSemmmm001Bean(semmmm001Bean);
		return flag;
	}
	
	private boolean doSelectBank(String bankCode){
		boolean flag = true;
	

		// -- 2017/08/08 >>
//		String bankCode = getSemmmm001Bean().getSelectedRadio();
		String navPrograme = getNavPrograme();
		
		if(StringUtils.equals(navPrograme, "semmmm001-3")){
			if(getSemmmm001Bean().getBookbankInfo().getSaveFlag().equalsIgnoreCase("C")){
				getSemmmm001Bean().getBookbankInfoCmpObj().setBankCode(bankCode);
				this.doFillinBookbankInfoCmp();
			} else {
				getSemmmm001Bean().getBookbankInfo().setBankCode(bankCode);
				this.doFillinBookbankInfo();
			}
		} else if(StringUtils.equals(navPrograme, "semmmm001-5")){
			if(getSemmmm001Bean().getBookbankPayeeInfo().getSaveFlag().equalsIgnoreCase("C")){
				getSemmmm001Bean().getBookbankPayeeInfoCmpObj().setBankCode(bankCode);
				this.doFillinBookbankPayeeInfoCmp();
			} else {
				getSemmmm001Bean().getBookbankPayeeInfo().setBankCode(bankCode);
				this.doFillinBookbankPayeeInfo();
			}
		}
		// -- <<
		
		return flag;
	}
	
	
	public boolean validateBank() {
		boolean flagValid = true;
		
		semmmm001Bean = getSemmmm001Bean();
		
		if (StringUtils.isEmpty(semmmm001Bean.getItemBankMasterSP().getBankGroupCode())) {
			addMessageError("W0001", msg("message.bankCode"));
			flagValid = false;
		}
		
		if (StringUtils.isEmpty(semmmm001Bean.getItemBankMasterSP().getBankName())) {
			addMessageError("W0001", msg("message.bankName"));
			flagValid = false;
		}
		
		if (StringUtils.isEmpty(semmmm001Bean.getItemBankMasterSP().getBankBranchCode())) {
			addMessageError("W0001", msg("message.bankBranchCode"));
			flagValid = false;
		}
		
		if (StringUtils.isEmpty(semmmm001Bean.getItemBankMasterSP().getBankBranch())) {
			addMessageError("W0001", msg("message.bankBranchName"));
			flagValid = false;
		}
		
		if (StringUtils.isEmpty(semmmm001Bean.getItemBankMasterSP().getProvinceId())) {
			addMessageError("W0001", msg("message.province"));
			flagValid = false;
		}
		
		return flagValid;
	}
	
	private boolean doSearchBankMaster() {
		LOG.info("::: SEMMMM001Action :: actionWithNavi : doSearchBankMaster :::");
		boolean flag = false;
		semmmm001Bean = getSemmmm001Bean();
		String mode = (String)getFacesUtils().getRequestParameter("mode");
		
		if(StringUtils.equals(mode, ServiceConstants.MODULE_ACTION_DELETE)){
			semmmm001Bean.setRenderedMsgFormSearch(false);
		}else{
			semmmm001Bean.setRenderedMsgFormSearch(true);
		}
		
		if(StringUtils.equals(mode, "SEARCH")){
			if(validateFrmSearch())
			return flag;
		}
		
		semmmm001Bean.setChkSelAll(false);
		
		IBankMasterService service = (IBankMasterService)getBean("bankMasterService"); 
		
		List<BankMasterSP> bankMasterList = null;
		
//		semmmm001Bean.setBankMasterList(new ArrayList<WrapperBeanObject<BankMasterSP>>());
		
		try {
			bankMasterList = service.querySPList(EQueryName.SP_MCT009_BANKMASTER_SEARCH.name, semmmm001Bean.getCriteriaBankMasterSP());
			
			if(bankMasterList != null && !bankMasterList.isEmpty()){
				for(int i = 0; i < bankMasterList.size(); i++){
					BankMasterSP vm = bankMasterList.get(i);
					WrapperBeanObject<BankMasterSP> tmpWrapperBean = new WrapperBeanObject<BankMasterSP>();
					
					vm.setCreateDtStr(vm.getCreateDt() == null ? "" : SEMDataUtility.convertToThYearStr(vm.getCreateDt()));
					vm.setUpdateDtStr(vm.getUpdateDt() == null ? "" : SEMDataUtility.convertToThYearStr(vm.getUpdateDt()));
					
					tmpWrapperBean.setDataObj(vm);
					tmpWrapperBean.setMessage("");
					tmpWrapperBean.setCheckBox(false);
					
//					getSemmmm001Bean().setSelectedRadio(vm.getBankCode());
					this.doSelectBank();
//					semmmm001Bean.getBankMasterList().add(tmpWrapperBean);
					semmmm001Bean.setRenderedMsgDataNotFound(false);
				 }
			 }else{
				 semmmm001Bean.setRenderedMsgDataNotFound(true);
			 }
		}catch(Exception e){
			e.printStackTrace();
		}
		
		setSemmmm001Bean(semmmm001Bean);
		return flag;
	}
	
	
	public void doSemiLiveSearch() {
		LOG.info("::: SEMMMM001Action :: actionWithNavi : doSemiLiveSearch :::");
		
		semmmm001Bean = getSemmmm001Bean();
		
		try{
			String paramLiveMode = (String)getFacesUtils().getRequestParameter("paramLiveMode");
			
			if(paramLiveMode.equalsIgnoreCase("GROUP_CODE")) {
				semmmm001Bean.getItemBankMasterSP().setBankBranchCode("");
				semmmm001Bean.getItemBankMasterSP().setBankBranch("");
				semmmm001Bean.getItemBankMasterSP().setProvinceId("");
				
				String bankCode = semmmm001Bean.getItemBankMasterSP().getBankCode();
				semmmm001Bean.getItemBankMasterSP().setBankGroupCode(bankCode);

				getSemmmm001Bean().setDisbledDialogField(false);
				getSemmmm001Bean().setChkForEdit(true);
				return;
			}
				
			
			String groupCodeVal = semmmm001Bean.getItemBankMasterSP().getBankGroupCode();
			String branchCodeVal = semmmm001Bean.getItemBankMasterSP().getBankBranchCode();
			String bankName = semmmm001Bean.getItemBankMasterSP().getBankName();
			
			//LOG.info("::: SEMMCT009Action :: actionWithNavi : doSemiLiveSearch > \n \t itemBankMasterSP param: " + semmmm001Bean.getItemBankMasterSP().toString());
			LOG.info("::: SEMMCT009Action :: actionWithNavi : doSemiLiveSearch > [mode: " + paramLiveMode + "] :::");
			
			semmmm001Bean.setPopupCriteriaBankMasterSP(new BankMasterSP());
			semmmm001Bean.getPopupCriteriaBankMasterSP().setBankGroupCode(groupCodeVal);
			semmmm001Bean.getPopupCriteriaBankMasterSP().setBankName(bankName);
			semmmm001Bean.getPopupCriteriaBankMasterSP().setBankBranchCode(branchCodeVal);
			
			IBankMasterService service = (IBankMasterService)getBean("bankMasterService");
			List<BankMasterSP> retItemLst = service.querySPList(EQueryName.SP_MCT009_BANKMASTER_SEARCH.name, semmmm001Bean.getPopupCriteriaBankMasterSP());
			
			String bankBranchItem = retItemLst.size() != 0 ? retItemLst.get(0).getBankBranch() : "";
			String provinceItem = retItemLst.size() != 0 ? retItemLst.get(0).getProvinceId(): "";
			
			semmmm001Bean.getItemBankMasterSP().setBankBranch(bankBranchItem);
			semmmm001Bean.getItemBankMasterSP().setProvinceId(provinceItem);
			
		}catch(NullPointerException ne){
			LOG.error(ne);
		}catch(Exception e){
			LOG.error(e);
		}
		
		setSemmmm001Bean(semmmm001Bean);
	}
	
	private boolean initExportBookbank() {
		boolean flag = true;
		SEMMMM001Bean ct001Bean = getSemmmm001Bean();
		ct001Bean.setDisplayReport(false);
		ct001Bean.setCt001ExBankList(new ArrayList<CT001ExportBank>());
		
		try{
			//to get VendorMasterId
			ArrayList vendorSelected = getVendorMapPayeeSelected();
			
			String rowIdConcatParam = "";
			ArrayList contractRowIdList = getAllRowIdFromSelectedVendorMasterList();
			LOG.debug(">> contractRowIdList: " + contractRowIdList);
			for(Object s : contractRowIdList){
				LOG.debug("ROW ID: " + s.toString());
				rowIdConcatParam += s.toString().concat("|");
			}
			rowIdConcatParam = rowIdConcatParam.substring(0, rowIdConcatParam.lastIndexOf("|"));
			LOG.debug(">> rowIdConcatParam: " + rowIdConcatParam);
			
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			CT001ExportBank ct001ExportBank = new CT001ExportBank();
//			ct001ExportBank.setVendorMasterId(vendorSelected);
			ct001ExportBank.setVendorMapPayeeId(rowIdConcatParam);
			List<CT001ExportBank> exBankList = service.querySPList(EQueryName.SP_CT001_EX_BANK.name, ct001ExportBank);
			ct001Bean.setCt001ExBankList(exBankList);
			ct001Bean.setDisplayReport(true);
		}catch (Exception e) {
			flag = false;
			ct001Bean.setDisplayReport(false);
		}
		
		return flag;
	}
	
	public void doExportBookBank(){
		SEMMMM001Bean ct001Bean = getSemmmm001Bean();
		ct001Bean.setDisplayReport(false);
		
		short line = 0;
		DocumentExportManager<CT001ExportBank> docManager = new DocumentExportManager<CT001ExportBank>(CT001ExportBank.class, EnumDocumentType.XLS);
		docManager.setRowStart(line);
		/***********************************************/
		EnumDocStyleDomain headerStyle = new EnumDocStyleDomain(EnumDocStyle.HEADER);
		EnumDocStyleDomain normalLeft =  docManager.getStyle("ct001Field");
		EnumDocStyleDomain normalHeader =  new EnumDocStyleDomain(EnumDocStyle.CELL_NORMAL_BIG_FONT_CENTER);
		EnumDocStyleDomain normalCenter =  docManager.getStyle("si002Field");
		
		try{
		
			int rowNum = 0;
			String bankSum = "";
			int rowCount = 1;
			if(ct001Bean.getCt001ExBankList()!=null&&ct001Bean.getCt001ExBankList().size()>0){
		
				for(CT001ExportBank expBank : ct001Bean.getCt001ExBankList()){
					if(!StringUtils.equalsIgnoreCase(bankSum, expBank.getBankSum())){
						
						if(StringUtils.isEmpty(bankSum)&&StringUtils.isNotEmpty(expBank.getBankSum())){
							rowCount = 1;
							RowDomain rowFirstH = new RowDomain(rowNum++);
							rowFirstH.setCell(new CellDomain(0,3, null, String.class, normalHeader, expBank.getBankSum(),-1,10000));
							RowDomain rowH = new RowDomain(rowNum++);
							rowH.setCell(new CellDomain(0, null, String.class, headerStyle, "NO",-1,700));
							rowH.setCell(new CellDomain(1, null, String.class, headerStyle, "BU",-1,1200));
							rowH.setCell(new CellDomain(2, null, String.class, headerStyle, "VENDOR",-1,3000));
							rowH.setCell(new CellDomain(3, null, String.class, headerStyle, "SUPLIER NAME",-1,6000));
							rowH.setCell(new CellDomain(4, null, String.class, headerStyle, "BANK BR.",-1,2500));
							rowH.setCell(new CellDomain(5, null, String.class, headerStyle, "A/C.NO",-1,2800));
							rowH.setCell(new CellDomain(6, null, String.class, headerStyle, "NAME BANK",-1,9500));
							rowH.setCell(new CellDomain(7, null, String.class, headerStyle, "NAME ACC.",-1,6000));
							rowH.setCell(new CellDomain(8, null, String.class, headerStyle, msg("export.col.remarkTh"),-1,4000));
							rowH.setCell(new CellDomain(9, null, String.class, normalHeader, null,-1,1200));
							
							docManager.putDetailRow(rowFirstH);
							docManager.putDetailRow(rowH);
						}else{
								rowCount = 1;
								RowDomain rowBlank1 = new RowDomain(rowNum++);
								rowBlank1.setCell(new CellDomain(0,8,null, String.class, normalHeader, null,-1,46000));
								docManager.putDetailRow(rowBlank1);
								RowDomain rowBlank2 = new RowDomain(rowNum++);
								rowBlank2.setCell(new CellDomain(0,8, null, String.class, normalHeader, null,-1,46000));
								RowDomain rowFirstH = new RowDomain(rowNum++);
								docManager.putDetailRow(rowBlank2);
								rowFirstH.setCell(new CellDomain(0,3, null, String.class, normalHeader, expBank.getBankSum(),-1,10000));
								docManager.putDetailRow(rowFirstH);
								RowDomain rowH = new RowDomain(rowNum++);
								rowH.setCell(new CellDomain(0, null, String.class, headerStyle, "NO",-1,700));
								rowH.setCell(new CellDomain(1, null, String.class, headerStyle, "BU",-1,1200));
								rowH.setCell(new CellDomain(2, null, String.class, headerStyle, "VENDOR",-1,3000));
								rowH.setCell(new CellDomain(3, null, String.class, headerStyle, "SUPLIER NAME",-1,6000));
								rowH.setCell(new CellDomain(4, null, String.class, headerStyle, "BANK BR.",-1,2500));
								rowH.setCell(new CellDomain(5, null, String.class, headerStyle, "A/C.NO",-1,2800));
								rowH.setCell(new CellDomain(6, null, String.class, headerStyle, "NAME BANK",-1,9500));
								rowH.setCell(new CellDomain(7, null, String.class, headerStyle, "NAME ACC.",-1,6000));
								rowH.setCell(new CellDomain(8, null, String.class, headerStyle, msg("export.col.remarkTh"),-1,4000));
								rowH.setCell(new CellDomain(9, null, String.class, normalHeader, null,-1,1200));
								docManager.putDetailRow(rowH);
						}
						
					}
								RowDomain rowD = new RowDomain(rowNum++);
								rowD.setCell(new CellDomain(0, null, String.class, normalCenter, rowCount,-1,700));
								rowD.setCell(new CellDomain(1, null, String.class, normalCenter, expBank.getCompany(),-1,1200));
								rowD.setCell(new CellDomain(2, null, String.class, normalCenter, expBank.getVendorCode(),-1,3000));
								rowD.setCell(new CellDomain(3, null, String.class, normalLeft, expBank.getVendorName(),-1,6000));
								rowD.setCell(new CellDomain(4, null, String.class, normalCenter, expBank.getBookBankCode(),-1,2500));
								rowD.setCell(new CellDomain(5, null, String.class, normalCenter, expBank.getBankAccNo(),-1,2800));
								rowD.setCell(new CellDomain(6, null, String.class, normalLeft, expBank.getBankName(),-1,9500));
								rowD.setCell(new CellDomain(7, null, String.class, normalLeft, expBank.getBankAccName(),-1,6000));
								rowD.setCell(new CellDomain(8, null, String.class, normalLeft, expBank.getRemark(),-1,4000));
								rowD.setCell(new CellDomain(9, null, String.class, normalHeader, null,-1,1200));
								docManager.putDetailRow(rowD);
								rowCount++;
								bankSum = expBank.getBankSum();
				}
			}else{
				RowDomain rowH = new RowDomain(0);
				rowH.setCell(new CellDomain(0, null, String.class, headerStyle, "NO",-1,700));
				rowH.setCell(new CellDomain(1, null, String.class, headerStyle, "BU",-1,1200));
				rowH.setCell(new CellDomain(2, null, String.class, headerStyle, "VENDOR",-1,3000));
				rowH.setCell(new CellDomain(3, null, String.class, headerStyle, "SUPLIER NAME",-1,6000));
				rowH.setCell(new CellDomain(4, null, String.class, headerStyle, "BANK BR.",-1,2500));
				rowH.setCell(new CellDomain(5, null, String.class, headerStyle, "A/C.NO",-1,2800));
				rowH.setCell(new CellDomain(6, null, String.class, headerStyle, "NAME BANK",-1,9500));
				rowH.setCell(new CellDomain(7, null, String.class, headerStyle, "NAME ACC.",-1,6000));
				rowH.setCell(new CellDomain(8, null, String.class, headerStyle, msg("export.col.remarkTh"),-1,4000));
				rowH.setCell(new CellDomain(9, null, String.class, normalHeader, null,-1,1200));
				docManager.putDetailRow(rowH);
			}
			docManager.seteObjectList(null);
			docManager.setModule("VENDOR_BOOKBANK");
			docManager.setPrintPageLandScape(true);
			docManager.setMargin(0.05, 0.05, 0.5, 0.05);
			docManager.getObjectFromDocument();
			docManager.exportServletFile();
		}catch (Exception e) {
			e.printStackTrace();
		}
	}
	
	//added by NEW 20151015
	private boolean initExportVendorToLeader() {
		SEMMMM001Bean ct001Bean = getSemmmm001Bean();
		ct001Bean.setDisplayReport(false);
		ct001Bean.setCt001ExBankList(new ArrayList<CT001ExportBank>());
		List<CT001ExportBank> exBankList = null;
		boolean flag = true;
		String rowIdConcatParam = getFacesUtils().getRequestParameter("vendorMapPayeeId") == null ? "" : (String)getFacesUtils().getRequestParameter("vendorMapPayeeId");
		String vendorIdParam = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : (String)getFacesUtils().getRequestParameter("vendorIdParam");
		try{
			ArrayList vendorSelected = new ArrayList();
			if(StringUtils.equals("", rowIdConcatParam) && StringUtils.equals("", vendorIdParam)){
				//to get VendorMasterId
				vendorSelected = getVendorMapPayeeSelected();
				
				if(vendorSelected.isEmpty() || vendorSelected.size() < 1){
					vendorSelected = getVendorIdSelected();
				}
				
				
//				ArrayList contractRowIdList = getAllRowIdFromSelectedVendorMasterList();
				LOG.debug(">> vendorSelected: " + vendorSelected);
				for(Object s : vendorSelected){
					LOG.debug("ROW ID: " + s.toString());
					rowIdConcatParam += s.toString().concat(",");
				}
				rowIdConcatParam = rowIdConcatParam.substring(0, rowIdConcatParam.lastIndexOf(","));
				LOG.debug(">> rowIdConcatParam: " + rowIdConcatParam);
			}else if(StringUtils.equals("", rowIdConcatParam) && !StringUtils.equals("", vendorIdParam)){
				rowIdConcatParam = vendorIdParam;
			}
			
			
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			CT001ExportBank ct001ExportBank = new CT001ExportBank();
//			ct001ExportBank.setVendorMasterId(vendorSelected);
			ct001ExportBank.setVendorMapPayeeId(rowIdConcatParam);
			exBankList = service.querySPList(EQueryName.SP_CT001_EX_VENDOR_TO_LEADER.name, ct001ExportBank);
			if(exBankList != null && !exBankList.isEmpty()){
				if(exBankList.get(0).getResult() == null || "".equals(exBankList.get(0).getResult())){
//					ct001Bean.setTmpBatch(exBankList.get(0).getBatchNo());
//					ct001Bean.setTmpBatchDT(exBankList.get(0).getBatchDT());
					ct001Bean.setTmpBatch(exBankList.get(0).getBatchNo());
					ct001Bean.setTmpBatchDT(exBankList.get(0).getBatchDT());
					ct001Bean.setDisplayReport(true);
				}else{
					flag = false;
					ct001Bean.setDisplayReport(false);
					ct001Bean.setRenderedMsgFormSearch(true);
					FrontMessageUtils.addMessageError(exBankList.get(0).getResult());
				}
			}else{
				flag = false;
				ct001Bean.setDisplayReport(false);
//				ct001Bean.setRenderedMsgDataNotFound(true);
//				ct001Bean.setRenderedMsgFormSearch(true);
//				ct001Bean.setMsgDataNotFound("");
				ct001Bean.setRenderedMsgFormSearch(true);
				FrontMessageUtils.addMessageError("");
			}
			ct001Bean.setCt001ExBankList(exBankList);
			
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug(e);
			ct001Bean.setDisplayReport(false);
		}
		
		return flag;
	}
	
	public boolean doExportVendorToLeader(){
		SEMMMM001Bean ct001Bean = getSemmmm001Bean();
		ct001Bean.setDisplayReport(false);
		
		short line = 0;
		DocumentExportManager<CT001ExportBank> docManager = new DocumentExportManager<CT001ExportBank>(CT001ExportBank.class, EnumDocumentType.XLS);
		docManager.setRowStart(line);
		/***********************************************/
		EnumDocStyleDomain headerStyle = new EnumDocStyleDomain(EnumDocStyle.HEADER);
		EnumDocStyleDomain	titleStyle	= new EnumDocStyleDomain(EnumDocStyle.TITLE);
		EnumDocStyleDomain normalLeft =  docManager.getStyle("ct001Field");
		EnumDocStyleDomain normalHeader =  new EnumDocStyleDomain(EnumDocStyle.CELL_NORMAL_BIG_FONT_CENTER);
		EnumDocStyleDomain normalCenter =  docManager.getStyle("si002Field");
		DateFormat df =  new SimpleDateFormat("dd/MM/yyyy HH:mm:ss"); 
		try{
		
			int rowNum = 3;
			String bankSum = "";
			int rowCount = 1;
			if(ct001Bean.getCt001ExBankList()!=null&&ct001Bean.getCt001ExBankList().size()>0){
		
				//start gen excel
				
				RowDomain row0 = new RowDomain(0,true);	
				row0.setCell(new CellDomain(0,12, null, String.class, titleStyle, msg("export.header.submitDetail")+" "+df.format(SEMDataUtility.convertToThYear(ct001Bean.getTmpBatchDT())),null));
				
				RowDomain row1 = new RowDomain(1,true);	
				row1.setCell(new CellDomain(0,12, null, String.class, titleStyle, msg("export.col.paymentBatchNo")+ct001Bean.getTmpBatch(),null));
				
				
				RowDomain row2 = new RowDomain(2,true);	
//				row2.setCell(new CellDomain(0, null, String.class,headerStyle, msg("message.company"),-1,1500));
				row2.setCell(new CellDomain(0, null, String.class,headerStyle, "Contract No",-1,2500));
				row2.setCell(new CellDomain(1, null, String.class,headerStyle, "Vendor Code",-1,2500));
				row2.setCell(new CellDomain(2, null, String.class,headerStyle, "Name",-1,2500));
				row2.setCell(new CellDomain(3, null, String.class,headerStyle, "ID Card",-1,2700));
				row2.setCell(new CellDomain(4, null, String.class,headerStyle, "Tax ID",-1,2700));
				row2.setCell(new CellDomain(5, null, String.class,headerStyle, "Branch Code",-1,2900));
				row2.setCell(new CellDomain(6, null, String.class,headerStyle, "Address 1",-1,3300));
				row2.setCell(new CellDomain(7, null, String.class,headerStyle, "Address 2",-1,3300));
				row2.setCell(new CellDomain(8, null, String.class,headerStyle, "District",-1,2200));
				row2.setCell(new CellDomain(9, null, String.class,headerStyle, "Amphur",-1,2200));
				row2.setCell(new CellDomain(10, null, String.class,headerStyle, "Province",-1,2200));
				row2.setCell(new CellDomain(11, null, String.class,headerStyle, "Post Code",-1,2200));
				row2.setCell(new CellDomain(12, null, String.class,headerStyle, "Lot No",-1,2200));
				
				for(CT001ExportBank expBank : ct001Bean.getCt001ExBankList()){
						
								RowDomain rowD = new RowDomain(rowNum++);
//								rowD.setCell(new CellDomain(0, null, String.class, normalCenter, expBank.getCompany(),-1,1500));
								rowD.setCell(new CellDomain(0, null, String.class, normalCenter, expBank.getContractNo(),-1,2500));
								rowD.setCell(new CellDomain(1, null, String.class, normalCenter, expBank.getVendorCode(),-1,2500));
								rowD.setCell(new CellDomain(2, null, String.class, normalLeft, expBank.getVendorName(),-1,2500));
								rowD.setCell(new CellDomain(3, null, String.class, normalCenter, expBank.getIdCard(),-1,2500));
								rowD.setCell(new CellDomain(4, null, String.class, normalCenter, expBank.getTax13(),-1,2700));
								rowD.setCell(new CellDomain(5, null, String.class, normalLeft, expBank.getBranchNo(),-1,2900));
								rowD.setCell(new CellDomain(6, null, String.class, normalLeft, expBank.getAddress(),-1,3300));
								rowD.setCell(new CellDomain(7, null, String.class, normalLeft, expBank.getAddress2(),-1,3300));
								rowD.setCell(new CellDomain(8, null, String.class, normalLeft, expBank.getDistrict(),-1,2200));
								rowD.setCell(new CellDomain(9, null, String.class, normalLeft, expBank.getAmphur(),-1,2200));
								rowD.setCell(new CellDomain(10, null, String.class, normalLeft, expBank.getCity(),-1,2200));
								rowD.setCell(new CellDomain(11, null, String.class, normalLeft, expBank.getPostCode(),-1,2200));
								rowD.setCell(new CellDomain(12, null, String.class, normalLeft, expBank.getLotNo(),-1,2200));
								docManager.putDetailRow(rowD);
								rowCount++;
//								bankSum = expBank.getBankSum();
					
				}
			
				docManager.putDetailRow(row0);
				docManager.putDetailRow(row1);
				docManager.putDetailRow(row2);
			docManager.seteObjectList(null);
			docManager.setModule("VENDOR");
			docManager.setPrintPageLandScape(true);
			docManager.setMargin(0.05, 0.05, 0.5, 0.05);
			docManager.getObjectFromDocument();
			docManager.exportServletFile();
			}else{
				RowDomain row0 = new RowDomain(0,true);	
				row0.setCell(new CellDomain(0,13, null, String.class, titleStyle, msg("export.header.submitDetail"),null));
				
				RowDomain row1 = new RowDomain(1,true);	
				row1.setCell(new CellDomain(0,13, null, String.class, titleStyle, msg("export.col.paymentBatchNo"),null));
				
				RowDomain row2 = new RowDomain(2,true);	
				row2.setCell(new CellDomain(0, null, String.class,headerStyle, msg("message.company"),-1,1500));
				row2.setCell(new CellDomain(1, null, String.class,headerStyle, "Vendor Code",-1,2500));
				row2.setCell(new CellDomain(2, null, String.class,headerStyle, "Title",-1,1700));
				row2.setCell(new CellDomain(3, null, String.class,headerStyle, "Name",-1,2500));
				row2.setCell(new CellDomain(4, null, String.class,headerStyle, "Vendor Type",-1,2700));
				row2.setCell(new CellDomain(5, null, String.class,headerStyle, "Tax ID",-1,2700));
				row2.setCell(new CellDomain(6, null, String.class,headerStyle, "Branch Code",-1,2900));
				row2.setCell(new CellDomain(7, null, String.class,headerStyle, "Address 1",-1,3300));
				row2.setCell(new CellDomain(8, null, String.class,headerStyle, "Address 2",-1,3300));
				row2.setCell(new CellDomain(9, null, String.class,headerStyle, "District",-1,2200));
				row2.setCell(new CellDomain(10, null, String.class,headerStyle, "Amphur",-1,2200));
				row2.setCell(new CellDomain(11, null, String.class,headerStyle, "Province",-1,2200));
				row2.setCell(new CellDomain(12, null, String.class,headerStyle, "Post Code",-1,2200));
				row2.setCell(new CellDomain(13, null, String.class,headerStyle, "Lot No",-1,2200));
				
				docManager.putDetailRow(row0);
				docManager.putDetailRow(row1);
				docManager.putDetailRow(row2);
				docManager.seteObjectList(null);
				docManager.setModule("VENDOR");
				docManager.setPrintPageLandScape(true);
				docManager.setMargin(0.05, 0.05, 0.5, 0.05);
				docManager.getObjectFromDocument();
				docManager.exportServletFile();
			}
		}catch (Exception e) {
			e.printStackTrace();
		}
		return true;
	}
	
	//added by NEW 20151015
	private boolean initExportVendorBookbankToLeader() {
		boolean flag = false;
		SEMMMM001Bean ct001Bean = getSemmmm001Bean();
		ct001Bean.setDisplayReport(false);
		ct001Bean.setCt001ExBankList(new ArrayList<CT001ExportBank>());
		try{
			//to get VendorMasterId
//			ArrayList vendorSelected = getVendorMapPayeeSelected();
			ArrayList vendorSelected = new ArrayList();
//			vendorSelected = getVendorMapPayeeSelected();
//			
//			if(vendorSelected.isEmpty() || vendorSelected.size() < 1){
//				vendorSelected = getVendorIdSelected();
//			}
//			
			String rowIdConcatParam = "";
			rowIdConcatParam = getFacesUtils().getRequestParameter("vendorMapPayeeId") == null ? "" : (String)getFacesUtils().getRequestParameter("vendorMapPayeeId");
			String vendorIdParam = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : (String)getFacesUtils().getRequestParameter("vendorIdParam");
			
//			if(StringUtils.equals("", rowIdConcatParam)){
//	//			ArrayList contractRowIdList = getAllRowIdFromSelectedVendorMasterList();
//				LOG.debug(">> vendorSelected: " + vendorSelected);
//				for(Object s : vendorSelected){
//					LOG.debug("ROW ID: " + s.toString());
//					rowIdConcatParam += s.toString().concat(",");
//				}
//				rowIdConcatParam = rowIdConcatParam.substring(0, rowIdConcatParam.lastIndexOf(","));
//				LOG.debug(">> rowIdConcatParam: " + rowIdConcatParam);
//			}
			if(StringUtils.equals("", rowIdConcatParam) && StringUtils.equals("", vendorIdParam)){
				//to get VendorMasterId
				vendorSelected = getVendorMapPayeeSelected();
				
				if(vendorSelected.isEmpty() || vendorSelected.size() < 1){
					vendorSelected = getVendorIdSelected();
				}
				
				
//				ArrayList contractRowIdList = getAllRowIdFromSelectedVendorMasterList();
				LOG.debug(">> vendorSelected: " + vendorSelected);
				for(Object s : vendorSelected){
					LOG.debug("ROW ID: " + s.toString());
					rowIdConcatParam += s.toString().concat(",");
				}
				rowIdConcatParam = rowIdConcatParam.substring(0, rowIdConcatParam.lastIndexOf(","));
				LOG.debug(">> rowIdConcatParam: " + rowIdConcatParam);
			}else if(StringUtils.equals("", rowIdConcatParam) && !StringUtils.equals("", vendorIdParam)){
				rowIdConcatParam = vendorIdParam;
			}
			
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			CT001ExportBank ct001ExportBank = new CT001ExportBank();
//			ct001ExportBank.setVendorMasterId(vendorSelected);
			ct001ExportBank.setVendorMapPayeeId(rowIdConcatParam);
			List<CT001ExportBank> exBankList = service.querySPList(EQueryName.SP_CT001_EX_VENDOR_BOOKBANK_TO_LEADER.name, ct001ExportBank);
			if(exBankList != null && !exBankList.isEmpty()){
				if(exBankList.get(0).getResult() == null || "".equals(exBankList.get(0).getResult())){
					ct001Bean.setTmpBatch(exBankList.get(0).getBatchNo());
					ct001Bean.setTmpBatchDT(exBankList.get(0).getBatchDT());
					if(exBankList.get(0).getStatus() != null)
						ct001Bean.setStatus(exBankList.get(0).getStatus());
					ct001Bean.setDisplayReport(true);
					flag = true;
				}else{
					
					ct001Bean.setDisplayReport(false);
					ct001Bean.setRenderedMsgFormSearch(true);
					FrontMessageUtils.addMessageError(exBankList.get(0).getResult());
					flag = false;
				}
			}else{
				ct001Bean.setDisplayReport(false);
//				ct001Bean.setRenderedMsgDataNotFound(true);
//				ct001Bean.setRenderedMsgFormSearch(true);
//				ct001Bean.setMsgDataNotFound("");
				ct001Bean.setRenderedMsgFormSearch(true);
				FrontMessageUtils.addMessageError("");
				flag = false;
			}
			ct001Bean.setCt001ExBankList(exBankList);
//			ct001Bean.setDisplayReport(true);
		}catch (Exception e) {
			ct001Bean.setDisplayReport(false);
		}
		
		return flag;
	}
	
	public void doExportVendorBookbankToLeader(){
		SEMMMM001Bean ct001Bean = getSemmmm001Bean();
		ct001Bean.setDisplayReport(false);
		
		short line = 0;
		DocumentExportManager<CT001ExportBank> docManager = new DocumentExportManager<CT001ExportBank>(CT001ExportBank.class, EnumDocumentType.XLS);
		docManager.setRowStart(line);
		/***********************************************/
		EnumDocStyleDomain headerStyle = new EnumDocStyleDomain(EnumDocStyle.HEADER);
		EnumDocStyleDomain normalLeft =  docManager.getStyle("ct001Field");
		EnumDocStyleDomain normalHeader =  new EnumDocStyleDomain(EnumDocStyle.CELL_NORMAL_BIG_FONT_CENTER);
		EnumDocStyleDomain normalCenter =  docManager.getStyle("si002Field");
		EnumDocStyleDomain	titleStyle	= new EnumDocStyleDomain(EnumDocStyle.TITLE);
		DateFormat df =  new SimpleDateFormat("dd/MM/yyyy HH:mm:ss"); 
		try{
		
			int rowNum = 3;
			String bankSum = "";
			int rowCount = 1;
			if(ct001Bean.getCt001ExBankList()!=null&&ct001Bean.getCt001ExBankList().size()>0){
				RowDomain row0 = new RowDomain(0,true);	
				row0.setCell(new CellDomain(0,9, null, String.class, titleStyle, msg("export.header.submitDetail")+" "+df.format(SEMDataUtility.convertToThYear(ct001Bean.getTmpBatchDT())),null));
				
				RowDomain row1 = new RowDomain(1,true);	
				row1.setCell(new CellDomain(0,9, null, String.class, titleStyle, msg("export.col.paymentBatchNo")+ct001Bean.getTmpBatch()+"   Status : "+ct001Bean.getStatus(),null));
				docManager.putDetailRow(row0);
				docManager.putDetailRow(row1);
				for(CT001ExportBank expBank : ct001Bean.getCt001ExBankList()){
					if(!StringUtils.equalsIgnoreCase(bankSum, expBank.getBankSum())){
						
						if(StringUtils.isEmpty(bankSum)&&StringUtils.isNotEmpty(expBank.getBankSum())){
							rowCount = 1;
							RowDomain rowFirstH = new RowDomain(rowNum++);
							rowFirstH.setCell(new CellDomain(0,3, null, String.class, normalHeader, expBank.getBankSum(),-1,10000));
							RowDomain rowH = new RowDomain(rowNum++);
							rowH.setCell(new CellDomain(0, null, String.class, headerStyle, "NO",-1,700));
							rowH.setCell(new CellDomain(1, null, String.class, headerStyle, "BU",-1,1200));
							rowH.setCell(new CellDomain(2, null, String.class, headerStyle, "VENDOR",-1,3000));
							rowH.setCell(new CellDomain(3, null, String.class, headerStyle, "SUPLIER NAME",-1,6000));
							rowH.setCell(new CellDomain(4, null, String.class, headerStyle, "BANK BR.",-1,2500));
							rowH.setCell(new CellDomain(5, null, String.class, headerStyle, "A/C.NO",-1,2800));
							rowH.setCell(new CellDomain(6, null, String.class, headerStyle, "NAME BANK",-1,9500));
							rowH.setCell(new CellDomain(7, null, String.class, headerStyle, "NAME ACC.",-1,6000));
							rowH.setCell(new CellDomain(8, null, String.class, headerStyle, msg("export.col.remarkTh"),-1,4000));
							rowH.setCell(new CellDomain(9, null, String.class, normalHeader, null,-1,1200));
							
							docManager.putDetailRow(rowFirstH);
							docManager.putDetailRow(rowH);
						}else{
								rowCount = 1;
								RowDomain rowBlank1 = new RowDomain(rowNum++);
								rowBlank1.setCell(new CellDomain(0,8,null, String.class, normalHeader, null,-1,46000));
								docManager.putDetailRow(rowBlank1);
								RowDomain rowBlank2 = new RowDomain(rowNum++);
								rowBlank2.setCell(new CellDomain(0,8, null, String.class, normalHeader, null,-1,46000));
								RowDomain rowFirstH = new RowDomain(rowNum++);
								docManager.putDetailRow(rowBlank2);
								rowFirstH.setCell(new CellDomain(0,3, null, String.class, normalHeader, expBank.getBankSum(),-1,10000));
								docManager.putDetailRow(rowFirstH);
								RowDomain rowH = new RowDomain(rowNum++);
								rowH.setCell(new CellDomain(0, null, String.class, headerStyle, "NO",-1,700));
								rowH.setCell(new CellDomain(1, null, String.class, headerStyle, "BU",-1,1200));
								rowH.setCell(new CellDomain(2, null, String.class, headerStyle, "VENDOR",-1,3000));
								rowH.setCell(new CellDomain(3, null, String.class, headerStyle, "SUPLIER NAME",-1,6000));
								rowH.setCell(new CellDomain(4, null, String.class, headerStyle, "BANK BR.",-1,2500));
								rowH.setCell(new CellDomain(5, null, String.class, headerStyle, "A/C.NO",-1,2800));
								rowH.setCell(new CellDomain(6, null, String.class, headerStyle, "NAME BANK",-1,9500));
								rowH.setCell(new CellDomain(7, null, String.class, headerStyle, "NAME ACC.",-1,6000));
								rowH.setCell(new CellDomain(8, null, String.class, headerStyle, msg("export.col.remarkTh"),-1,4000));
								rowH.setCell(new CellDomain(9, null, String.class, normalHeader, null,-1,1200));
								docManager.putDetailRow(rowH);
						}
						
					}
								RowDomain rowD = new RowDomain(rowNum++);
								rowD.setCell(new CellDomain(0, null, String.class, normalCenter, rowCount,-1,700));
								rowD.setCell(new CellDomain(1, null, String.class, normalCenter, expBank.getCompany(),-1,1200));
								rowD.setCell(new CellDomain(2, null, String.class, normalCenter, expBank.getVendorCode(),-1,3000));
								rowD.setCell(new CellDomain(3, null, String.class, normalLeft, expBank.getVendorName(),-1,6000));
								rowD.setCell(new CellDomain(4, null, String.class, normalCenter, expBank.getBookBankCode(),-1,2500));
								rowD.setCell(new CellDomain(5, null, String.class, normalCenter, expBank.getBankAccNo(),-1,2800));
								rowD.setCell(new CellDomain(6, null, String.class, normalLeft, expBank.getBankName(),-1,9500));
								rowD.setCell(new CellDomain(7, null, String.class, normalLeft, expBank.getBankAccName(),-1,6000));
								rowD.setCell(new CellDomain(8, null, String.class, normalLeft, expBank.getRemark(),-1,4000));
								rowD.setCell(new CellDomain(9, null, String.class, normalHeader, null,-1,1200));
								docManager.putDetailRow(rowD);
								rowCount++;
								bankSum = expBank.getBankSum();
				}
				docManager.seteObjectList(null);
				docManager.setModule("VENDOR_BOOKBANK");
				docManager.setPrintPageLandScape(true);
				docManager.setMargin(0.05, 0.05, 0.5, 0.05);
				docManager.getObjectFromDocument();
				docManager.exportServletFile();
			}
//			else{
//				
//				RowDomain row0 = new RowDomain(0,true);	
//				row0.setCell(new CellDomain(0,9, null, String.class, titleStyle, msg("export.header.submitDetail"),null));
//				
//				RowDomain row1 = new RowDomain(1,true);	
//				row1.setCell(new CellDomain(0,9, null, String.class, titleStyle, msg("export.col.paymentBatchNo"),null));
//				docManager.putDetailRow(row0);
//				docManager.putDetailRow(row1);
//				
//				RowDomain rowH = new RowDomain(3);
//				rowH.setCell(new CellDomain(0, null, String.class, headerStyle, "NO",-1,700));
//				rowH.setCell(new CellDomain(1, null, String.class, headerStyle, "BU",-1,1200));
//				rowH.setCell(new CellDomain(2, null, String.class, headerStyle, "VENDOR",-1,3000));
//				rowH.setCell(new CellDomain(3, null, String.class, headerStyle, "SUPLIER NAME",-1,6000));
//				rowH.setCell(new CellDomain(4, null, String.class, headerStyle, "BANK BR.",-1,2500));
//				rowH.setCell(new CellDomain(5, null, String.class, headerStyle, "A/C.NO",-1,2800));
//				rowH.setCell(new CellDomain(6, null, String.class, headerStyle, "NAME BANK",-1,9500));
//				rowH.setCell(new CellDomain(7, null, String.class, headerStyle, "NAME ACC.",-1,6000));
//				rowH.setCell(new CellDomain(8, null, String.class, headerStyle, msg("export.col.remarkTh"),-1,4000));
//				rowH.setCell(new CellDomain(9, null, String.class, normalHeader, null,-1,1200));
//				docManager.putDetailRow(rowH);
//			}
//			docManager.seteObjectList(null);
//			docManager.setModule("VENDOR_BOOKBANK");
//			docManager.setPrintPageLandScape(true);
//			docManager.setMargin(0.05, 0.05, 0.5, 0.05);
//			docManager.getObjectFromDocument();
//			docManager.exportServletFile();
		}catch (Exception e) {
			e.printStackTrace();
		}
	}
	
	//added by NEW 20151015
	private boolean initExportPayeeToLeader() {
		boolean flag = true;
		SEMMMM001Bean ct001Bean = getSemmmm001Bean();
		ct001Bean.setDisplayReport(false);
		ct001Bean.setCt001ExBankList(new ArrayList<CT001ExportBank>());
		
		try{
			//to get VendorMasterId
			ArrayList vendorSelected = getVendorMapPayeeSelected();
			
			String rowIdConcatParam = "";
			rowIdConcatParam = getFacesUtils().getRequestParameter("vendorMapPayeeId") == null ? "" : (String)getFacesUtils().getRequestParameter("vendorMapPayeeId");
			
//			ArrayList contractRowIdList = getAllRowIdFromSelectedVendorMasterList();
			LOG.debug(">> vendorSelected: " + vendorSelected);
			
			if(StringUtils.equals("", rowIdConcatParam)){
				for(Object s : vendorSelected){
					LOG.debug("ROW ID: " + s.toString());
					rowIdConcatParam += s.toString().concat(",");
				}
				rowIdConcatParam = rowIdConcatParam.substring(0, rowIdConcatParam.lastIndexOf(","));
				LOG.debug(">> rowIdConcatParam: " + rowIdConcatParam);
			}
			
			
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			CT001ExportBank ct001ExportBank = new CT001ExportBank();
//			ct001ExportBank.setVendorMasterId(vendorSelected);
			ct001ExportBank.setVendorMapPayeeId(rowIdConcatParam);
			List<CT001ExportBank> exBankList = service.querySPList(EQueryName.SP_CT001_EX_PAYEE_TO_LEADER.name, ct001ExportBank);
			if(exBankList != null && !exBankList.isEmpty()){
				if(exBankList.get(0).getResult() == null || "".equals(exBankList.get(0).getResult())){
//					ct001Bean.setTmpBatch(exBankList.get(0).getBatchNo());
//					ct001Bean.setTmpBatchDT(exBankList.get(0).getBatchDT());
					ct001Bean.setTmpBatch(exBankList.get(0).getBatchNo());
					ct001Bean.setTmpBatchDT(exBankList.get(0).getBatchDT());
					ct001Bean.setDisplayReport(true);
				}else{
					flag = false;
					ct001Bean.setDisplayReport(false);
					ct001Bean.setRenderedMsgFormSearch(true);
					FrontMessageUtils.addMessageError(exBankList.get(0).getResult());
				}
			}else{
				flag = false;
				ct001Bean.setDisplayReport(false);
//				ct001Bean.setRenderedMsgDataNotFound(true);
//				ct001Bean.setRenderedMsgFormSearch(true);
//				ct001Bean.setMsgDataNotFound("");
				ct001Bean.setRenderedMsgFormSearch(true);
				FrontMessageUtils.addMessageError("");
			}
			ct001Bean.setCt001ExBankList(exBankList);
//			ct001Bean.setDisplayReport(true);
		}catch (Exception e) {
			ct001Bean.setDisplayReport(false);
			e.printStackTrace();
			LOG.debug("ERROR SEMMMM001Action initExportPayeeToLeader : "+e);
			
		}
		
		return flag;
	}
	
	public void doExportPayeeToLeader(){
		SEMMMM001Bean ct001Bean = getSemmmm001Bean();
		ct001Bean.setDisplayReport(false);
		
		short line = 0;
		DocumentExportManager<CT001ExportBank> docManager = new DocumentExportManager<CT001ExportBank>(CT001ExportBank.class, EnumDocumentType.XLS);
		docManager.setRowStart(line);
		/***********************************************/
		EnumDocStyleDomain headerStyle = new EnumDocStyleDomain(EnumDocStyle.HEADER);
		EnumDocStyleDomain	titleStyle	= new EnumDocStyleDomain(EnumDocStyle.TITLE);
		EnumDocStyleDomain normalLeft =  docManager.getStyle("ct001Field");
		EnumDocStyleDomain normalHeader =  new EnumDocStyleDomain(EnumDocStyle.CELL_NORMAL_BIG_FONT_CENTER);
		EnumDocStyleDomain normalCenter =  docManager.getStyle("si002Field");
		DateFormat df =  new SimpleDateFormat("dd/MM/yyyy HH:mm:ss"); 
		try{
		
			int rowNum = 3;
			String bankSum = "";
			int rowCount = 1;
			if(ct001Bean.getCt001ExBankList()!=null&&ct001Bean.getCt001ExBankList().size()>0){
		
				//start gen excel
				
				RowDomain row0 = new RowDomain(0,true);	
				row0.setCell(new CellDomain(0,13, null, String.class, titleStyle, msg("export.header.submitDetail")+" "+df.format(SEMDataUtility.convertToThYear(ct001Bean.getTmpBatchDT())),null));
				
				RowDomain row1 = new RowDomain(1,true);	
				row1.setCell(new CellDomain(0,13, null, String.class, titleStyle, msg("export.col.paymentBatchNo")+ct001Bean.getTmpBatch(),null));
				
				
				RowDomain row2 = new RowDomain(2,true);	
				row2.setCell(new CellDomain(0, null, String.class,headerStyle, msg("message.company"),-1,1500));
				row2.setCell(new CellDomain(1, null, String.class,headerStyle, "Contract No",-1,2800));
				row2.setCell(new CellDomain(2, null, String.class,headerStyle, "Vendor Code",-1,2800));
				row2.setCell(new CellDomain(3, null, String.class,headerStyle, "Vendor Name",-1,2800));
				row2.setCell(new CellDomain(4, null, String.class,headerStyle, "Branch Code",-1,2800));
				row2.setCell(new CellDomain(5, null, String.class,headerStyle, "Payee Name",-1,3000));
				row2.setCell(new CellDomain(6, null, String.class,headerStyle, "ID Card",-1,3000));
				row2.setCell(new CellDomain(7, null, String.class,headerStyle, "Tax ID",-1,2500));
				row2.setCell(new CellDomain(8, null, String.class,headerStyle, "Address 1",-1,3000));
				row2.setCell(new CellDomain(9, null, String.class,headerStyle, "Address 2",-1,3000));
				row2.setCell(new CellDomain(10, null, String.class,headerStyle, "District",-1,2100));
				row2.setCell(new CellDomain(11, null, String.class,headerStyle, "Amphur",-1,2200));
				row2.setCell(new CellDomain(12, null, String.class,headerStyle, "Province",-1,2100));
				row2.setCell(new CellDomain(13, null, String.class,headerStyle, "Post Code",-1,2100));
				
				
				for(CT001ExportBank expBank : ct001Bean.getCt001ExBankList()){
						
								RowDomain rowD = new RowDomain(rowNum++);
								rowD.setCell(new CellDomain(0, null, String.class, normalCenter, expBank.getCompany(),-1,1500));
								rowD.setCell(new CellDomain(1, null, String.class, normalCenter, expBank.getContractNoDesc(),-1,2800));
								rowD.setCell(new CellDomain(2, null, String.class, normalCenter, expBank.getVendorCode(),-1,2800));
								rowD.setCell(new CellDomain(3, null, String.class, normalLeft, expBank.getVendorName(),-1,2800));
								rowD.setCell(new CellDomain(4, null, String.class, normalCenter, expBank.getBranchNo(),-1,2800));
								rowD.setCell(new CellDomain(5, null, String.class, normalCenter, expBank.getPayeeName(),-1,3000));
								rowD.setCell(new CellDomain(6, null, String.class, normalLeft, expBank.getIdCard(),-1,3000));
								rowD.setCell(new CellDomain(7, null, String.class, normalLeft, expBank.getTax13(),-1,2300));
								rowD.setCell(new CellDomain(8, null, String.class, normalLeft, expBank.getAddress(),-1,3000));
								rowD.setCell(new CellDomain(9, null, String.class, normalLeft, expBank.getAddress2(),-1,3000));
								rowD.setCell(new CellDomain(10, null, String.class, normalLeft, expBank.getDistrict(),-1,2200));
								rowD.setCell(new CellDomain(11, null, String.class, normalLeft, expBank.getAmphur(),-1,2200));
								rowD.setCell(new CellDomain(12, null, String.class, normalLeft, expBank.getCity(),-1,2200));
								rowD.setCell(new CellDomain(13, null, String.class, normalLeft, expBank.getPostCode(),-1,2200));
								docManager.putDetailRow(rowD);
								rowCount++;
//								bankSum = expBank.getBankSum();
					
				}
			
			docManager.putDetailRow(row0);
			docManager.putDetailRow(row1);
			docManager.putDetailRow(row2);	
			docManager.seteObjectList(null);
			docManager.setModule("PAYEE");
			docManager.setPrintPageLandScape(true);
			docManager.setMargin(0.05, 0.05, 0.5, 0.05);
			docManager.getObjectFromDocument();
			docManager.exportServletFile();
			}else{
				RowDomain row0 = new RowDomain(0,true);	
				row0.setCell(new CellDomain(0,13, null, String.class, titleStyle, msg("export.header.submitDetail"),null));
				
				RowDomain row1 = new RowDomain(1,true);	
				row1.setCell(new CellDomain(0,13, null, String.class, titleStyle, msg("export.col.paymentBatchNo"),null));
				
				RowDomain row2 = new RowDomain(2,true);	
				row2.setCell(new CellDomain(0, null, String.class,headerStyle, msg("message.company"),-1,1500));
				row2.setCell(new CellDomain(1, null, String.class,headerStyle, "Contract No",-1,2500));
				row2.setCell(new CellDomain(2, null, String.class,headerStyle, "",-1,2500));
				row2.setCell(new CellDomain(3, null, String.class,headerStyle, "Vendor Code",-1,2500));
				row2.setCell(new CellDomain(4, null, String.class,headerStyle, "Title",-1,1500));
				row2.setCell(new CellDomain(5, null, String.class,headerStyle, "Vendor Name",-1,3000));
				row2.setCell(new CellDomain(6, null, String.class,headerStyle, "Payee Name",-1,3000));
				row2.setCell(new CellDomain(7, null, String.class,headerStyle, "Tax ID",-1,2500));
				row2.setCell(new CellDomain(8, null, String.class,headerStyle, "Address 1",-1,3000));
				row2.setCell(new CellDomain(9, null, String.class,headerStyle, "Address 2",-1,3000));
				row2.setCell(new CellDomain(10, null, String.class,headerStyle, "District",-1,2100));
				row2.setCell(new CellDomain(11, null, String.class,headerStyle, "Amphur",-1,2200));
				row2.setCell(new CellDomain(12, null, String.class,headerStyle, "Province",-1,2100));
				row2.setCell(new CellDomain(13, null, String.class,headerStyle, "Post Code",-1,2100));
				
				docManager.putDetailRow(row0);
				docManager.putDetailRow(row1);
				docManager.putDetailRow(row2);
				docManager.seteObjectList(null);
				docManager.setModule("PAYEE");
				docManager.setPrintPageLandScape(true);
				docManager.setMargin(0.05, 0.05, 0.5, 0.05);
				docManager.getObjectFromDocument();
				docManager.exportServletFile();
			}
		}catch (Exception e) {
			e.printStackTrace();
		}
	}
	
	//added by NEW 20151015
	private boolean initExportPayeeBookbankToLeader() {
		SEMMMM001Bean ct001Bean = getSemmmm001Bean();
		ct001Bean.setDisplayReport(false);
		ct001Bean.setCt001ExBankList(new ArrayList<CT001ExportBank>());
		boolean flag = true;
		try{
			//to get VendorMasterId
			ArrayList vendorSelected = getVendorMapPayeeSelected();
			
			String rowIdConcatParam = "";
			rowIdConcatParam = getFacesUtils().getRequestParameter("vendorMapPayeeId") == null ? "" : (String)getFacesUtils().getRequestParameter("vendorMapPayeeId");
			
			if(StringUtils.equals("", rowIdConcatParam)){
				for(Object s : vendorSelected){
					LOG.debug("ROW ID: " + s.toString());
					rowIdConcatParam += s.toString().concat(",");
				}
				rowIdConcatParam = rowIdConcatParam.substring(0, rowIdConcatParam.lastIndexOf(","));
				LOG.debug(">> rowIdConcatParam: " + rowIdConcatParam);
				
			}
//			ArrayList contractRowIdList = getAllRowIdFromSelectedVendorMasterList();
			LOG.debug(">> vendorSelected: " + vendorSelected);
		
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			CT001ExportBank ct001ExportBank = new CT001ExportBank();
//			ct001ExportBank.setVendorMasterId(vendorSelected);
			ct001ExportBank.setVendorMapPayeeId(rowIdConcatParam);
			ct001ExportBank.setUserId(getUserLogIn());
			List<CT001ExportBank> exBankList = service.querySPList(EQueryName.SP_CT001_EX_PAYEE_BOOKBANK_TO_LEADER.name, ct001ExportBank);
			if(exBankList != null && !exBankList.isEmpty()){
				if(exBankList.get(0).getResult() == null || "".equals(exBankList.get(0).getResult())){
//					ct001Bean.setTmpBatch(exBankList.get(0).getBatchNo());
//					ct001Bean.setTmpBatchDT(exBankList.get(0).getBatchDT());
					ct001Bean.setTmpBatch(exBankList.get(0).getBatchNo());
					ct001Bean.setTmpBatchDT(exBankList.get(0).getBatchDT());
					ct001Bean.setDisplayReport(true);
				}else{
					flag = false;
					ct001Bean.setDisplayReport(false);
					ct001Bean.setRenderedMsgFormSearch(true);
					FrontMessageUtils.addMessageError(exBankList.get(0).getResult());
				}
			}else{
				flag = false;
				ct001Bean.setDisplayReport(false);
//				ct001Bean.setRenderedMsgDataNotFound(true);
//				ct001Bean.setRenderedMsgFormSearch(true);
//				ct001Bean.setMsgDataNotFound("");
				ct001Bean.setRenderedMsgFormSearch(true);
				FrontMessageUtils.addMessageError("");
			}
			ct001Bean.setCt001ExBankList(exBankList);
//			ct001Bean.setDisplayReport(true);
		}catch (Exception e) {
			ct001Bean.setDisplayReport(false);
		}
		
		return flag;
	}
	
	public void doExportPayeeBookbankToLeader(){
		SEMMMM001Bean ct001Bean = getSemmmm001Bean();
		ct001Bean.setDisplayReport(false);
		
		short line = 0;
		DocumentExportManager<CT001ExportBank> docManager = new DocumentExportManager<CT001ExportBank>(CT001ExportBank.class, EnumDocumentType.XLS);
		docManager.setRowStart(line);
		/***********************************************/
		EnumDocStyleDomain headerStyle = new EnumDocStyleDomain(EnumDocStyle.HEADER);
		EnumDocStyleDomain normalLeft =  docManager.getStyle("ct001Field");
		EnumDocStyleDomain normalHeader =  new EnumDocStyleDomain(EnumDocStyle.CELL_NORMAL_BIG_FONT_CENTER);
		EnumDocStyleDomain normalCenter =  docManager.getStyle("si002Field");
		EnumDocStyleDomain	titleStyle	= new EnumDocStyleDomain(EnumDocStyle.TITLE);
		DateFormat df =  new SimpleDateFormat("dd/MM/yyyy HH:mm:ss"); 
		try{
		
			int rowNum = 2;
			String bankSum = "";
			int rowCount = 1;
			if(ct001Bean.getCt001ExBankList()!=null&&ct001Bean.getCt001ExBankList().size()>0){
				RowDomain row0 = new RowDomain(0,true);	
				row0.setCell(new CellDomain(0,9, null, String.class, titleStyle, msg("export.header.submitDetail")+" "+df.format(SEMDataUtility.convertToThYear(ct001Bean.getTmpBatchDT())),null));
				
				RowDomain row1 = new RowDomain(1,true);	
				row1.setCell(new CellDomain(0,9, null, String.class, titleStyle, msg("export.col.paymentBatchNo")+ct001Bean.getTmpBatch(),null));
				docManager.putDetailRow(row0);
				docManager.putDetailRow(row1);
				
				for(CT001ExportBank expBank : ct001Bean.getCt001ExBankList()){
					if(!StringUtils.equalsIgnoreCase(bankSum, expBank.getBankSum())){
						
						if(StringUtils.isEmpty(bankSum)&&StringUtils.isNotEmpty(expBank.getBankSum())){
							rowCount = 1;
							RowDomain rowFirstH = new RowDomain(rowNum++);
							rowFirstH.setCell(new CellDomain(0,3, null, String.class, normalHeader, expBank.getBankSum(),-1,10000));
							RowDomain rowH = new RowDomain(rowNum++);
							rowH.setCell(new CellDomain(0, null, String.class, headerStyle, "NO",-1,700));
							rowH.setCell(new CellDomain(1, null, String.class, headerStyle, "BU",-1,1200));
							rowH.setCell(new CellDomain(2, null, String.class, headerStyle, "VENDOR",-1,3000));
							rowH.setCell(new CellDomain(3, null, String.class, headerStyle, "SUPLIER NAME",-1,6000));
							rowH.setCell(new CellDomain(4, null, String.class, headerStyle, "BANK BR.",-1,2500));
							rowH.setCell(new CellDomain(5, null, String.class, headerStyle, "A/C.NO",-1,2800));
							rowH.setCell(new CellDomain(6, null, String.class, headerStyle, "NAME BANK",-1,9500));
							rowH.setCell(new CellDomain(7, null, String.class, headerStyle, "NAME ACC.",-1,6000));
							rowH.setCell(new CellDomain(8, null, String.class, headerStyle, msg("export.col.remarkTh"),-1,4000));
							rowH.setCell(new CellDomain(9, null, String.class, normalHeader, null,-1,1200));
							
							docManager.putDetailRow(rowFirstH);
							docManager.putDetailRow(rowH);
						}else{
								rowCount = 1;
								RowDomain rowBlank1 = new RowDomain(rowNum++);
								rowBlank1.setCell(new CellDomain(0,8,null, String.class, normalHeader, null,-1,46000));
								docManager.putDetailRow(rowBlank1);
								RowDomain rowBlank2 = new RowDomain(rowNum++);
								rowBlank2.setCell(new CellDomain(0,8, null, String.class, normalHeader, null,-1,46000));
								RowDomain rowFirstH = new RowDomain(rowNum++);
								docManager.putDetailRow(rowBlank2);
								rowFirstH.setCell(new CellDomain(0,3, null, String.class, normalHeader, expBank.getBankSum(),-1,10000));
								docManager.putDetailRow(rowFirstH);
								RowDomain rowH = new RowDomain(rowNum++);
								rowH.setCell(new CellDomain(0, null, String.class, headerStyle, "NO",-1,700));
								rowH.setCell(new CellDomain(1, null, String.class, headerStyle, "BU",-1,1200));
								rowH.setCell(new CellDomain(2, null, String.class, headerStyle, "VENDOR",-1,3000));
								rowH.setCell(new CellDomain(3, null, String.class, headerStyle, "SUPLIER NAME",-1,6000));
								rowH.setCell(new CellDomain(4, null, String.class, headerStyle, "BANK BR.",-1,2500));
								rowH.setCell(new CellDomain(5, null, String.class, headerStyle, "A/C.NO",-1,2800));
								rowH.setCell(new CellDomain(6, null, String.class, headerStyle, "NAME BANK",-1,9500));
								rowH.setCell(new CellDomain(7, null, String.class, headerStyle, "NAME ACC.",-1,6000));
								rowH.setCell(new CellDomain(8, null, String.class, headerStyle, msg("export.col.remarkTh"),-1,4000));
								rowH.setCell(new CellDomain(9, null, String.class, normalHeader, null,-1,1200));
								docManager.putDetailRow(rowH);
						}
						
					}
								RowDomain rowD = new RowDomain(rowNum++);
								rowD.setCell(new CellDomain(0, null, String.class, normalCenter, rowCount,-1,700));
								rowD.setCell(new CellDomain(1, null, String.class, normalCenter, expBank.getCompany(),-1,1200));
								rowD.setCell(new CellDomain(2, null, String.class, normalCenter, expBank.getVendorCode(),-1,3000));
								rowD.setCell(new CellDomain(3, null, String.class, normalLeft, expBank.getVendorName(),-1,6000));
								rowD.setCell(new CellDomain(4, null, String.class, normalCenter, expBank.getBookBankCode(),-1,2500));
								rowD.setCell(new CellDomain(5, null, String.class, normalCenter, expBank.getBankAccNo(),-1,2800));
								rowD.setCell(new CellDomain(6, null, String.class, normalLeft, expBank.getBankName(),-1,9500));
								rowD.setCell(new CellDomain(7, null, String.class, normalLeft, expBank.getBankAccName(),-1,6000));
								rowD.setCell(new CellDomain(8, null, String.class, normalLeft, expBank.getRemark(),-1,4000));
								rowD.setCell(new CellDomain(9, null, String.class, normalHeader, null,-1,1200));
								docManager.putDetailRow(rowD);
								rowCount++;
								bankSum = expBank.getBankSum();
				}
				docManager.seteObjectList(null);
				docManager.setModule("PAYEE_BOOKBANK");
				docManager.setPrintPageLandScape(true);
				docManager.setMargin(0.05, 0.05, 0.5, 0.05);
				docManager.getObjectFromDocument();
				docManager.exportServletFile();
			}
//			else{
//				
//				RowDomain row0 = new RowDomain(0,true);	
//				row0.setCell(new CellDomain(0,9, null, String.class, titleStyle, msg("export.header.submitDetail"),null));
//				
//				RowDomain row1 = new RowDomain(1,true);	
//				row1.setCell(new CellDomain(0,9, null, String.class, titleStyle, msg("export.col.paymentBatchNo"),null));
//				docManager.putDetailRow(row0);
//				docManager.putDetailRow(row1);
//				
//				RowDomain rowH = new RowDomain(3);
//				rowH.setCell(new CellDomain(0, null, String.class, headerStyle, "NO",-1,700));
//				rowH.setCell(new CellDomain(1, null, String.class, headerStyle, "BU",-1,1200));
//				rowH.setCell(new CellDomain(2, null, String.class, headerStyle, "VENDOR",-1,3000));
//				rowH.setCell(new CellDomain(3, null, String.class, headerStyle, "SUPLIER NAME",-1,6000));
//				rowH.setCell(new CellDomain(4, null, String.class, headerStyle, "BANK BR.",-1,2500));
//				rowH.setCell(new CellDomain(5, null, String.class, headerStyle, "A/C.NO",-1,2800));
//				rowH.setCell(new CellDomain(6, null, String.class, headerStyle, "NAME BANK",-1,9500));
//				rowH.setCell(new CellDomain(7, null, String.class, headerStyle, "NAME ACC.",-1,6000));
//				rowH.setCell(new CellDomain(8, null, String.class, headerStyle, msg("export.col.remarkTh"),-1,4000));
//				rowH.setCell(new CellDomain(9, null, String.class, normalHeader, null,-1,1200));
//				docManager.putDetailRow(rowH);
//			}
//			docManager.seteObjectList(null);
//			docManager.setModule("VENDOR_BOOKBANK");
//			docManager.setPrintPageLandScape(true);
//			docManager.setMargin(0.05, 0.05, 0.5, 0.05);
//			docManager.getObjectFromDocument();
//			docManager.exportServletFile();
		}catch (Exception e) {
			e.printStackTrace();
		}
	}
	
	private ArrayList getVendorIdSelected(){
		LOG.info("::: SEMMMM001Action :: getVendorIdSelected >> BEGIN :::");
		
		ArrayList tempList = new ArrayList();
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			
			List<WrapperBeanObject<Mmm001VendorMasterSP>> vendorTempResultList = new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>();
			
			// condition with 2 tables cannot collected together
			// request changed 2017/06/07
			// lazy fixed low performance
			// >>
			// table ACTIVE (ACT)
			vendorTempResultList = semmmm001Bean.getVendorMasterResultList();
			
			int countTmp = 0; // lazy checked for collect by only one table
			String tmpId = "";
			
			for (WrapperBeanObject<Mmm001VendorMasterSP> obj : vendorTempResultList) {
				Mmm001VendorMasterSP contractSp = (Mmm001VendorMasterSP)obj.getDataObj();
				if(obj.isCheckBox()){
					String vendorId = contractSp.getVendorId() == null ? "" : contractSp.getVendorId();
					String vendorMapPayeeId = contractSp.getVendorMapPayeeId() == null ? "" : contractSp.getVendorMapPayeeId();
					String accountNo = contractSp.getAccountNo() == null ? "" : contractSp.getAccountNo();
					LOG.debug(">> (ACT) vendorId: " + vendorId);
//					LOG.debug(">> (ACT) vendorMapPayeeId: " + vendorMapPayeeId);
//					LOG.debug(">> (ACT) accountNo: " + accountNo);
					
//					tempList.add(vendorId+","+vendorMapPayeeId+","+accountNo);
					tempList.add(vendorId);
					
					if(contractSp.getGroupNo() != null)tmpId = contractSp.getGroupNo();
					countTmp++;
				}else if(tmpId != null && !StringUtils.equals("", tmpId) && StringUtils.equals(tmpId, contractSp.getGroupNo())){
					String vendorId = contractSp.getVendorId() == null ? "" : contractSp.getVendorId();
					String vendorMapPayeeId = contractSp.getVendorMapPayeeId() == null ? "" : contractSp.getVendorMapPayeeId();
					String accountNo = contractSp.getAccountNo() == null ? "" : contractSp.getAccountNo();
					LOG.debug(">> (ACT) vendorId: " + vendorId);
//					LOG.debug(">> (ACT) vendorMapPayeeId: " + vendorMapPayeeId);
//					LOG.debug(">> (ACT) accountNo: " + accountNo);
					
//					tempList.add(vendorId+","+vendorMapPayeeId+","+accountNo);
					tempList.add(vendorId);
					countTmp++;
				}
			}
			
			// table TERMINATE (TMN)
			if(countTmp == 0){
				tempList = new ArrayList();
				vendorTempResultList = semmmm001Bean.getVendorMasterTerminateResultList();
				
				for (WrapperBeanObject<Mmm001VendorMasterSP> obj : vendorTempResultList) {
					Mmm001VendorMasterSP contractSp = (Mmm001VendorMasterSP)obj.getDataObj();
					if(obj.isCheckBox()){
						String vendorId = contractSp.getVendorId() == null ? "" : contractSp.getVendorId();
						String vendorMapPayeeId = contractSp.getVendorMapPayeeId() == null ? "" : contractSp.getVendorMapPayeeId();
						String accountNo = contractSp.getAccountNo() == null ? "" : contractSp.getAccountNo();
						LOG.debug(">> (ACT) vendorId: " + vendorId);
//						LOG.debug(">> (ACT) vendorMapPayeeId: " + vendorMapPayeeId);
//						LOG.debug(">> (ACT) accountNo: " + accountNo);
						
//						tempList.add(vendorId+","+vendorMapPayeeId+","+accountNo);
						if(contractSp.getGroupNo() != null)tmpId = contractSp.getGroupNo();
						tempList.add(vendorId);
					}else if(tmpId != null && !StringUtils.equals("", tmpId) && StringUtils.equals(tmpId, contractSp.getGroupNo())){
						String vendorId = contractSp.getVendorId() == null ? "" : contractSp.getVendorId();
						String vendorMapPayeeId = contractSp.getVendorMapPayeeId() == null ? "" : contractSp.getVendorMapPayeeId();
						String accountNo = contractSp.getAccountNo() == null ? "" : contractSp.getAccountNo();
						LOG.debug(">> (ACT) vendorId: " + vendorId);
//						LOG.debug(">> (ACT) vendorMapPayeeId: " + vendorMapPayeeId);
//						LOG.debug(">> (ACT) accountNo: " + accountNo);
						
//						tempList.add(vendorId+","+vendorMapPayeeId+","+accountNo);
						tempList.add(vendorId);
					}
				}
			}
			// <<
		
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			LOG.info("::: SEMMMM001Action :: getVendorIdSelected >> END :::");
		}
		return tempList;
	}
	
	private ArrayList getVendorMapPayeeSelected(){
		LOG.info("::: SEMMMM001Action :: getVendorMapPayeeSelected >> BEGIN :::");
		
		ArrayList tempList = new ArrayList();
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			
			List<WrapperBeanObject<Mmm001VendorMasterSP>> vendorTempResultList = new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>();
			
			// condition with 2 tables cannot collected together
			// request changed 2017/06/07
			// lazy fixed low performance
			// >>
			// table ACTIVE (ACT)
			vendorTempResultList = semmmm001Bean.getVendorMasterResultList();
			
			int countTmp = 0; // lazy checked for collect by only one table
			String tmpId = "";
			
			for (WrapperBeanObject<Mmm001VendorMasterSP> obj : vendorTempResultList) {
				Mmm001VendorMasterSP contractSp = (Mmm001VendorMasterSP)obj.getDataObj();
				if(obj.isCheckBox()){
					String vendorId = contractSp.getVendorId() == null ? "" : contractSp.getVendorId();
					String vendorMapPayeeId = contractSp.getVendorMapPayeeId() == null ? "" : contractSp.getVendorMapPayeeId();
					String accountNo = contractSp.getAccountNo() == null ? "" : contractSp.getAccountNo();
//					LOG.debug(">> (ACT) vendorId: " + vendorId);
					LOG.debug(">> (ACT) vendorMapPayeeId: " + vendorMapPayeeId);
//					LOG.debug(">> (ACT) accountNo: " + accountNo);
					
//					tempList.add(vendorId+","+vendorMapPayeeId+","+accountNo);
					tempList.add(vendorMapPayeeId);
					
					if(contractSp.getGroupNo() != null)tmpId = contractSp.getGroupNo();
					countTmp++;
				}else if(tmpId != null && !StringUtils.equals("", tmpId) && StringUtils.equals(tmpId, contractSp.getGroupNo())){
					String vendorId = contractSp.getVendorId() == null ? "" : contractSp.getVendorId();
					String vendorMapPayeeId = contractSp.getVendorMapPayeeId() == null ? "" : contractSp.getVendorMapPayeeId();
					String accountNo = contractSp.getAccountNo() == null ? "" : contractSp.getAccountNo();
//					LOG.debug(">> (ACT) vendorId: " + vendorId);
					LOG.debug(">> (ACT) vendorMapPayeeId: " + vendorMapPayeeId);
//					LOG.debug(">> (ACT) accountNo: " + accountNo);
					
//					tempList.add(vendorId+","+vendorMapPayeeId+","+accountNo);
					tempList.add(vendorMapPayeeId);
					countTmp++;
				}
			}
			
			// table TERMINATE (TMN)
			if(countTmp == 0){
				tempList = new ArrayList();
				vendorTempResultList = semmmm001Bean.getVendorMasterTerminateResultList();
				
				for (WrapperBeanObject<Mmm001VendorMasterSP> obj : vendorTempResultList) {
					Mmm001VendorMasterSP contractSp = (Mmm001VendorMasterSP)obj.getDataObj();
					if(obj.isCheckBox()){
						String vendorId = contractSp.getVendorId() == null ? "" : contractSp.getVendorId();
						String vendorMapPayeeId = contractSp.getVendorMapPayeeId() == null ? "" : contractSp.getVendorMapPayeeId();
						String accountNo = contractSp.getAccountNo() == null ? "" : contractSp.getAccountNo();
//						LOG.debug(">> (ACT) vendorId: " + vendorId);
						LOG.debug(">> (ACT) vendorMapPayeeId: " + vendorMapPayeeId);
//						LOG.debug(">> (ACT) accountNo: " + accountNo);
						
//						tempList.add(vendorId+","+vendorMapPayeeId+","+accountNo);
						if(contractSp.getGroupNo() != null)tmpId = contractSp.getGroupNo();
						tempList.add(vendorMapPayeeId);
					}else if(tmpId != null && !StringUtils.equals("", tmpId) && StringUtils.equals(tmpId, contractSp.getGroupNo())){
						String vendorId = contractSp.getVendorId() == null ? "" : contractSp.getVendorId();
						String vendorMapPayeeId = contractSp.getVendorMapPayeeId() == null ? "" : contractSp.getVendorMapPayeeId();
						String accountNo = contractSp.getAccountNo() == null ? "" : contractSp.getAccountNo();
//						LOG.debug(">> (ACT) vendorId: " + vendorId);
						LOG.debug(">> (ACT) vendorMapPayeeId: " + vendorMapPayeeId);
//						LOG.debug(">> (ACT) accountNo: " + accountNo);
						
//						tempList.add(vendorId+","+vendorMapPayeeId+","+accountNo);
						tempList.add(vendorMapPayeeId);
					}
				}
			}
			// <<
		
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			LOG.info("::: SEMMMM001Action :: getVendorMapPayeeSelected >> END :::");
		}
		return tempList;
	}
	
	public boolean doForwardFromTodoPage(){
		boolean flag = true;
		boolean managerTodoFlag = false;
		SEMMMM002Bean semmmm002Bean = new SEMMMM002Bean();
		
		semmmm001Bean = getSemmmm001Bean();
		String actionType;
		String navProgramBack;
		String actionWithNaviBack;
		String methodWithNaviBack;
		String backOtherPageFlag;
		String todoManagerFlag = "";
		String navProgram = "";
		String navModuleBack;
		try{
			
			actionType = (String)getFacesUtils().getRequestParameter("actionType") == null ? "" : (String)getFacesUtils().getRequestParameter("actionType");
			navProgramBack = (String)getFacesUtils().getRequestParameter("navProgramBack") == null ? "" : (String)getFacesUtils().getRequestParameter("navProgramBack");
			actionWithNaviBack = (String)getFacesUtils().getRequestParameter("actionWithNaviBack") == null ? "" : (String)getFacesUtils().getRequestParameter("actionWithNaviBack");
			methodWithNaviBack = (String)getFacesUtils().getRequestParameter("methodWithNaviBack") == null ? "" : (String)getFacesUtils().getRequestParameter("methodWithNaviBack");
			backOtherPageFlag = (String)getFacesUtils().getRequestParameter("backOtherPageFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("backOtherPageFlag");
			todoManagerFlag = (String)getFacesUtils().getRequestParameter("todoManagerFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("todoManagerFlag");
			navProgram = (String)getFacesUtils().getRequestParameter("navProgram") == null ? "" : (String)getFacesUtils().getRequestParameter("navProgram");
			navModuleBack = (String)getFacesUtils().getRequestParameter("navModuleBack") == null ? "" : (String)getFacesUtils().getRequestParameter("navModuleBack");
			if(StringUtils.equals("Y", todoManagerFlag)){
				semmmm002Bean = (SEMMMM002Bean)FacesContext.getCurrentInstance().getExternalContext().getSessionMap().get("semmmm002Bean");
				
				init();
				semmmm001Bean.setTodoManagerFlag("Y");
			}
			
			if(StringUtils.equals("Y", backOtherPageFlag)){
				semmmm001Bean.setRenderedBtnTodoBack(true);
			}
			
			semmmm001Bean.setNavProgramBack(navProgramBack);
			semmmm001Bean.setActionWithNaviBack(actionWithNaviBack);
			semmmm001Bean.setMethodWithNaviBack(methodWithNaviBack);
			semmmm001Bean.setNavModuleBack(navModuleBack);
			
			if(StringUtils.equals("SEMMMM001-2", navProgram.toUpperCase())){
				this.doViewVendorByVendorIdOtherPage();
			}else if(StringUtils.equals("SEMMMM001-3", navProgram.toUpperCase())){
				this.doViewBookbankByVendorBookbankId();
			}else if(StringUtils.equals("SEMMMM001-4", navProgram.toUpperCase())){
				this.doViewPayeeByPayeeId();
			}else if(StringUtils.equals("SEMMMM001-5", navProgram.toUpperCase())){
				this.doViewBBPayeeByBookbankPayeeId();
			}
			
		}catch (Exception e) {
			// TODO: handle exception
			e.printStackTrace();
			LOG.debug("Error From SEMMMM001Action doForwardFromTodoPage");
		}finally{
			setSemmmm001Bean(semmmm001Bean);
			if(StringUtils.equals("Y", todoManagerFlag)){
				FacesContext.getCurrentInstance().getExternalContext().getSessionMap().put("semmmm002Bean", semmmm002Bean);
			}
			
		}
		return flag;
	}
	
	private boolean doViewVendorByVendorIdOtherPage() {
		LOG.info("::: SEMMMM001Action :: doViewVendorByVendorIdOtherPage >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			String cancelFlag = getFacesUtils().getRequestParameter("cancelFlag") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("cancelFlag");
			
//			System.out.println("contractNo : "+contractNo);
//			System.out.println("vendorId : "+vendorId);
			this.doGetRequestParam();
			
		
			// -- 2017/08/23
			semmmm001Bean.getContractInfo().setContractNo(contractNo);
			
			if(StringUtils.equals("Y", cancelFlag)){
				this.doVendorClearContent();
				
			}	
			this.doReloadAllVendorContent(contractNo, vendorId, vendorMapPayeeId);
			semmmm001Bean.setSelectedTab("tab0");
			semmmm001Bean.setPayeeSelectedTab("tabP0");
			semmmm001Bean.setVisiblePnlAddContractInfo(false);
			semmmm001Bean.setVisiblePnlVendorInfo(true);
			semmmm001Bean.setVisiblePnlBankListInfo(true);
			semmmm001Bean.setVisiblePnlBookbankPayeeListInfo(true);
						
			semmmm001Bean.setDisableBtnNewVendor(false);
			
			semmmm001Bean.setDisableContent(true); 
			semmmm001Bean.setDisableEditVendorContent(true); 
			
			semmmm001Bean.setDisableBtnEditVendor(false);
			semmmm001Bean.setDisableBtnSaveVendor(true);
			
			semmmm001Bean.setRenderedPnlCmpVendorInfo(false);
			
			semmmm001Bean.setRenderedBtnNewVendor(false);
			semmmm001Bean.setRenderedBtnNewAllVendor(true);
			semmmm001Bean.setRenderedBtnNewVendorDetail(false);
			semmmm001Bean.setRenderedBtnSelectVendor(false);
				
			// temp param for saveFlag
//			semmmm001Bean.getVendorInfo().setSaveFlag("E"); //EDIT
			if(semmmm001Bean.getVendorInfo().getSaveFlag() != null){
				if(StringUtils.equals("N", semmmm001Bean.getVendorInfo().getSaveFlag())){
					semmmm001Bean.getVendorInfo().setSaveFlag("V");
				}
			}
			
			// clear object expense
			semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
			
//			// default paytype
//			if(StringUtils.equals("", semmmm001Bean.getExpCntrctOfVndObj().getPayType()) ){
//				semmmm001Bean.getExpCntrctOfVndObj().setPayType("01");
//			}
			
			
			if(!contractNo.isEmpty()){
				semmmm001Bean.setVisiblePnlContractInfo(false);
				
				this.doEditContractOfExpenseOtherPage(); // 2017/08/15 -- 
//				this.doFillinExpenseInfo();		// 2017/08/15 --
				semmmm001Bean.setDisableBtnSaveVendor(false);	// 2017/08/15 --
			} else { 
				semmmm001Bean.setVisiblePnlContractInfo(false);
			}
//			semmmm001Bean.setNewVendorFlag("");
			this.doCompareVendorWithSAP();
//			this.doChkWithoutContract();
			this.doGetVendorCheckBox();
			this.doManageVendorDetailBtn();
			this.doValidateBtnPage();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			LOG.debug("getNewVendorFlag : "+semmmm001Bean.getNewVendorFlag());
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewVendorByVendorIdOtherPage >> END :::");
		}
		return flag;
	}
	
	public void doEditContractOfExpenseOtherPage(){
		LOG.info("::: SEMMMM001Action :: doEditContractOfExpenseOtherPage >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String expenseEffectiveDtStrParam = getFacesUtils().getRequestParameter("expenseEffectiveDtStrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("expenseEffectiveDtStrParam");
			String effectiveDtStrParam = getFacesUtils().getRequestParameter("effectiveDtStrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("effectiveDtStrParam");
			String expireDtStrParam = getFacesUtils().getRequestParameter("expireDtStrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("expireDtStrParam");
			String expenseTypeIdParam = getFacesUtils().getRequestParameter("expenseTypeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("expenseTypeIdParam");
			String payTypeIdParam = getFacesUtils().getRequestParameter("payTypeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("payTypeIdParam");
			
			String vendorIdParam = semmmm001Bean.getVendorInfo().getVendorId() == null ? "" : 
				   (String) semmmm001Bean.getVendorInfo().getVendorId();
			String vendorMapPayeeIdParam = semmmm001Bean.getVendorInfo().getVendorMapPayeeId() == null ? "" : 
				(String)semmmm001Bean.getVendorInfo().getVendorMapPayeeId();
			
			
			String historyFlag = getFacesUtils().getRequestParameter("historyFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("historyFlag");
			
			// --
			semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
			semmmm001Bean.getExpCntrctOfVndObj().setContractNoOld(contractNo); // --
			semmmm001Bean.getExpCntrctOfVndObj().setContractNo(contractNo);
			semmmm001Bean.getExpCntrctOfVndObj().setExpenseType(expenseTypeIdParam);
			semmmm001Bean.getExpCntrctOfVndObj().setPayType(payTypeIdParam);
			
			semmmm001Bean.getExpCntrctOfVndObj().setVendorId(vendorIdParam);
			semmmm001Bean.getExpCntrctOfVndObj().setVendorMapPayeeId(vendorMapPayeeIdParam);
			
			if(!StringUtils.equals("Y", historyFlag)){
				semmmm001Bean.setVendorInfoBackParam(new Mmm001VendorMasterSP());// --
				semmmm001Bean.getVendorInfoBackParam().setContractNo(contractNo);
				semmmm001Bean.getVendorInfoBackParam().setVendorId(vendorIdParam);
				
				semmmm001Bean.getVendorInfoBackParam().setVendorEffectiveDtStr(expenseEffectiveDtStrParam);
				semmmm001Bean.getVendorInfoBackParam().setEffectiveDtStr(effectiveDtStrParam);
				semmmm001Bean.getVendorInfoBackParam().setExpireDtStr(expireDtStrParam);
				semmmm001Bean.getVendorInfoBackParam().setExpenseTypeId(expenseTypeIdParam);
				semmmm001Bean.getVendorInfoBackParam().setPayTypeId(payTypeIdParam);
				semmmm001Bean.getVendorInfoBackParam().setVendorMapPayeeId(vendorMapPayeeIdParam);
				
			}
			
			if(!expenseEffectiveDtStrParam.isEmpty())
				semmmm001Bean.getExpCntrctOfVndObj().setExpenseEffectiveDt(SEMDataUtility.convertStringToDateByFormat(expenseEffectiveDtStrParam, DateUtil.SIMPLE_DATE_PATTERN));
			
			if(!effectiveDtStrParam.isEmpty())
				semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDt(SEMDataUtility.convertStringToDateByFormat(effectiveDtStrParam, DateUtil.SIMPLE_DATE_PATTERN));
			
			if(!expireDtStrParam.isEmpty())
				semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDt(SEMDataUtility.convertStringToDateByFormat(expireDtStrParam, DateUtil.SIMPLE_DATE_PATTERN));
			
			
			// -- 2017/08/08
			semmmm001Bean.setDisableBtnSaveVendor(false);
			
			this.doVendorGetPayment(vendorMapPayeeIdParam,contractNo);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doEditContractOfExpenseOtherPage >> END :::");
		}
	}
	
	public boolean doBackwardFromTodoPage(){
		boolean flag = true;
		SEMMMM002Bean semmmm002Bean = new SEMMMM002Bean();
		String todoManagerFlag = "";
		semmmm001Bean = getSemmmm001Bean();
		try{
			todoManagerFlag = (String)getFacesUtils().getRequestParameter("todoManagerFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("todoManagerFlag");
			
			if(StringUtils.equals("Y", todoManagerFlag)){
				semmmm002Bean = (SEMMMM002Bean)FacesContext.getCurrentInstance().getExternalContext().getSessionMap().get("semmmm002Bean");
				semmmm001Bean.setTodoManagerFlag("Y");
			}
			
		}catch (Exception e) {
			// TODO: handle exception
			e.printStackTrace();
			LOG.debug("Error From SEMMMM001Action doForwardFromTodoPage");
		}finally{
			setSemmmm001Bean(semmmm001Bean);
			if(StringUtils.equals("Y", todoManagerFlag)){
				FacesContext.getCurrentInstance().getExternalContext().getSessionMap().put("semmmm002Bean", semmmm002Bean);
			}
		}
		return flag;
	}
	
	private boolean doClearBatch(String vendorMapPayeeId, String vendorId, String bookbankId, String payeeId, String bookbankPayeeId) {
		LOG.info("::: SEMMMM001Action :: doClearBatch >> BEGIN :::");
		boolean flag = true;
		
		IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
		List<ItemResultSP> result = null;
		
		try {
			setSemmmm001Bean(semmmm001Bean);
			
			ItemParamsSP params = new ItemParamsSP();
			params.setParam1(vendorMapPayeeId);
			params.setParam2(vendorId);
			params.setParam3(bookbankId);
			params.setParam4(payeeId);
			params.setParam5(bookbankPayeeId);
			params.setParam6(getUserLogIn());
			
			result = service.querySPList(EQueryName.SEM_SAP_CLEAR_BATCH.name, params);
			
			if(result != null && result.size() != 0 &&
			   result.get(0).getResultType() != null && 
			   result.get(0).getResultType().equalsIgnoreCase("SUCCESS")){
				
					flag = true;
					this.doReloadAllVendorContent(semmmm001Bean.getExpCntrctOfVndObj().getContractNo(), vendorId, vendorMapPayeeId);
					
			} else {
				flag = false;
			}
			
			// - result dialog -
			resultDialog(result);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action doClearBatch");
			flag = false;
			
			resultDialogException(SEMDataUtility.buildMessage(getMessageByCode("EL0000"), "SEMMMM001Action"));
		} finally {
			semmmm001Bean.setDisableBtnClearBatch(true);
			
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doClearBatch >> END :::");
		}
		return flag;
	}
	
	private boolean doCancel(String vendorMapPayeeId, String vendorId, String bookbankId, String payeeId, String bookbankPayeeId) {
		LOG.info("::: SEMMMM001Action :: doCancel >> BEGIN :::");
		boolean flag = true;
		String navProgram = (String)getFacesUtils().getRequestParameter("navProgram") == null ? "" : (String)getFacesUtils().getRequestParameter("navProgram");
		IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
		List<ItemResultSP> result = null;
		
		try {
			setSemmmm001Bean(semmmm001Bean);
			
			ItemParamsSP params = new ItemParamsSP();
			params.setParam1(vendorMapPayeeId);
			params.setParam2(vendorId);
			params.setParam3(bookbankId);
			params.setParam4(payeeId);
			params.setParam5(bookbankPayeeId);
			params.setParam6(getUserLogIn());
			params.setParam7(navProgram);
			
			result = service.querySPList(EQueryName.SEM_SAP_CANCEL.name, params);
			
			if(result != null && result.size() != 0 &&
			   result.get(0).getResultType() != null && 
			   result.get(0).getResultType().equalsIgnoreCase("SUCCESS")){
					flag = true;
			} else {
				flag = false;
			}
			
			// - result dialog -
			resultDialog(result);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action doCancel");
			flag = false;
			
			resultDialogException(SEMDataUtility.buildMessage(getMessageByCode("EL0000"), "SEMMMM001Action"));
		} finally {
			semmmm001Bean.setDisableBtnClearBatch(true);
			
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doCancel >> END :::");
		}
		return flag;
	}
	
	private boolean doConfirm(String vendorMapPayeeId, String vendorId, String bookbankId, String payeeId, String bookbankPayeeId) {
		LOG.info("::: SEMMMM001Action :: doConfirm >> BEGIN :::");
		boolean flag = true;
		
		IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
		List<ItemResultSP> result = null;
		
		try {
			String typeFlag = getFacesUtils().getRequestParameter("typeFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("typeFlag");
			setSemmmm001Bean(semmmm001Bean);
			
			ItemParamsSP params = new ItemParamsSP();
			params.setParam1(vendorMapPayeeId);
			params.setParam2(typeFlag);
			params.setParam3(getUserLogIn());
			
			result = service.querySPList(EQueryName.SEM_SAP_CT_CONFIRM.name, params);
			
			if(result != null && result.size() != 0 &&
			   result.get(0).getResultType() != null && 
			   result.get(0).getResultType().equalsIgnoreCase("SUCCESS")){
					flag = true;
			} else {
				flag = false;
			}
			
			// - result dialog -
			resultDialog(result);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action doConfirm");
			flag = false;
			
			resultDialogException(SEMDataUtility.buildMessage(getMessageByCode("EL0000"), "SEMMMM001Action"));
		} finally {
			semmmm001Bean.setDisableBtnClearBatch(true);
			
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doConfirm >> END :::");
		}
		return flag;
	}
	
	 // -> popup convert vendor
	public void initChangeVendor(){
		LOG.info("::: SEMMMM001Action :: initChangeVendor >> BEGIN :::");

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			semmmm001Bean.setChangeVendorCriteria(new Mmm001VendorSP());
			semmmm001Bean.setConvertVendorResultList(new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>());
			semmmm001Bean.setPopupSAPVendorlist(new ArrayList<WrapperBeanObject<Mmm001VendorSP>>());
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: initChangeVendor >> END :::");
		}
	}
	
	public void doSearchPopupChangeVendor(){
		LOG.info("::: SEMMMM001Action :: doSearchPopupChangeVendor >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			List<Mmm001VendorMasterSP> resultList = null;
			
			semmmm001Bean.setConvertVendorResultList(new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>());
			
			// SEM Side
			List<Mmm001VendorSP> vdResult = null;
			vdResult = service.querySPList(EQueryName.SEM_SAP_LIST_VENDOR_POPUP.name, semmmm001Bean.getChangeVendorCriteria());
			
			if(vdResult != null && vdResult.size() != 0 &&
			   vdResult.get(0) != null && vdResult.get(0).getVendorId() != null){
				semmmm001Bean.setPopupSAPVendorlist(new ArrayList<WrapperBeanObject<Mmm001VendorSP>>());
				for (int i=0; i<vdResult.size(); i++) {
					Mmm001VendorSP obj = (Mmm001VendorSP) vdResult.get(i);
					WrapperBeanObject<Mmm001VendorSP> tmpWrapperBean = new WrapperBeanObject<Mmm001VendorSP>();
					
					tmpWrapperBean.setDataObj(obj);
					semmmm001Bean.getPopupSAPVendorlist().add(tmpWrapperBean);
				}
			} else {
				semmmm001Bean.setPopupSAPVendorlist(new ArrayList<WrapperBeanObject<Mmm001VendorSP>>());
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSearchPopupChangeVendor >> END :::");
		}
	}
	
	private boolean doInitPayeeChangeTab() {
		LOG.info("::: SEMMMM001Action :: doInitPayeeChangeTab >> BEGIN :::");
		boolean flag = true;

		try {
			semmmm001Bean = getSemmmm001Bean();
			
			String tabNo = getFacesUtils().getRequestParameter("tabNo") == null ? "" : (String) getFacesUtils().getRequestParameter("tabNo");
			LOG.debug(">>> tabNo" + tabNo);
			String sapFlag = getFacesUtils().getRequestParameter("sapFlag") == null ? "" : (String) getFacesUtils().getRequestParameter("sapFlag");
			//ssemmmm001Bean.setTabNo(tabNo);
			
			//added by NEW 22/05/2017
			if(StringUtils.equals("Y", sapFlag)){
				semmmm001Bean.setPayeeSelectedSapTab(tabNo);
			}else if(StringUtils.equals("N", sapFlag)){
				semmmm001Bean.setPayeeSelectedSemTab(tabNo);
			}else{
				semmmm001Bean.setPayeeSelectedTab(tabNo);
			}
//			semmmm001Bean.setSelectedTab(tabNo);
			
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doInitPayeeChangeTab >> END :::");
		}
		return flag;
	}
	
	public void doFillinPostCodePayee(){
		LOG.info("::: SEMMMM001Action :: doFillinPostCodePayee >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			SelectItem retIem = null;
			
			String fieldAddrParam = getFacesUtils().getRequestParameter("fieldAddrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("fieldAddrParam");
			
			String provinceCode = "";
			String amphurCode = "";
			String tambolCode = "";
			
			if(fieldAddrParam.equalsIgnoreCase("TAB0_POSTCODE")){
				provinceCode = semmmm001Bean.getPayeeAddrObj().getProvince();
				amphurCode = semmmm001Bean.getPayeeAddrObj().getAmphur();
				tambolCode = semmmm001Bean.getPayeeAddrObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB1_POSTCODE")){
				provinceCode = semmmm001Bean.getRentalPayeeAddrObj().getProvince();
				amphurCode = semmmm001Bean.getRentalPayeeAddrObj().getAmphur();
				tambolCode = semmmm001Bean.getRentalPayeeAddrObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB2_POSTCODE")){
				provinceCode = semmmm001Bean.getElectrictPayeeAddrObj().getProvince();
				amphurCode = semmmm001Bean.getElectrictPayeeAddrObj().getAmphur();
				tambolCode = semmmm001Bean.getElectrictPayeeAddrObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB3_POSTCODE")){
				provinceCode = semmmm001Bean.getPropertyPayeeAddrObj().getProvince();
				amphurCode = semmmm001Bean.getPropertyPayeeAddrObj().getAmphur();
				tambolCode = semmmm001Bean.getPropertyPayeeAddrObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB4_POSTCODE")){
				provinceCode = semmmm001Bean.getInsurePayeeAddrObj().getProvince();
				amphurCode = semmmm001Bean.getInsurePayeeAddrObj().getAmphur();
				tambolCode = semmmm001Bean.getInsurePayeeAddrObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB5_POSTCODE")){
				provinceCode = semmmm001Bean.getConstructPayeeAddrObj().getProvince();
				amphurCode = semmmm001Bean.getConstructPayeeAddrObj().getAmphur();
				tambolCode = semmmm001Bean.getConstructPayeeAddrObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB6_POSTCODE")){
				provinceCode = semmmm001Bean.getWithholdPayeeAddrObj().getProvince();
				amphurCode = semmmm001Bean.getWithholdPayeeAddrObj().getAmphur();
				tambolCode = semmmm001Bean.getWithholdPayeeAddrObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB0_CMP_POSTCODE")){
				provinceCode = semmmm001Bean.getVendorAddrCmpObj().getProvince();
				amphurCode = semmmm001Bean.getVendorAddrCmpObj().getAmphur();
				tambolCode = semmmm001Bean.getVendorAddrCmpObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB1_CMP_POSTCODE")){
//				provinceCode = semmmm001Bean.getPayeeAddrCmpObj().getProvince();
//				amphurCode = semmmm001Bean.getPayeeAddrCmpObj().getAmphur();
//				tambolCode = semmmm001Bean.getPayeeAddrCmpObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB2_CMP_POSTCODE")){
				provinceCode = semmmm001Bean.getElectrictAddrCmpObj().getProvince();
				amphurCode = semmmm001Bean.getElectrictAddrCmpObj().getAmphur();
				tambolCode = semmmm001Bean.getElectrictAddrCmpObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB3_CMP_POSTCODE")){
				provinceCode = semmmm001Bean.getPropertyAddrCmpObj().getProvince();
				amphurCode = semmmm001Bean.getPropertyAddrCmpObj().getAmphur();
				tambolCode = semmmm001Bean.getPropertyAddrCmpObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB4_CMP_POSTCODE")){
				provinceCode = semmmm001Bean.getInsureAddrCmpObj().getProvince();
				amphurCode = semmmm001Bean.getInsureAddrCmpObj().getAmphur();
				tambolCode = semmmm001Bean.getInsureAddrCmpObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB5_CMP_POSTCODE")){
				provinceCode = semmmm001Bean.getConstructAddrCmpObj().getProvince();
				amphurCode = semmmm001Bean.getConstructAddrCmpObj().getAmphur();
				tambolCode = semmmm001Bean.getConstructAddrCmpObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("TAB6_CMP_POSTCODE")){
				provinceCode = semmmm001Bean.getWithholdAddrCmpObj().getProvince();
				amphurCode = semmmm001Bean.getWithholdAddrCmpObj().getAmphur();
				tambolCode = semmmm001Bean.getWithholdAddrCmpObj().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("PAYEE_POSTCODE")){
				provinceCode = semmmm001Bean.getPayeeInfo().getProvince();
				amphurCode = semmmm001Bean.getPayeeInfo().getAmphur();
				tambolCode = semmmm001Bean.getPayeeInfo().getTambol();
			} else if(fieldAddrParam.equalsIgnoreCase("PAYEE_CMP_POSTCODE")){
				provinceCode = semmmm001Bean.getPayeeInfoCmpObj().getProvince();
				amphurCode = semmmm001Bean.getPayeeInfoCmpObj().getAmphur();
				tambolCode = semmmm001Bean.getPayeeInfoCmpObj().getTambol();
			} 
			
			LOG.debug(">> fieldAddrParam: " + fieldAddrParam);
			LOG.debug(">> provinceCode: " + provinceCode);
			LOG.debug(">> amphurCode: " + amphurCode);
			LOG.debug(">> tambolCode: " + tambolCode);
			
			retIem = getDistrictName_SEM(provinceCode, amphurCode, tambolCode);
			
			if(retIem != null){
				if(fieldAddrParam.equalsIgnoreCase("TAB0_POSTCODE")){
					semmmm001Bean.getPayeeAddrObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB1_POSTCODE")){
					semmmm001Bean.getRentalPayeeAddrObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB2_POSTCODE")){
					semmmm001Bean.getElectrictPayeeAddrObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB3_POSTCODE")){
					semmmm001Bean.getPropertyPayeeAddrObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB4_POSTCODE")){
					semmmm001Bean.getInsurePayeeAddrObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB5_POSTCODE")){
					semmmm001Bean.getConstructPayeeAddrObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB6_POSTCODE")){
					semmmm001Bean.getWithholdPayeeAddrObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB0_CMP_POSTCODE")){
					semmmm001Bean.getVendorAddrCmpObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB1_CMP_POSTCODE")){
//					semmmm001Bean.getPayeeAddrCmpObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB2_CMP_POSTCODE")){
					semmmm001Bean.getElectrictAddrCmpObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB3_CMP_POSTCODE")){
					semmmm001Bean.getPropertyAddrCmpObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB4_CMP_POSTCODE")){
					semmmm001Bean.getInsureAddrCmpObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB5_CMP_POSTCODE")){
					semmmm001Bean.getConstructAddrCmpObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("TAB6_CMP_POSTCODE")){
					semmmm001Bean.getWithholdAddrCmpObj().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("PAYEE_POSTCODE")){
					semmmm001Bean.getPayeeInfo().setPostCode(retIem.getDescription());
				} else if(fieldAddrParam.equalsIgnoreCase("PAYEE_CMP_POSTCODE")){
					semmmm001Bean.getPayeeInfoCmpObj().setPostCode(retIem.getDescription());
				} 
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doFillinPostCodePayee >> END :::");
		}
	}
	
	public void doSetOwnerLocationPayee() {
		LOG.info("::: SEMMMM001Action :: doSetOwnerLocationPayee >> BEGIN :::");
		
		semmmm001Bean = getSemmmm001Bean();
		
		try{
			String vdPrvn = semmmm001Bean.getPayeeAddrObj().getProvince();
			String vdAmpr = semmmm001Bean.getPayeeAddrObj().getAmphur();
			String vdTmbl = semmmm001Bean.getPayeeAddrObj().getTambol();
			String vdLclDprtmnt = semmmm001Bean.getPayeeAddrObj().getpTaxFlag();
			String vdAmprName = semmmm001Bean.getPayeeAddrObj().getAmphurName();
			String vdTmblName = semmmm001Bean.getPayeeAddrObj().getTambolName();
			
			String rtPrvn = semmmm001Bean.getRentalPayeeAddrObj().getProvince();
			String rtAmpr = semmmm001Bean.getRentalPayeeAddrObj().getAmphur();
			String rtTmbl = semmmm001Bean.getRentalPayeeAddrObj().getTambol();
			String rtLclDprtmnt = semmmm001Bean.getRentalPayeeAddrObj().getpTaxFlag();
			String rtAmprName = semmmm001Bean.getRentalPayeeAddrObj().getAmphurName();
			String rtTmblName = semmmm001Bean.getRentalPayeeAddrObj().getTambolName();
			
			String elPrvn = semmmm001Bean.getElectrictPayeeAddrObj().getProvince();
			String elAmpr = semmmm001Bean.getElectrictPayeeAddrObj().getAmphur();
			String elTmbl = semmmm001Bean.getElectrictPayeeAddrObj().getTambol();
			String elLclDprtmnt = semmmm001Bean.getElectrictPayeeAddrObj().getpTaxFlag();
			String elAmprName = semmmm001Bean.getElectrictPayeeAddrObj().getAmphurName();
			String elTmblName = semmmm001Bean.getElectrictPayeeAddrObj().getTambolName();
			
			String ppPrvn = semmmm001Bean.getPropertyPayeeAddrObj().getProvince();
			String ppAmpr = semmmm001Bean.getPropertyPayeeAddrObj().getAmphur();
			String ppTmbl = semmmm001Bean.getPropertyPayeeAddrObj().getTambol();
			String ppLclDprtmnt = semmmm001Bean.getPropertyPayeeAddrObj().getpTaxFlag();
			String ppAmprName = semmmm001Bean.getPropertyPayeeAddrObj().getAmphurName();
			String ppTmblName = semmmm001Bean.getPropertyPayeeAddrObj().getTambolName();
			
			String inPrvn = semmmm001Bean.getInsurePayeeAddrObj().getProvince();
			String inAmpr = semmmm001Bean.getInsurePayeeAddrObj().getAmphur();
			String inTmbl = semmmm001Bean.getInsurePayeeAddrObj().getTambol();
			String inLclDprtmnt = semmmm001Bean.getInsurePayeeAddrObj().getpTaxFlag();
			String inAmprName = semmmm001Bean.getInsurePayeeAddrObj().getAmphurName();
			String inTmblName = semmmm001Bean.getInsurePayeeAddrObj().getTambolName();
			
			String csPrvn = semmmm001Bean.getConstructPayeeAddrObj().getProvince();
			String csAmpr = semmmm001Bean.getConstructPayeeAddrObj().getAmphur();
			String csTmbl = semmmm001Bean.getConstructPayeeAddrObj().getTambol();
			String csLclDprtmnt = semmmm001Bean.getConstructPayeeAddrObj().getpTaxFlag();
			String csAmprName = semmmm001Bean.getConstructPayeeAddrObj().getAmphurName();
			String csTmblName = semmmm001Bean.getConstructPayeeAddrObj().getTambolName();
			
			String whPrvn = semmmm001Bean.getWithholdPayeeAddrObj().getProvince();
			String whAmpr = semmmm001Bean.getWithholdPayeeAddrObj().getAmphur();
			String whTmbl = semmmm001Bean.getWithholdPayeeAddrObj().getTambol();
			String whLclDprtmnt = semmmm001Bean.getWithholdPayeeAddrObj().getpTaxFlag();
			String whAmprName = semmmm001Bean.getWithholdPayeeAddrObj().getAmphurName();
			String whTmblName = semmmm001Bean.getWithholdPayeeAddrObj().getTambolName();
			
			// --
			Province province = new Province();
			
			province.setProvinceCode(vdPrvn);
			semmmm001Bean.getPayeeAddrObj().setProvinceList(getProvinceList_SEM());
			semmmm001Bean.getPayeeAddrObj().setAmphurList(getAmphurListByProvince_SEM(province) );
			semmmm001Bean.getPayeeAddrObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, vdAmpr));
			semmmm001Bean.getPayeeAddrObj().setChkAmphurOther(vdAmpr != null && vdAmpr.equalsIgnoreCase("X") ? true : false);
			semmmm001Bean.getPayeeAddrObj().setChkTambolOther(vdTmbl != null && vdTmbl.equalsIgnoreCase("X") ? true : false);
			semmmm001Bean.getPayeeAddrObj().setChkLocalDepartment(vdLclDprtmnt != null && vdLclDprtmnt.equalsIgnoreCase("Y") ? true : false);
			semmmm001Bean.getPayeeAddrObj().setAmphurName(semmmm001Bean.getPayeeAddrObj().isChkAmphurOther() ? vdAmprName : "");
			semmmm001Bean.getPayeeAddrObj().setTambolName(semmmm001Bean.getPayeeAddrObj().isChkTambolOther() ? vdTmblName : "");
			
			province.setProvinceCode(rtPrvn);
			semmmm001Bean.getRentalPayeeAddrObj().setProvinceList(getProvinceList_SEM());
			semmmm001Bean.getRentalPayeeAddrObj().setAmphurList(getAmphurListByProvince_SEM(province) );
			semmmm001Bean.getRentalPayeeAddrObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, rtAmpr));
			semmmm001Bean.getRentalPayeeAddrObj().setChkAmphurOther(rtAmpr != null && rtAmpr.equalsIgnoreCase("X") ? true : false);
			semmmm001Bean.getRentalPayeeAddrObj().setChkTambolOther(rtTmbl != null && rtTmbl.equalsIgnoreCase("X") ? true : false);
			semmmm001Bean.getRentalPayeeAddrObj().setChkLocalDepartment(rtLclDprtmnt != null && rtLclDprtmnt.equalsIgnoreCase("Y") ? true : false);
			semmmm001Bean.getRentalPayeeAddrObj().setAmphurName(semmmm001Bean.getRentalPayeeAddrObj().isChkAmphurOther() ? rtAmprName : "");
			semmmm001Bean.getRentalPayeeAddrObj().setTambolName(semmmm001Bean.getRentalPayeeAddrObj().isChkTambolOther() ? rtTmblName : "");
			
			province.setProvinceCode(elPrvn);
			semmmm001Bean.getElectrictPayeeAddrObj().setProvinceList(getProvinceList_SEM());
			semmmm001Bean.getElectrictPayeeAddrObj().setAmphurList(getAmphurListByProvince_SEM(province) );
			semmmm001Bean.getElectrictPayeeAddrObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, elAmpr));
			semmmm001Bean.getElectrictPayeeAddrObj().setChkAmphurOther(elAmpr != null && elAmpr.equalsIgnoreCase("X") ? true : false);
			semmmm001Bean.getElectrictPayeeAddrObj().setChkTambolOther(elTmbl != null && elTmbl.equalsIgnoreCase("X") ? true : false);
			semmmm001Bean.getElectrictPayeeAddrObj().setChkLocalDepartment(elLclDprtmnt != null && elLclDprtmnt.equalsIgnoreCase("Y") ? true : false);
			semmmm001Bean.getElectrictPayeeAddrObj().setAmphurName(semmmm001Bean.getElectrictPayeeAddrObj().isChkAmphurOther() ? elAmprName : "");
			semmmm001Bean.getElectrictPayeeAddrObj().setTambolName(semmmm001Bean.getElectrictPayeeAddrObj().isChkTambolOther() ? elTmblName : "");
			
			province.setProvinceCode(ppPrvn);
			semmmm001Bean.getPropertyPayeeAddrObj().setProvinceList(getProvinceList_SEM());
			semmmm001Bean.getPropertyPayeeAddrObj().setAmphurList(getAmphurListByProvince_SEM(province) );
			semmmm001Bean.getPropertyPayeeAddrObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, ppAmpr));
			semmmm001Bean.getPropertyPayeeAddrObj().setChkAmphurOther(ppAmpr != null && ppAmpr.equalsIgnoreCase("X") ? true : false);
			semmmm001Bean.getPropertyPayeeAddrObj().setChkTambolOther(ppTmbl != null && ppTmbl.equalsIgnoreCase("X") ? true : false);
			semmmm001Bean.getPropertyPayeeAddrObj().setChkLocalDepartment(ppLclDprtmnt != null && ppLclDprtmnt.equalsIgnoreCase("Y") ? true : false);
			semmmm001Bean.getPropertyPayeeAddrObj().setAmphurName(semmmm001Bean.getPropertyPayeeAddrObj().isChkAmphurOther() ? ppAmprName : "");
			semmmm001Bean.getPropertyPayeeAddrObj().setTambolName(semmmm001Bean.getPropertyPayeeAddrObj().isChkTambolOther() ? ppTmblName : "");
			
			province.setProvinceCode(inPrvn);
			semmmm001Bean.getInsurePayeeAddrObj().setProvinceList(getProvinceList_SEM());
			semmmm001Bean.getInsurePayeeAddrObj().setAmphurList(getAmphurListByProvince_SEM(province) );
			semmmm001Bean.getInsurePayeeAddrObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, inAmpr));
			semmmm001Bean.getInsurePayeeAddrObj().setChkAmphurOther(inAmpr != null && inAmpr.equalsIgnoreCase("X") ? true : false);
			semmmm001Bean.getInsurePayeeAddrObj().setChkTambolOther(inTmbl != null && inTmbl.equalsIgnoreCase("X") ? true : false);
			semmmm001Bean.getInsurePayeeAddrObj().setChkLocalDepartment(inLclDprtmnt != null && inLclDprtmnt.equalsIgnoreCase("Y") ? true : false);
			semmmm001Bean.getInsurePayeeAddrObj().setAmphurName(semmmm001Bean.getInsurePayeeAddrObj().isChkAmphurOther() ? inAmprName : "");
			semmmm001Bean.getInsurePayeeAddrObj().setTambolName(semmmm001Bean.getInsurePayeeAddrObj().isChkTambolOther() ? inTmblName : "");
			
			province.setProvinceCode(csPrvn);
			semmmm001Bean.getConstructPayeeAddrObj().setProvinceList(getProvinceList_SEM());
			semmmm001Bean.getConstructPayeeAddrObj().setAmphurList(getAmphurListByProvince_SEM(province) );
			semmmm001Bean.getConstructPayeeAddrObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, csAmpr));
			semmmm001Bean.getConstructPayeeAddrObj().setChkAmphurOther(csAmpr != null && csAmpr.equalsIgnoreCase("X") ? true : false);
			semmmm001Bean.getConstructPayeeAddrObj().setChkTambolOther(csTmbl != null && csTmbl.equalsIgnoreCase("X") ? true : false);
			semmmm001Bean.getConstructPayeeAddrObj().setChkLocalDepartment(csLclDprtmnt != null && csLclDprtmnt.equalsIgnoreCase("Y") ? true : false);
			semmmm001Bean.getConstructPayeeAddrObj().setAmphurName(semmmm001Bean.getConstructPayeeAddrObj().isChkAmphurOther() ? csAmprName : "");
			semmmm001Bean.getConstructPayeeAddrObj().setTambolName(semmmm001Bean.getConstructPayeeAddrObj().isChkTambolOther() ? csTmblName : "");
			
			province.setProvinceCode(whPrvn);
			semmmm001Bean.getWithholdPayeeAddrObj().setProvinceList(getProvinceList_SEM());
			semmmm001Bean.getWithholdPayeeAddrObj().setAmphurList(getAmphurListByProvince_SEM(province) );
			semmmm001Bean.getWithholdPayeeAddrObj().setTambolList(getDistrictListByProvinceAmphur_SEM(province, whAmpr));
			semmmm001Bean.getWithholdPayeeAddrObj().setChkAmphurOther(whAmpr != null && whAmpr.equalsIgnoreCase("X") ? true : false);
			semmmm001Bean.getWithholdPayeeAddrObj().setChkTambolOther(whTmbl != null && whTmbl.equalsIgnoreCase("X") ? true : false);
			semmmm001Bean.getWithholdPayeeAddrObj().setChkLocalDepartment(whLclDprtmnt != null && whLclDprtmnt.equalsIgnoreCase("Y") ? true : false);
			semmmm001Bean.getWithholdPayeeAddrObj().setAmphurName(semmmm001Bean.getWithholdPayeeAddrObj().isChkAmphurOther() ? whAmprName : "");
			semmmm001Bean.getWithholdPayeeAddrObj().setTambolName(semmmm001Bean.getWithholdPayeeAddrObj().isChkTambolOther() ? whTmblName : "");
		}catch (Exception e) {
			// TODO: handle exception
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action doSetOwnerLocationPayee : "+e);
		}finally{
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSetOwnerLocationPayee >> END :::");
		}
	}
	
	public void renderedTextFieldAddressPayee(){
		LOG.info("::: SEMMMM001Action :: renderedTextFieldAddressPayee >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			String fieldAddrParam = getFacesUtils().getRequestParameter("fieldAddrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("fieldAddrParam");
			
			if(fieldAddrParam.equalsIgnoreCase("VD_TAMBOL")){
				if(semmmm001Bean.getPayeeAddrObj().isChkTambolOther()){
					semmmm001Bean.getPayeeAddrObj().setTambol("");
					semmmm001Bean.getPayeeAddrObj().setTambolName("");
				}else{
					if(semmmm001Bean.getPayeeAddrObj().getAmphur() == null || StringUtils.equals("", semmmm001Bean.getPayeeAddrObj().getAmphur())){
						semmmm001Bean.getPayeeAddrObj().setTambolList(getEmptyDropDown());
					}
				}
			} else if(fieldAddrParam.equalsIgnoreCase("VD_AMPHUR")){
				if(semmmm001Bean.getPayeeAddrObj().isChkAmphurOther()){
					semmmm001Bean.getPayeeAddrObj().setAmphur("");
					semmmm001Bean.getPayeeAddrObj().setAmphurName("");
					
					semmmm001Bean.getPayeeAddrObj().setChkTambolOther(true);
					semmmm001Bean.getPayeeAddrObj().setTambol("");
					semmmm001Bean.getPayeeAddrObj().setTambolName("");
				}else{
					if(semmmm001Bean.getPayeeAddrObj().getProvince() == null || StringUtils.equals("", semmmm001Bean.getPayeeAddrObj().getProvince())){
						semmmm001Bean.getPayeeAddrObj().setAmphurList(getEmptyDropDown());
					}
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("RT_TAMBOL")){
				if(semmmm001Bean.getRentalPayeeAddrObj().isChkTambolOther()){
					semmmm001Bean.getRentalPayeeAddrObj().setTambol("");
					semmmm001Bean.getRentalPayeeAddrObj().setTambolName("");
				}else{
					if(semmmm001Bean.getRentalPayeeAddrObj().getAmphur() == null || StringUtils.equals("", semmmm001Bean.getRentalPayeeAddrObj().getAmphur())){
						semmmm001Bean.getRentalPayeeAddrObj().setTambolList(getEmptyDropDown());
					}
				}
			} else if(fieldAddrParam.equalsIgnoreCase("RT_AMPHUR")){
				if(semmmm001Bean.getRentalPayeeAddrObj().isChkAmphurOther()){
					semmmm001Bean.getRentalPayeeAddrObj().setAmphur("");
					semmmm001Bean.getRentalPayeeAddrObj().setAmphurName("");
					
					semmmm001Bean.getRentalPayeeAddrObj().setChkTambolOther(true);
					semmmm001Bean.getRentalPayeeAddrObj().setTambol("");
					semmmm001Bean.getRentalPayeeAddrObj().setTambolName("");
				}else{
					if(semmmm001Bean.getRentalPayeeAddrObj().getProvince() == null || StringUtils.equals("", semmmm001Bean.getRentalPayeeAddrObj().getProvince())){
						semmmm001Bean.getRentalPayeeAddrObj().setAmphurList(getEmptyDropDown());
					}
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("EL_TAMBOL")){
				if(semmmm001Bean.getElectrictPayeeAddrObj().isChkTambolOther()){
					semmmm001Bean.getElectrictPayeeAddrObj().setTambol("");
					semmmm001Bean.getElectrictPayeeAddrObj().setTambolName("");
				}else{
					if(semmmm001Bean.getElectrictPayeeAddrObj().getAmphur() == null || StringUtils.equals("", semmmm001Bean.getElectrictPayeeAddrObj().getAmphur())){
						semmmm001Bean.getElectrictPayeeAddrObj().setTambolList(getEmptyDropDown());
					}
				}
			} else if(fieldAddrParam.equalsIgnoreCase("EL_AMPHUR")){
				if(semmmm001Bean.getElectrictPayeeAddrObj().isChkAmphurOther()){
					semmmm001Bean.getElectrictPayeeAddrObj().setAmphur("");
					semmmm001Bean.getElectrictPayeeAddrObj().setAmphurName("");
					
					semmmm001Bean.getElectrictPayeeAddrObj().setChkTambolOther(true);
					semmmm001Bean.getElectrictPayeeAddrObj().setTambol("");
					semmmm001Bean.getElectrictPayeeAddrObj().setTambolName("");
				}else{
					if(semmmm001Bean.getElectrictPayeeAddrObj().getProvince() == null || StringUtils.equals("", semmmm001Bean.getElectrictPayeeAddrObj().getProvince())){
						semmmm001Bean.getElectrictPayeeAddrObj().setTambolList(getEmptyDropDown());
					}
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("PT_TAMBOL")){
				if(semmmm001Bean.getPropertyPayeeAddrObj().isChkTambolOther()){
					semmmm001Bean.getPropertyPayeeAddrObj().setTambol("");
					semmmm001Bean.getPropertyPayeeAddrObj().setTambolName("");
				}else{
					if(semmmm001Bean.getPropertyPayeeAddrObj().getAmphur() == null || StringUtils.equals("", semmmm001Bean.getPropertyPayeeAddrObj().getAmphur())){
						semmmm001Bean.getPropertyPayeeAddrObj().setTambolList(getEmptyDropDown());
					}
				}
			} else if(fieldAddrParam.equalsIgnoreCase("PT_AMPHUR")){
				if(semmmm001Bean.getPropertyPayeeAddrObj().isChkAmphurOther()){
					semmmm001Bean.getPropertyPayeeAddrObj().setAmphur("");
					semmmm001Bean.getPropertyPayeeAddrObj().setAmphurName("");
					
					semmmm001Bean.getPropertyPayeeAddrObj().setChkTambolOther(true);
					semmmm001Bean.getPropertyPayeeAddrObj().setTambol("");
					semmmm001Bean.getPropertyPayeeAddrObj().setTambolName("");
				}else{
					if(semmmm001Bean.getPropertyPayeeAddrObj().getProvince() == null || StringUtils.equals("", semmmm001Bean.getPropertyPayeeAddrObj().getProvince())){
						semmmm001Bean.getPropertyPayeeAddrObj().setTambolList(getEmptyDropDown());
					}
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("IR_TAMBOL")){
				if(semmmm001Bean.getInsurePayeeAddrObj().isChkTambolOther()){
					semmmm001Bean.getInsurePayeeAddrObj().setTambol("");
					semmmm001Bean.getInsurePayeeAddrObj().setTambolName("");
				}else{
					if(semmmm001Bean.getInsurePayeeAddrObj().getAmphur() == null || StringUtils.equals("", semmmm001Bean.getInsurePayeeAddrObj().getAmphur())){
						semmmm001Bean.getInsurePayeeAddrObj().setTambolList(getEmptyDropDown());
					}
				}
			} else if(fieldAddrParam.equalsIgnoreCase("IR_AMPHUR")){
				if(semmmm001Bean.getInsurePayeeAddrObj().isChkAmphurOther()){
					semmmm001Bean.getInsurePayeeAddrObj().setAmphur("");
					semmmm001Bean.getInsurePayeeAddrObj().setAmphurName("");
					
					semmmm001Bean.getInsurePayeeAddrObj().setChkTambolOther(true);
					semmmm001Bean.getInsurePayeeAddrObj().setTambol("");
					semmmm001Bean.getInsurePayeeAddrObj().setTambolName("");
				}else{
					if(semmmm001Bean.getInsurePayeeAddrObj().getProvince() == null || StringUtils.equals("", semmmm001Bean.getInsurePayeeAddrObj().getProvince())){
						semmmm001Bean.getInsurePayeeAddrObj().setTambolList(getEmptyDropDown());
					}
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("CS_TAMBOL")){
				if(semmmm001Bean.getConstructPayeeAddrObj().isChkTambolOther()){
					semmmm001Bean.getConstructPayeeAddrObj().setTambol("");
					semmmm001Bean.getConstructPayeeAddrObj().setTambolName("");
				}else{
					if(semmmm001Bean.getConstructPayeeAddrObj().getAmphur() == null || StringUtils.equals("", semmmm001Bean.getConstructPayeeAddrObj().getAmphur())){
						semmmm001Bean.getConstructPayeeAddrObj().setTambolList(getEmptyDropDown());
					}
				}
			} else if(fieldAddrParam.equalsIgnoreCase("CS_AMPHUR")){
				if(semmmm001Bean.getConstructPayeeAddrObj().isChkAmphurOther()){
					semmmm001Bean.getConstructPayeeAddrObj().setAmphur("");
					semmmm001Bean.getConstructPayeeAddrObj().setAmphurName("");
					
					semmmm001Bean.getConstructPayeeAddrObj().setChkTambolOther(true);
					semmmm001Bean.getConstructPayeeAddrObj().setTambol("");
					semmmm001Bean.getConstructPayeeAddrObj().setTambolName("");
				}else{
					if(semmmm001Bean.getConstructPayeeAddrObj().getProvince() == null || StringUtils.equals("", semmmm001Bean.getConstructPayeeAddrObj().getProvince())){
						semmmm001Bean.getConstructPayeeAddrObj().setTambolList(getEmptyDropDown());
					}
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("WH_TAMBOL")){
				if(semmmm001Bean.getWithholdPayeeAddrObj().isChkTambolOther()){
					semmmm001Bean.getWithholdPayeeAddrObj().setTambol("");
					semmmm001Bean.getWithholdPayeeAddrObj().setTambolName("");
				}else{
					if(semmmm001Bean.getWithholdPayeeAddrObj().getAmphur() == null || StringUtils.equals("", semmmm001Bean.getWithholdPayeeAddrObj().getAmphur())){
						semmmm001Bean.getWithholdPayeeAddrObj().setTambolList(getEmptyDropDown());
					}
				}
			} else if(fieldAddrParam.equalsIgnoreCase("WH_AMPHUR")){
				if(semmmm001Bean.getWithholdPayeeAddrObj().isChkAmphurOther()){
					semmmm001Bean.getWithholdPayeeAddrObj().setAmphur("");
					semmmm001Bean.getWithholdPayeeAddrObj().setAmphurName("");
					
					semmmm001Bean.getWithholdPayeeAddrObj().setChkTambolOther(true);
					semmmm001Bean.getWithholdPayeeAddrObj().setTambol("");
					semmmm001Bean.getWithholdPayeeAddrObj().setTambolName("");
				}else{
					if(semmmm001Bean.getWithholdPayeeAddrObj().getProvince() == null || StringUtils.equals("", semmmm001Bean.getWithholdPayeeAddrObj().getProvince())){
						semmmm001Bean.getWithholdPayeeAddrObj().setTambolList(getEmptyDropDown());
					}
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("PY_TAMBOL")){
				if(semmmm001Bean.getPayeeInfo().isChkTambolOther()){
					semmmm001Bean.getPayeeInfo().setTambol("");
					semmmm001Bean.getPayeeInfo().setTambolName("");
				}else{
					if(semmmm001Bean.getPayeeInfo().getAmphur() == null || StringUtils.equals("", semmmm001Bean.getPayeeInfo().getAmphur())){
						semmmm001Bean.getPayeeInfo().setTambolList(getEmptyDropDown());
					}
				}
			} else if(fieldAddrParam.equalsIgnoreCase("PY_AMPHUR")){
				if(semmmm001Bean.getPayeeInfo().isChkAmphurOther()){
					semmmm001Bean.getPayeeInfo().setAmphur("");
					semmmm001Bean.getPayeeInfo().setAmphurName("");
					
					semmmm001Bean.getPayeeInfo().setChkTambolOther(true);
					semmmm001Bean.getPayeeInfo().setTambol("");
					semmmm001Bean.getPayeeInfo().setTambolName("");
				}else{
					if(semmmm001Bean.getPayeeInfo().getProvince() == null || StringUtils.equals("", semmmm001Bean.getPayeeInfo().getProvince())){
						semmmm001Bean.getPayeeInfo().setTambolList(getEmptyDropDown());
					}
				}
			}
			
			
			
			if(fieldAddrParam.equalsIgnoreCase("IR_CMP_TAMBOL")){
				if(semmmm001Bean.getInsureAddrCmpObj().isChkTambolOther()){
					semmmm001Bean.getInsureAddrCmpObj().setTambol("");
					semmmm001Bean.getInsureAddrCmpObj().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("IR_CMP_AMPHUR")){
				if(semmmm001Bean.getInsureAddrCmpObj().isChkAmphurOther()){
					semmmm001Bean.getInsureAddrCmpObj().setAmphur("");
					semmmm001Bean.getInsureAddrCmpObj().setAmphurName("");
					
					semmmm001Bean.getInsureAddrCmpObj().setChkTambolOther(true);
					semmmm001Bean.getInsureAddrCmpObj().setTambol("");
					semmmm001Bean.getInsureAddrCmpObj().setTambolName("");
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("CS_CMP_TAMBOL")){
				if(semmmm001Bean.getConstructAddrCmpObj().isChkTambolOther()){
					semmmm001Bean.getConstructAddrCmpObj().setTambol("");
					semmmm001Bean.getConstructAddrCmpObj().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("CS_CMP_AMPHUR")){
				if(semmmm001Bean.getConstructAddrCmpObj().isChkAmphurOther()){
					semmmm001Bean.getConstructAddrCmpObj().setAmphur("");
					semmmm001Bean.getConstructAddrCmpObj().setAmphurName("");
					
					semmmm001Bean.getConstructAddrCmpObj().setChkTambolOther(true);
					semmmm001Bean.getConstructAddrCmpObj().setTambol("");
					semmmm001Bean.getConstructAddrCmpObj().setTambolName("");
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("WH_CMP_TAMBOL")){
				if(semmmm001Bean.getWithholdAddrCmpObj().isChkTambolOther()){
					semmmm001Bean.getWithholdAddrCmpObj().setTambol("");
					semmmm001Bean.getWithholdAddrCmpObj().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("WH_CMP_AMPHUR")){
				if(semmmm001Bean.getWithholdAddrCmpObj().isChkAmphurOther()){
					semmmm001Bean.getWithholdAddrCmpObj().setAmphur("");
					semmmm001Bean.getWithholdAddrCmpObj().setAmphurName("");
					
					semmmm001Bean.getWithholdAddrCmpObj().setChkTambolOther(true);
					semmmm001Bean.getWithholdAddrCmpObj().setTambol("");
					semmmm001Bean.getWithholdAddrCmpObj().setTambolName("");
				}
			}
			
			if(fieldAddrParam.equalsIgnoreCase("PY_CMP_TAMBOL")){
				if(semmmm001Bean.getPayeeInfoCmpObj().isChkTambolOther()){
					semmmm001Bean.getPayeeInfoCmpObj().setTambol("");
					semmmm001Bean.getPayeeInfoCmpObj().setTambolName("");
				}
			} else if(fieldAddrParam.equalsIgnoreCase("PY_CMP_AMPHUR")){
				if(semmmm001Bean.getPayeeInfoCmpObj().isChkAmphurOther()){
					semmmm001Bean.getPayeeInfoCmpObj().setAmphur("");
					semmmm001Bean.getPayeeInfoCmpObj().setAmphurName("");
					
					semmmm001Bean.getPayeeInfoCmpObj().setChkTambolOther(true);
					semmmm001Bean.getPayeeInfoCmpObj().setTambol("");
					semmmm001Bean.getPayeeInfoCmpObj().setTambolName("");
				}
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: renderedTextFieldAddressPayee >> END :::");
		}
	}
	
	public void doCopyPayeeAddr() {
		LOG.info("::: SEMMMM001Action :: doCopyVendorAddr >> BEGIN :::");
		
		try{
			
			semmmm001Bean = getSemmmm001Bean();
			
			String pageParam = getFacesUtils().getRequestParameter("pageParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("pageParam");
			String payeeIdParam = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("payeeIdParam");
			
			LOG.debug(">> page: " + pageParam);
			LOG.debug(">> payeeIdParam: " + payeeIdParam);
			
			// -- address
			Mmm001AddressSP vendorAddr = new Mmm001AddressSP();
			String vendorAddr1 = semmmm001Bean.getPayeeAddrObj().getAddress1();
			String vendorAddr2 = semmmm001Bean.getPayeeAddrObj().getAddress2();
			String vendorTambol = semmmm001Bean.getPayeeAddrObj().getTambol();
			String vendorAmphur = semmmm001Bean.getPayeeAddrObj().getAmphur();
			String vendorTambolName = semmmm001Bean.getPayeeAddrObj().getTambolName();
			String vendorAmphurName = semmmm001Bean.getPayeeAddrObj().getAmphurName();
			String vendorProvince = semmmm001Bean.getPayeeAddrObj().getProvince();
			boolean chkTambolOther = semmmm001Bean.getPayeeAddrObj().isChkTambolOther();
			boolean chkAmphurOther = semmmm001Bean.getPayeeAddrObj().isChkAmphurOther();
			boolean chkLocalDprtmnt = semmmm001Bean.getPayeeAddrObj().isChkLocalDepartment();
			String vendorPostCode = semmmm001Bean.getPayeeAddrObj().getPostCode();
			
			String vendorContactName = semmmm001Bean.getPayeeAddrObj().getContactName();
			String vendorTelephone = semmmm001Bean.getPayeeAddrObj().getTelephone();
			String vendorMobileNo = semmmm001Bean.getPayeeAddrObj().getMobileNo();
			String vendorFax = semmmm001Bean.getPayeeAddrObj().getFax();
			String vendorEmail = semmmm001Bean.getPayeeAddrObj().getEmail();
			
			Province province = new Province();
			province.setProvinceCode(vendorProvince);
			List<SelectItem> amphurList = getAmphurListByProvince_SEM(province);
			List<SelectItem> tambolList = getDistrictListByProvinceAmphur_SEM(province, vendorAmphur);
			
			if(pageParam.equalsIgnoreCase("PAGE_PAYEE")){
//				if(semmmm001Bean.getPayeeInfo().getSaveFlag() != null &&
//				   semmmm001Bean.getPayeeInfo().getSaveFlag().equalsIgnoreCase("C")){
//					semmmm001Bean.getPayeeInfoCmpObj().setPayeeAddress1(vendorAddr1);	
//					semmmm001Bean.getPayeeInfoCmpObj().setPayeeAddress2(vendorAddr2);	
//					semmmm001Bean.getPayeeInfoCmpObj().setTambol(vendorTambol);		
//					semmmm001Bean.getPayeeInfoCmpObj().setAmphur(vendorAmphur);		
//					semmmm001Bean.getPayeeInfoCmpObj().setProvince(vendorProvince);	
//					semmmm001Bean.getPayeeInfoCmpObj().setPostCode(vendorPostCode);	
//					
//					semmmm001Bean.getPayeeInfoCmpObj().setProvinceList(getProvinceList_SEM());
//					semmmm001Bean.getPayeeInfoCmpObj().setAmphurList(amphurList);
//					semmmm001Bean.getPayeeInfoCmpObj().setTambolList(tambolList);
//					
//					// --
//					semmmm001Bean.getPayeeInfoCmpObj().setChkTambolOther(chkTambolOther);
//					semmmm001Bean.getPayeeInfoCmpObj().setChkAmphurOther(chkAmphurOther);
//					semmmm001Bean.getPayeeInfoCmpObj().setTambolName(semmmm001Bean.getPayeeInfoCmpObj().isChkTambolOther() ? vendorTambolName : "");
//					semmmm001Bean.getPayeeInfoCmpObj().setAmphurName(semmmm001Bean.getPayeeInfoCmpObj().isChkAmphurOther() ? vendorAmphurName : "");
//					semmmm001Bean.getPayeeInfoCmpObj().setChkLocalDepartment(chkLocalDprtmnt);
//				} else {
//					semmmm001Bean.getPayeeInfo().setPayeeAddress1(vendorAddr1);	
//					semmmm001Bean.getPayeeInfo().setPayeeAddress2(vendorAddr2);	
//					semmmm001Bean.getPayeeInfo().setTambol(vendorTambol);		
//					semmmm001Bean.getPayeeInfo().setAmphur(vendorAmphur);		
//					semmmm001Bean.getPayeeInfo().setProvince(vendorProvince);	
//					semmmm001Bean.getPayeeInfo().setPostCode(vendorPostCode);	
//					
//					semmmm001Bean.getPayeeInfo().setProvinceList(getProvinceList_SEM());
//					semmmm001Bean.getPayeeInfo().setAmphurList(amphurList);
//					semmmm001Bean.getPayeeInfo().setTambolList(tambolList);
//					
//					// --
//					semmmm001Bean.getPayeeInfo().setChkTambolOther(chkTambolOther);
//					semmmm001Bean.getPayeeInfo().setChkAmphurOther(chkAmphurOther);
//					semmmm001Bean.getPayeeInfo().setTambolName(semmmm001Bean.getPayeeInfo().isChkTambolOther() ? vendorTambolName : "");
//					semmmm001Bean.getPayeeInfo().setAmphurName(semmmm001Bean.getPayeeInfo().isChkAmphurOther() ? vendorAmphurName : "");
//					semmmm001Bean.getPayeeInfo().setChkLocalDepartment(chkLocalDprtmnt);
//				}
				
				
				semmmm001Bean.getPayeeAddrObj().setAddress1(vendorAddr1);	
				semmmm001Bean.getPayeeAddrObj().setAddress2(vendorAddr2);	
				semmmm001Bean.getPayeeAddrObj().setTambol(vendorTambol);		
				semmmm001Bean.getPayeeAddrObj().setAmphur(vendorAmphur);		
				semmmm001Bean.getPayeeAddrObj().setProvince(vendorProvince);	
				semmmm001Bean.getPayeeAddrObj().setPostCode(vendorPostCode);	
				
				semmmm001Bean.getPayeeAddrObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getPayeeAddrObj().setAmphurList(amphurList);
				semmmm001Bean.getPayeeAddrObj().setTambolList(tambolList);
				
				// --
				semmmm001Bean.getPayeeAddrObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getPayeeAddrObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getPayeeAddrObj().setTambolName(semmmm001Bean.getPayeeAddrObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getPayeeAddrObj().setAmphurName(semmmm001Bean.getPayeeAddrObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getPayeeAddrObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getPayeeAddrObj().setContactName(vendorContactName);
				semmmm001Bean.getPayeeAddrObj().setTelephone(vendorTelephone);
				semmmm001Bean.getPayeeAddrObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getPayeeAddrObj().setFax(vendorFax);
				semmmm001Bean.getPayeeAddrObj().setEmail(vendorEmail);
			}
			
			if(pageParam.equalsIgnoreCase("TAB_01")){
				semmmm001Bean.getRentalPayeeAddrObj().setAddress1(vendorAddr1);	
				semmmm001Bean.getRentalPayeeAddrObj().setAddress2(vendorAddr2);	
				semmmm001Bean.getRentalPayeeAddrObj().setTambol(vendorTambol);		
				semmmm001Bean.getRentalPayeeAddrObj().setAmphur(vendorAmphur);		
				semmmm001Bean.getRentalPayeeAddrObj().setProvince(vendorProvince);	
				semmmm001Bean.getRentalPayeeAddrObj().setPostCode(vendorPostCode);	
				
				semmmm001Bean.getRentalPayeeAddrObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getRentalPayeeAddrObj().setAmphurList(amphurList);
				semmmm001Bean.getRentalPayeeAddrObj().setTambolList(tambolList);
				
				// --
				semmmm001Bean.getRentalPayeeAddrObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getRentalPayeeAddrObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getRentalPayeeAddrObj().setTambolName(semmmm001Bean.getRentalPayeeAddrObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getRentalPayeeAddrObj().setAmphurName(semmmm001Bean.getRentalPayeeAddrObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getRentalPayeeAddrObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getRentalPayeeAddrObj().setContactName(vendorContactName);
				semmmm001Bean.getRentalPayeeAddrObj().setTelephone(vendorTelephone);
				semmmm001Bean.getRentalPayeeAddrObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getRentalPayeeAddrObj().setFax(vendorFax);
				semmmm001Bean.getRentalPayeeAddrObj().setEmail(vendorEmail);
			}
			
			if(pageParam.equalsIgnoreCase("TAB_02")){
				semmmm001Bean.getElectrictPayeeAddrObj().setAddress1(vendorAddr1);	
				semmmm001Bean.getElectrictPayeeAddrObj().setAddress2(vendorAddr2);	
				semmmm001Bean.getElectrictPayeeAddrObj().setTambol(vendorTambol);		
				semmmm001Bean.getElectrictPayeeAddrObj().setAmphur(vendorAmphur);		
				semmmm001Bean.getElectrictPayeeAddrObj().setProvince(vendorProvince);	
				semmmm001Bean.getElectrictPayeeAddrObj().setPostCode(vendorPostCode);	
				
				semmmm001Bean.getElectrictPayeeAddrObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getElectrictPayeeAddrObj().setAmphurList(amphurList);
				semmmm001Bean.getElectrictPayeeAddrObj().setTambolList(tambolList);

				// --
				semmmm001Bean.getElectrictPayeeAddrObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getElectrictPayeeAddrObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getElectrictPayeeAddrObj().setTambolName(semmmm001Bean.getElectrictPayeeAddrObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getElectrictPayeeAddrObj().setAmphurName(semmmm001Bean.getElectrictPayeeAddrObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getElectrictPayeeAddrObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getElectrictPayeeAddrObj().setContactName(vendorContactName);
				semmmm001Bean.getElectrictPayeeAddrObj().setTelephone(vendorTelephone);
				semmmm001Bean.getElectrictPayeeAddrObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getElectrictPayeeAddrObj().setFax(vendorFax);
				semmmm001Bean.getElectrictPayeeAddrObj().setEmail(vendorEmail);
			}
			
			if(pageParam.equalsIgnoreCase("TAB_03")){
				semmmm001Bean.getPropertyPayeeAddrObj().setAddress1(vendorAddr1);	
				semmmm001Bean.getPropertyPayeeAddrObj().setAddress2(vendorAddr2);	
				semmmm001Bean.getPropertyPayeeAddrObj().setTambol(vendorTambol);		
				semmmm001Bean.getPropertyPayeeAddrObj().setAmphur(vendorAmphur);		
				semmmm001Bean.getPropertyPayeeAddrObj().setProvince(vendorProvince);	
				semmmm001Bean.getPropertyPayeeAddrObj().setPostCode(vendorPostCode);	
				
				semmmm001Bean.getPropertyPayeeAddrObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getPropertyPayeeAddrObj().setAmphurList(amphurList);
				semmmm001Bean.getPropertyPayeeAddrObj().setTambolList(tambolList);
				
				// --
				semmmm001Bean.getPropertyPayeeAddrObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getPropertyPayeeAddrObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getPropertyPayeeAddrObj().setTambolName(semmmm001Bean.getPropertyPayeeAddrObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getPropertyPayeeAddrObj().setAmphurName(semmmm001Bean.getPropertyPayeeAddrObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getPropertyPayeeAddrObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getPropertyPayeeAddrObj().setContactName(vendorContactName);
				semmmm001Bean.getPropertyPayeeAddrObj().setTelephone(vendorTelephone);
				semmmm001Bean.getPropertyPayeeAddrObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getPropertyPayeeAddrObj().setFax(vendorFax);
				semmmm001Bean.getPropertyPayeeAddrObj().setEmail(vendorEmail);
			}
			
			if(pageParam.equalsIgnoreCase("TAB_04")){
				semmmm001Bean.getInsurePayeeAddrObj().setAddress1(vendorAddr1);	
				semmmm001Bean.getInsurePayeeAddrObj().setAddress2(vendorAddr2);	
				semmmm001Bean.getInsurePayeeAddrObj().setTambol(vendorTambol);		
				semmmm001Bean.getInsurePayeeAddrObj().setAmphur(vendorAmphur);		
				semmmm001Bean.getInsurePayeeAddrObj().setProvince(vendorProvince);	
				semmmm001Bean.getInsurePayeeAddrObj().setPostCode(vendorPostCode);	
				
				semmmm001Bean.getInsurePayeeAddrObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getInsurePayeeAddrObj().setAmphurList(amphurList);
				semmmm001Bean.getInsurePayeeAddrObj().setTambolList(tambolList);
				
				// --
				semmmm001Bean.getInsurePayeeAddrObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getInsurePayeeAddrObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getInsurePayeeAddrObj().setTambolName(semmmm001Bean.getInsurePayeeAddrObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getInsurePayeeAddrObj().setAmphurName(semmmm001Bean.getInsurePayeeAddrObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getInsurePayeeAddrObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getInsurePayeeAddrObj().setContactName(vendorContactName);
				semmmm001Bean.getInsurePayeeAddrObj().setTelephone(vendorTelephone);
				semmmm001Bean.getInsurePayeeAddrObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getInsurePayeeAddrObj().setFax(vendorFax);
				semmmm001Bean.getInsurePayeeAddrObj().setEmail(vendorEmail);
			}
			
			if(pageParam.equalsIgnoreCase("TAB_05")){
				semmmm001Bean.getConstructPayeeAddrObj().setAddress1(vendorAddr1);	
				semmmm001Bean.getConstructPayeeAddrObj().setAddress2(vendorAddr2);	
				semmmm001Bean.getConstructPayeeAddrObj().setTambol(vendorTambol);		
				semmmm001Bean.getConstructPayeeAddrObj().setAmphur(vendorAmphur);		
				semmmm001Bean.getConstructPayeeAddrObj().setProvince(vendorProvince);	
				semmmm001Bean.getConstructPayeeAddrObj().setPostCode(vendorPostCode);	
				
				semmmm001Bean.getConstructPayeeAddrObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getConstructPayeeAddrObj().setAmphurList(amphurList);
				semmmm001Bean.getConstructPayeeAddrObj().setTambolList(tambolList);
				
				// --
				semmmm001Bean.getConstructPayeeAddrObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getConstructPayeeAddrObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getConstructPayeeAddrObj().setTambolName(semmmm001Bean.getConstructPayeeAddrObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getConstructPayeeAddrObj().setAmphurName(semmmm001Bean.getConstructPayeeAddrObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getConstructPayeeAddrObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getConstructPayeeAddrObj().setContactName(vendorContactName);
				semmmm001Bean.getConstructPayeeAddrObj().setTelephone(vendorTelephone);
				semmmm001Bean.getConstructPayeeAddrObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getConstructPayeeAddrObj().setFax(vendorFax);
				semmmm001Bean.getConstructPayeeAddrObj().setEmail(vendorEmail);
			}
			
			if(pageParam.equalsIgnoreCase("TAB_06")){
				semmmm001Bean.getWithholdPayeeAddrObj().setAddress1(vendorAddr1);	
				semmmm001Bean.getWithholdPayeeAddrObj().setAddress2(vendorAddr2);	
				semmmm001Bean.getWithholdPayeeAddrObj().setTambol(vendorTambol);		
				semmmm001Bean.getWithholdPayeeAddrObj().setAmphur(vendorAmphur);		
				semmmm001Bean.getWithholdPayeeAddrObj().setProvince(vendorProvince);	
				semmmm001Bean.getWithholdPayeeAddrObj().setPostCode(vendorPostCode);	
				
				semmmm001Bean.getWithholdPayeeAddrObj().setProvinceList(getProvinceList_SEM());
				semmmm001Bean.getWithholdPayeeAddrObj().setAmphurList(amphurList);
				semmmm001Bean.getWithholdPayeeAddrObj().setTambolList(tambolList);
				
				// --
				semmmm001Bean.getWithholdPayeeAddrObj().setChkTambolOther(chkTambolOther);
				semmmm001Bean.getWithholdPayeeAddrObj().setChkAmphurOther(chkAmphurOther);
				semmmm001Bean.getWithholdPayeeAddrObj().setTambolName(semmmm001Bean.getWithholdPayeeAddrObj().isChkTambolOther() ? vendorTambolName : "");
				semmmm001Bean.getWithholdPayeeAddrObj().setAmphurName(semmmm001Bean.getWithholdPayeeAddrObj().isChkAmphurOther() ? vendorAmphurName : "");
				semmmm001Bean.getWithholdPayeeAddrObj().setChkLocalDepartment(chkLocalDprtmnt);
				
				semmmm001Bean.getWithholdPayeeAddrObj().setContactName(vendorContactName);
				semmmm001Bean.getWithholdPayeeAddrObj().setTelephone(vendorTelephone);
				semmmm001Bean.getWithholdPayeeAddrObj().setMobileNo(vendorMobileNo);
				semmmm001Bean.getWithholdPayeeAddrObj().setFax(vendorFax);
				semmmm001Bean.getWithholdPayeeAddrObj().setEmail(vendorEmail);
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doCopyVendorAddr >> END :::");
		}
	}
	
	
	public void doGetPayeeAddressByVendorParam(String contractNo, String payeeId){
		LOG.info("::: SEMMMM001Action :: doGetPayeeAddressByVendorParam >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001AddressSP> addressResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			semmmm001Bean.setPayeeAddrObj(new Mmm001AddressSP());
			
			if(payeeId != null && !payeeId.isEmpty()){
				// -- vendor address
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(payeeId);
				tmpCriteria.setGroupType("P");
				addressResultList = service.querySPList(EQueryName.SEM_SAP_ADDRESS.name, tmpCriteria);
								
				// clear object
				semmmm001Bean.setPayeeAddrObj(new Mmm001AddressSP()); 		
				semmmm001Bean.setRentalPayeeAddrObj(new Mmm001AddressSP()); 		
				semmmm001Bean.setElectrictPayeeAddrObj(new Mmm001AddressSP()); 	
				semmmm001Bean.setPropertyPayeeAddrObj(new Mmm001AddressSP()); 	
				semmmm001Bean.setInsurePayeeAddrObj(new Mmm001AddressSP()); 		
				semmmm001Bean.setConstructPayeeAddrObj(new Mmm001AddressSP()); 	
				semmmm001Bean.setWithholdPayeeAddrObj(new Mmm001AddressSP()); 
				
				if(addressResultList != null && addressResultList.size() != 0) {
					semmmm001Bean.setPayeeAddrObj((Mmm001AddressSP) addressResultList.get(0));
					semmmm001Bean.setRentalPayeeAddrObj((Mmm001AddressSP) addressResultList.get(1));
					semmmm001Bean.setElectrictPayeeAddrObj((Mmm001AddressSP) addressResultList.get(2));
					semmmm001Bean.setPropertyPayeeAddrObj((Mmm001AddressSP) addressResultList.get(3));
					semmmm001Bean.setInsurePayeeAddrObj((Mmm001AddressSP) addressResultList.get(4));
					semmmm001Bean.setConstructPayeeAddrObj((Mmm001AddressSP) addressResultList.get(5));
//					semmmm001Bean.setWithholdPayeeAddrObj((Mmm001AddressSP) addressResultList.get(6));
					
					// --
					semmmm001Bean.getPayeeAddrObj().setChkTambolOther(addressResultList.get(0).getTambol() != null && addressResultList.get(0).getTambol().equalsIgnoreCase("X") ? true : false);
					semmmm001Bean.getPayeeAddrObj().setChkAmphurOther(addressResultList.get(0).getAmphur() != null && addressResultList.get(0).getAmphur().equalsIgnoreCase("X") ? true : false);
					semmmm001Bean.getPayeeAddrObj().setChkLocalDepartment(addressResultList.get(0).getpTaxFlag() != null && addressResultList.get(0).getpTaxFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getPayeeAddrObj().setChkTelephoneSapFlag(addressResultList.get(0).getTelephoneSapFlag() != null && addressResultList.get(0).getTelephoneSapFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getPayeeAddrObj().setChkMobileNoSapFlag(addressResultList.get(0).getMobileNoSapFlag() != null && addressResultList.get(0).getMobileNoSapFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getPayeeAddrObj().setChkFaxSapFlag(addressResultList.get(0).getFaxSapFlag() != null && addressResultList.get(0).getFaxSapFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getPayeeAddrObj().setChkEmailSapFlag(addressResultList.get(0).getEmailSapFlag() != null && addressResultList.get(0).getEmailSapFlag().equalsIgnoreCase("Y") ? true : false);
					
					this.doSetOwnerLocationPayee();
				}
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetPayeeAddressByVendorParam >> END :::");
		}
	}
	
	private boolean doNewPayeeByContract() {
		LOG.info("::: SEMMMM001Action :: doNewPayeeByContract >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			semmmm001Bean.setSelectedTab("tab0");
			semmmm001Bean.setPayeeSelectedTab("tabP0");
			semmmm001Bean.setPayeeInfo(new Mmm001PayeeSP());
			
//			semmmm001Bean.setVendorInfoMissMatchWithSAPObj(new Mmm001VendorSP());
//			semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
			
			semmmm001Bean.setPayeeAddrObj(new Mmm001AddressSP());
			semmmm001Bean.setRentalPayeeAddrObj(new Mmm001AddressSP());
			semmmm001Bean.setElectrictPayeeAddrObj(new Mmm001AddressSP());
			semmmm001Bean.setPropertyPayeeAddrObj(new Mmm001AddressSP());
			semmmm001Bean.setInsurePayeeAddrObj(new Mmm001AddressSP());
			semmmm001Bean.setConstructPayeeAddrObj(new Mmm001AddressSP());
			semmmm001Bean.setWithholdPayeeAddrObj(new Mmm001AddressSP());
//			
//			semmmm001Bean.setBookbankList(new ArrayList<WrapperBeanObject<Mmm001BookbankSP>>());
//			semmmm001Bean.setPayeeList(new ArrayList<WrapperBeanObject<Mmm001PayeeSP>>());
//			semmmm001Bean.setContractList(new ArrayList<WrapperBeanObject<Mmm001ContractSP>>());
			
			semmmm001Bean.setBookbankPayeeActiveList(new ArrayList<WrapperBeanObject<Mmm001BookbankPayeeSP>>());
			semmmm001Bean.setBookbankPayeeInactiveList(new ArrayList<WrapperBeanObject<Mmm001BookbankPayeeSP>>());
			
			semmmm001Bean.setDisableContent(false);
			semmmm001Bean.setDisableEditVendorContent(false);
			
			semmmm001Bean.setDisableBtnSiteInfo(false);
			semmmm001Bean.setDisableBtnHistory(false);
			
			semmmm001Bean.setDisableBtnEditVendor(false);
			semmmm001Bean.setDisableBtnSaveVendor(false);
			semmmm001Bean.setDisableBtnNewBookbank(false);
			semmmm001Bean.setDisableBtnNewPayee(false);
			
			semmmm001Bean.setRenderedPnlCmpVendorInfo(false);
			
			this.doSetOwnerLocationPayee();
			
			// temp param for saveFlag
			semmmm001Bean.getPayeeInfo().setSaveFlag("C"); //CHANGE
			
			semmmm001Bean.setVisiblePnlVendorInfo(false);
			semmmm001Bean.setVisiblePnlBankListInfo(false);
			semmmm001Bean.setVisiblePnlBookbankPayeeListInfo(false);
			//semmmm001Bean.setVisiblePnlContractListInfo(true);  //2017/07/25 .. unused
			this.doManagePYDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doNewPayeeByContract >> END :::");
		}
		return flag;
	}
	
	 // -> popup convert payee
	public void initChangePayee(){
		LOG.info("::: SEMMMM001Action :: initChangePayee >> BEGIN :::");

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			semmmm001Bean.setChangePayeeCriteria(new Mmm001PayeeSP());
//			semmmm001Bean.setConvertPayeeResultList(new ArrayList<WrapperBeanObject<Mmm001PayeeMasterSP>>());
			semmmm001Bean.setPopupPayeeResultList(new ArrayList<WrapperBeanObject<Mmm001PayeeSP>>());
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: initChangePayee >> END :::");
		}
	}
	
	public void doSearchPopupChangePayee(){
		LOG.info("::: SEMMMM001Action :: doSearchPopupChangePayee >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			List<Mmm001VendorMasterSP> resultList = null;
			List<Mmm001PayeeSP> payeeResultList = null;
			
			semmmm001Bean.setConvertVendorResultList(new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>());
			
			// SEM Side
			List<Mmm001VendorSP> vdResult = null;
			payeeResultList = service.querySPList(EQueryName.SEM_SAP_CHECK_PAYEE_POPUP.name, semmmm001Bean.getChangePayeeCriteria());
			
			semmmm001Bean.setPopupPayeeResultList(new ArrayList<WrapperBeanObject<Mmm001PayeeSP>>()); // clear object
			
			if(payeeResultList != null && payeeResultList.size() != 0) {
				semmmm001Bean.setRenderedMsgDataNotFound(false);
				for (int i=0; i<payeeResultList.size(); i++) {
					Mmm001PayeeSP obj = (Mmm001PayeeSP) payeeResultList.get(i);
					WrapperBeanObject<Mmm001PayeeSP> tmpWrapperBean = new WrapperBeanObject<Mmm001PayeeSP>();
					
					tmpWrapperBean.setDataObj(obj);
					tmpWrapperBean.setMessage("");
					tmpWrapperBean.setCheckBox(false);
					semmmm001Bean.getPopupPayeeResultList().add(tmpWrapperBean);
				}
			}else{
				semmmm001Bean.setRenderedMsgDataNotFound(true);
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSearchPopupChangePayee >> END :::");
		}
	}
	
	public void doChangePayeePopup() {
		LOG.info("::: SEMMMM001Action :: doChangePayeePopup >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("payeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);

//			if(contractNo.isEmpty()){
//				semmmm001Bean.setVisiblePnlContractInfo(false);
//			} else {
//				semmmm001Bean.setVisiblePnlContractInfo(true);
//			}
//			
			
//			// -- contract info + vendor of contract list
//			this.doGetContractInfoByContractParam(contractNo);
//			
//			// -- vendor detail
//			this.doGetVendorInfoByVendorParam(contractNo, vendorId);
//			
//			// -- contract of vendor list
//			this.doGetContractOfVendorByVendorParam(contractNo, vendorId);
//			
			// -- payee detail
			this.doGetPayeeInfoByPayeeParam(contractNo, vendorId, payeeId, vendorMapPayeeId);
			
			// -- bookbank of payee list
			this.doGetBookbankPayeeByPayeeParam(contractNo, vendorId, payeeId, vendorMapPayeeId);
			
			// -- payee address
			this.doGetPayeeAddressByVendorParam(contractNo, payeeId);
			
			// -- contract of payee list
//			this.doGetContractOfPayeeByPayeeParam(payeeId);
			
			this.doSetPayeeLocation();
			
			semmmm001Bean.setDisableContent(false); 
			semmmm001Bean.setDisableEditPayeeContent(false); 
			
			semmmm001Bean.setDisableBtnSavePayee(true);
			semmmm001Bean.setDisableBtnEditPayee(false);
			
			semmmm001Bean.setRenderedPnlCmpPayeeInfo(false);
			semmmm001Bean.getPayeeInfo().setSaveFlag("C");
			// 2017/08/24 -- enabled BtnSendToMng (Payee) when flowStatus 01, 03, 05, 07
			String payeeFlowStatus = semmmm001Bean.getPayeeInfo().getPayeeFlowStatus() == null ? "" : 
				   (String) semmmm001Bean.getPayeeInfo().getPayeeFlowStatus();
//			if(!payeeId.isEmpty() && StringUtils.indexOf("X01,03,05,07", payeeFlowStatus, 0) > 0)
//				semmmm001Bean.setDisableBtnSendManagerPY(false);
//			else
//				semmmm001Bean.setDisableBtnSendManagerPY(true);
			this.doManagePYDetailBtn();
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doChangePayeePopup >> END :::");
		}
	}
	
	private void doManageVendorDetailBtn(){
		semmmm001Bean = getSemmmm001Bean();
		try{
			// 2017/08/24 -- enabled BtnSendToMng (Vendor) when flowStatus 01, 03, 05, 07
			String vendorFlowStatus = semmmm001Bean.getVendorInfo().getVendorFlowStatus() == null ? "" : 
				   (String) semmmm001Bean.getVendorInfo().getVendorFlowStatus();
			
			String vendorBatch = semmmm001Bean.getVendorInfo().getVendorBatch() == null ? "" : 
					(String) semmmm001Bean.getVendorInfo().getVendorBatch();
			
			String vendorCode = semmmm001Bean.getVendorInfo().getVendorCode() == null ? "" : 
				(String) semmmm001Bean.getVendorInfo().getVendorCode();
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			
			String btnActionType = getFacesUtils().getRequestParameter("btnActionType") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("btnActionType");
			
			String changeType = getFacesUtils().getRequestParameter("changeType") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("changeType");
		
			String navProgramBack = semmmm001Bean.getNavProgramBack() == null ? "" : 
				(String) semmmm001Bean.getNavProgramBack();
			
			//control Button All New Vendor
			if(StringUtils.equals("E", btnActionType)){
				semmmm001Bean.setDisableBtnNewAllVendor(true);
				semmmm001Bean.setRenderedBtnNewAllVendor(true);
			}else if(StringUtils.equals("C", btnActionType)){
				semmmm001Bean.setDisableBtnNewAllVendor(true);
				semmmm001Bean.setRenderedBtnNewAllVendor(false);
			}else if(StringUtils.equals("N", btnActionType)){
				semmmm001Bean.setDisableBtnNewAllVendor(false);
				semmmm001Bean.setRenderedBtnNewAllVendor(true);
			}else{
				semmmm001Bean.setDisableBtnNewAllVendor(false);
				semmmm001Bean.setRenderedBtnNewAllVendor(true);
			}
			
			

			//control Button Edit Vendor
			if(StringUtils.equals("E", btnActionType)){
				
					semmmm001Bean.setRenderedBtnEditVendor(true);
					semmmm001Bean.setDisableBtnEditVendor(true);
				
			}else if(StringUtils.equals("C", btnActionType)){
				
					semmmm001Bean.setRenderedBtnEditVendor(false);
					semmmm001Bean.setDisableBtnEditVendor(true);
				
			}else if(StringUtils.equals("N", btnActionType)){
				
					semmmm001Bean.setRenderedBtnEditVendor(true);
					semmmm001Bean.setDisableBtnEditVendor(true);
				
			}else{
				if(vendorFlowStatus != null && 
						StringUtils.indexOf("x01,03,06,08,04", vendorFlowStatus.trim(), 0) >= 0 ){
					semmmm001Bean.setRenderedBtnEditVendor(true);
					semmmm001Bean.setDisableBtnEditVendor(false);
				}else{
					semmmm001Bean.setRenderedBtnEditVendor(true);
					semmmm001Bean.setDisableBtnEditVendor(true);
				}
			}
			
			
			//control Button Change Vendor
			
			if(StringUtils.equals("E", btnActionType)){
				semmmm001Bean.setRenderedBtnChangeVendor(true);
				semmmm001Bean.setDisableBtnChangeVendor(true);
			}else if(StringUtils.equals("C", btnActionType)){
				semmmm001Bean.setRenderedBtnChangeVendor(false);
				semmmm001Bean.setDisableBtnChangeVendor(false);
			}else if(StringUtils.equals("N", btnActionType)){
				semmmm001Bean.setRenderedBtnChangeVendor(true);
				semmmm001Bean.setDisableBtnChangeVendor(true);
			}else{
				if(vendorFlowStatus != null && 
						StringUtils.indexOf("x03", vendorFlowStatus.trim(), 0) >= 0 ){
					semmmm001Bean.setRenderedBtnChangeVendor(true);
					semmmm001Bean.setDisableBtnChangeVendor(false);
				}else{
					semmmm001Bean.setRenderedBtnChangeVendor(true);
					semmmm001Bean.setDisableBtnChangeVendor(true);
				}
			}
			
			
			//control Button Send Vendor To Manager
			if(StringUtils.equals("E", btnActionType)){
				semmmm001Bean.setRenderedBtnSendManagerVD(true);
				semmmm001Bean.setDisableBtnSendManagerVD(true);
			}else if(StringUtils.equals("C", btnActionType)){
				semmmm001Bean.setRenderedBtnSendManagerVD(false);
				semmmm001Bean.setDisableBtnSendManagerVD(false);
			}else if(StringUtils.equals("N", btnActionType)){
				semmmm001Bean.setRenderedBtnSendManagerVD(true);
				semmmm001Bean.setDisableBtnSendManagerVD(true);
			}else{
				if(vendorFlowStatus != null && 
						StringUtils.indexOf("x01,06,08,04", vendorFlowStatus.trim(), 0) >= 0){
					semmmm001Bean.setRenderedBtnSendManagerVD(true);
					semmmm001Bean.setDisableBtnSendManagerVD(false);
				}else{
					semmmm001Bean.setRenderedBtnSendManagerVD(true);
					semmmm001Bean.setDisableBtnSendManagerVD(true);
				}
			}
			
			
			//control Button Export Vendor
			if(StringUtils.equals("E", btnActionType)){
				semmmm001Bean.setRenderedExportBatchVD(true);
				semmmm001Bean.setDisableExportBatchVD(true);
			}else if(StringUtils.equals("C", btnActionType)){
				semmmm001Bean.setRenderedExportBatchVD(false);
				semmmm001Bean.setDisableExportBatchVD(false);
			}else if(StringUtils.equals("N", btnActionType)){
				semmmm001Bean.setRenderedExportBatchVD(true);
				semmmm001Bean.setDisableExportBatchVD(true);
			}else{
				if(vendorFlowStatus != null && 
						!StringUtils.equals("", vendorFlowStatus)){
							semmmm001Bean.setRenderedExportBatchVD(true);
							semmmm001Bean.setDisableExportBatchVD(false);
				}else{
					semmmm001Bean.setRenderedExportBatchVD(true);
					semmmm001Bean.setDisableExportBatchVD(true);
				}
			}
			
			
			//controll Button Clear Batch
			if(StringUtils.equals("E", btnActionType)){
				semmmm001Bean.setRenderedBtnClearBatch(true);
				semmmm001Bean.setDisableBtnClearBatch(true);
			}else if(StringUtils.equals("C", btnActionType)){
				semmmm001Bean.setRenderedBtnClearBatch(false);
				semmmm001Bean.setDisableBtnClearBatch(false);
			}else if(StringUtils.equals("N", btnActionType)){
				semmmm001Bean.setRenderedBtnClearBatch(true);
				semmmm001Bean.setDisableBtnClearBatch(true);
			}else{
				if(vendorFlowStatus != null && StringUtils.indexOf("x01,06,08,04", vendorFlowStatus.trim(), 0) >= 0 && 
						!StringUtils.isEmpty(vendorBatch)){
					semmmm001Bean.setRenderedBtnClearBatch(true);
					semmmm001Bean.setDisableBtnClearBatch(false);
				}else{
					semmmm001Bean.setRenderedBtnClearBatch(true);
					semmmm001Bean.setDisableBtnClearBatch(true);
				}
			}
			
			
			//controll Button Delete Vendor
			if(StringUtils.equals("E", btnActionType)){
				semmmm001Bean.setRenderedBtnDelete(true);
				semmmm001Bean.setDisableBtnDelete(true);
			}else if(StringUtils.equals("C", btnActionType)){
				semmmm001Bean.setRenderedBtnDelete(true);
				semmmm001Bean.setDisableBtnDelete(false);
					if(StringUtils.equals("N", changeType) && StringUtils.equals("S", changeType)){
						semmmm001Bean.setRenderedBtnDelete(false);
						semmmm001Bean.setRenderedBtnNewVendorDetail(true);
						semmmm001Bean.setDisableBtnNewVendorDetail(true);
						semmmm001Bean.setRenderedBtnSelectVendor(true);
						semmmm001Bean.setDisableBtnSelectVendor(true);
					}
			}else if(StringUtils.equals("N", btnActionType)){
				semmmm001Bean.setRenderedBtnDelete(true);
				semmmm001Bean.setDisableBtnDelete(true);
			}else{
				if(StringUtils.indexOf("x01,06,08,04", vendorFlowStatus, 0) >= 0 && StringUtils.isEmpty(vendorCode)){
					semmmm001Bean.setRenderedBtnDelete(true);
					semmmm001Bean.setDisableBtnDelete(false);
				}else{
					semmmm001Bean.setRenderedBtnDelete(true);
					semmmm001Bean.setDisableBtnDelete(true);
				}
			}
			
			
			//controll Button cancel Vendor
			if(StringUtils.equals("E", btnActionType)){
				semmmm001Bean.setRenderedBtnCancel(true);
				semmmm001Bean.setDisableBtnCancel(true);
			}else if(StringUtils.equals("C", btnActionType)){
				semmmm001Bean.setRenderedBtnCancel(false);
				semmmm001Bean.setDisableBtnCancel(false);
			}else if(StringUtils.equals("N", btnActionType)){
				semmmm001Bean.setRenderedBtnCancel(true);
				semmmm001Bean.setDisableBtnCancel(true);
			}else{
				if(vendorFlowStatus != null && StringUtils.indexOf("x01,06,08,04", vendorFlowStatus.trim(), 0) >= 0){
					semmmm001Bean.setRenderedBtnCancel(true);
					semmmm001Bean.setDisableBtnCancel(false);
				}else{
					semmmm001Bean.setRenderedBtnCancel(true);
					semmmm001Bean.setDisableBtnCancel(true);
				}
			}
			

			
			//control button Save VENDOR detail
			if(StringUtils.equals("E", btnActionType)){
				semmmm001Bean.setDisableBtnSaveVendor(false);
			}else if(StringUtils.equals("C", btnActionType)){
				semmmm001Bean.setDisableBtnSaveVendor(false);
			}else if(StringUtils.equals("N", btnActionType)){
				semmmm001Bean.setDisableBtnSaveVendor(false);
			}else{
				
				if(StringUtils.equals("SEMMRT001-1", navProgramBack) || 
						StringUtils.equals("SEMMEL001-VMP", navProgramBack) ||
						StringUtils.equals("SEMMPT001-1", navProgramBack)){
					semmmm001Bean.setDisableBtnSaveVendor(false);
				}else{
					semmmm001Bean.setDisableBtnSaveVendor(true);
				}
	
			}
			
			
			//control button NEW VENDOR detail
			if(StringUtils.equals("E", btnActionType)){
				semmmm001Bean.setRenderedBtnNewVendorDetail(false);
			}else if(StringUtils.equals("C", btnActionType)){
				semmmm001Bean.setRenderedBtnNewVendorDetail(true);
			}else if(StringUtils.equals("N", btnActionType)){
				semmmm001Bean.setRenderedBtnNewVendorDetail(false);
			}else{
				semmmm001Bean.setRenderedBtnNewVendorDetail(false);
			}
			
			
			//control button select vendor 
			if(StringUtils.equals("E", btnActionType)){
				semmmm001Bean.setRenderedBtnSelectVendor(false);
			}else if(StringUtils.equals("C", btnActionType)){
				semmmm001Bean.setRenderedBtnSelectVendor(true);
			}else if(StringUtils.equals("N", btnActionType)){
				semmmm001Bean.setRenderedBtnSelectVendor(false);
			}else{
				semmmm001Bean.setRenderedBtnSelectVendor(false);
			}
			
			LOG.info("::: SEMMMM001Action :: control button copy vendor from SAP  >>  :::");
			System.out.println("::: SEMMMM001Action :: control button copy vendor from SAP  >>  :::");
			//control button copy vendor from SAP 
			if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType) ){
				if(chkSAPMapVendor()){
					semmmm001Bean.setDisableBtnCopyFromSAP(false);
				}else{
					semmmm001Bean.setDisableBtnCopyFromSAP(true);
				}
				
			}else if(StringUtils.equals("C", btnActionType)){
				semmmm001Bean.setDisableBtnCopyFromSAP(true);
			}else if(StringUtils.equals("N", btnActionType)){
				semmmm001Bean.setDisableBtnCopyFromSAP(true);
			}else{
				semmmm001Bean.setDisableBtnCopyFromSAP(true);
			}
			
			System.out.println("::: SEMMMM001Action :: control button copy vendor from SAP is : "+semmmm001Bean.isDisableBtnCopyFromSAP());
			
//			if(!vendorFlowStatus.isEmpty() && StringUtils.indexOf("X01,03,05,07", vendorFlowStatus, 0) > 0){
//				semmmm001Bean.setDisableBtnSendManagerVD(false);
//				semmmm001Bean.setDisableBtnCancel(false);
//			}else{
//				semmmm001Bean.setDisableBtnSendManagerVD(true);
//				semmmm001Bean.setDisableBtnCancel(true);
//			}
//			
//			if(!vendorFlowStatus.isEmpty() && StringUtils.indexOf("X0103050607", vendorFlowStatus, 0) > 0 ){
//				semmmm001Bean.setDisableBtnEditVendor(false);
//			}else{
//				semmmm001Bean.setDisableBtnEditVendor(true);
//			}
//			
//			if(!vendorFlowStatus.isEmpty() && StringUtils.equals("06", vendorFlowStatus)){
//				semmmm001Bean.setDisableBtnChangeVendor(false);
//			}else{
//				semmmm001Bean.setDisableBtnChangeVendor(true);
//			}
//			
//			if(StringUtils.equals("", vendorBatch) ){
//				semmmm001Bean.setDisableExportBatchVD(false);
//				semmmm001Bean.setDisableClearBatchVD(true);
//			}else{
//				semmmm001Bean.setDisableExportBatchVD(true);
//				semmmm001Bean.setDisableClearBatchVD(false);
//			}
//			
//			if(StringUtils.equals("", btnActionType)){
//				
//				if(StringUtils.indexOf("X01,03,05,07", vendorFlowStatus, 0) > 0){
//					semmmm001Bean.setDisableExportBatchVD(false);
//				}else{
//					semmmm001Bean.setDisableExportBatchVD(true);
//				}
//			}else if(!StringUtils.equals("", btnActionType)){
//				
//				semmmm001Bean.setDisableExportBatchVD(true);
//				
//			}
//			
			if(!StringUtils.equals("", vendorCode) && StringUtils.equals("03", vendorFlowStatus)){
				semmmm001Bean.setDisableBtnNewBookbankVD(false);
			}else{
				semmmm001Bean.setDisableBtnNewBookbankVD(true);
			}
//			
			if(!StringUtils.equals("", vendorCode) && 
					!StringUtils.equals("", contractNo) &&
					StringUtils.equals("03", vendorFlowStatus)){
				semmmm001Bean.setDisableBtnNewPayeeVD(false);
			}else{
				semmmm001Bean.setDisableBtnNewPayeeVD(true);
			}
//		
			//controll Button Confirm
			if(semmmm001Bean.getVendorInfo().getConfirmFlag() != null && StringUtils.equals("Y", semmmm001Bean.getVendorInfo().getConfirmFlag())){
				semmmm001Bean.setRenderedConfirmVD(true);
				semmmm001Bean.setDisableConfirmVD(false);
				
			}else{
				semmmm001Bean.setRenderedConfirmVD(false);
			}
			
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action doManageVendorDetailBtn : "+e);
			// TODO: handle exception
		}
	}
	
	public boolean chkSAPMapVendor(){
		boolean flag = true;
		semmmm001Bean = getSemmmm001Bean();
		try{
//			
			if(semmmm001Bean.getVendorInfoMissMatchWithSAPObj() != null){
				Mmm001VendorSP sapVendorSP = semmmm001Bean.getVendorInfoMissMatchWithSAPObj();
				System.out.println("==== chkSAPMapVendor  sapVendorSP : "+sapVendorSP);
				if((sapVendorSP.getVendorCode() != null && !StringUtils.equals("", sapVendorSP.getVendorCode())) ||
						(sapVendorSP.getVendorName() != null && !StringUtils.equals("", sapVendorSP.getVendorName())) ||
						(sapVendorSP.getVendorName1() != null && !StringUtils.equals("", sapVendorSP.getVendorName1())) ||
						(sapVendorSP.getVendorName2() != null && !StringUtils.equals("", sapVendorSP.getVendorName2())) ||
						(sapVendorSP.getVendorName3() != null && !StringUtils.equals("", sapVendorSP.getVendorName3())) ||
						(sapVendorSP.getVendorName4() != null && !StringUtils.equals("", sapVendorSP.getVendorName4())) ||
						(sapVendorSP.getVendorType() != null && !StringUtils.equals("", sapVendorSP.getVendorType())) ||
						(sapVendorSP.getIdCard() != null && !StringUtils.equals("", sapVendorSP.getIdCard())) ||
						(sapVendorSP.getTaxId() != null && !StringUtils.equals("", sapVendorSP.getTaxId())) ||
						(sapVendorSP.getVendorBlockStatus() != null && !StringUtils.equals("", sapVendorSP.getVendorBlockStatus())) ||
						(sapVendorSP.getHqFlag() != null && !StringUtils.equals("", sapVendorSP.getHqFlag())) ||
						(sapVendorSP.getBranchNo() != null && !StringUtils.equals("", sapVendorSP.getBranchNo())) ||
						(sapVendorSP.getWhtType() != null && !StringUtils.equals("", sapVendorSP.getWhtType())) ||
						(sapVendorSP.getWhtCode() != null && !StringUtils.equals("", sapVendorSP.getWhtCode())) ||
						(sapVendorSP.getIncludeVAT() != null && !StringUtils.equals("", sapVendorSP.getIncludeVAT())) ||
						(sapVendorSP.getAddress1() != null && !StringUtils.equals("", sapVendorSP.getAddress1())) ||
						(sapVendorSP.getAddress2() != null && !StringUtils.equals("", sapVendorSP.getAddress2())) ||
						(sapVendorSP.getTambol() != null && !StringUtils.equals("", sapVendorSP.getTambol())) ||
						(sapVendorSP.getTambolName() != null && !StringUtils.equals("", sapVendorSP.getTambolName())) ||
						(sapVendorSP.getAmphur() != null && !StringUtils.equals("", sapVendorSP.getAmphur())) ||
						(sapVendorSP.getAmphurName() != null && !StringUtils.equals("", sapVendorSP.getAmphurName())) ||
						(sapVendorSP.getProvince() != null && !StringUtils.equals("", sapVendorSP.getProvince())) ||
						(sapVendorSP.getProvinceName() != null && !StringUtils.equals("", sapVendorSP.getProvinceName())) ||
						(sapVendorSP.getPostCode() != null && !StringUtils.equals("", sapVendorSP.getPostCode())) ||
						(sapVendorSP.getTelephone() != null && !StringUtils.equals("", sapVendorSP.getTelephone())) ||
						(sapVendorSP.getMobileNo() != null && !StringUtils.equals("", sapVendorSP.getMobileNo())) ||
						(sapVendorSP.getFax() != null && !StringUtils.equals("", sapVendorSP.getFax())) ||
						(sapVendorSP.getEmail() != null && !StringUtils.equals("", sapVendorSP.getEmail())) ||
						(sapVendorSP.getNotPayeeFlag() != null && !StringUtils.equals("", sapVendorSP.getNotPayeeFlag())) ||
						(sapVendorSP.getCompany() != null && !StringUtils.equals("", sapVendorSP.getCompany()))						
						 )
						{
					System.out.println("==== chkSAPMapVendor  sapVendorSP : TRUE");
					flag = true;
				}else{
					flag = false;
					System.out.println("==== chkSAPMapVendor  sapVendorSP : FALSE");
				}
			}
			
			
		}catch (Exception e) {
			flag = false;
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action chkSAPMapVendor : "+e);
			// TODO: handle exception
		}
		return flag;
	}
	
	private void doManageVBDetailBtn(){
		semmmm001Bean = getSemmmm001Bean();
		try{
			// 2017/08/24 -- enabled BtnSendToMng (Vendor) when flowStatus 01, 03, 05, 07
			String vbFlowStatus = semmmm001Bean.getBookbankInfo().getBookbankFlowStatus() == null ? "" : 
				   (String) semmmm001Bean.getBookbankInfo().getBookbankFlowStatus();
			
			String vbBatch = semmmm001Bean.getBookbankInfo().getBookbankBatch() == null ? "" : 
					(String) semmmm001Bean.getBookbankInfo().getBookbankBatch();
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("payeeIdParam");
			
			String btnActionType = getFacesUtils().getRequestParameter("btnActionType") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("btnActionType");
			
			String changeType = getFacesUtils().getRequestParameter("changeType") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("changeType");
			
			String todoManagerFlag = (String)getFacesUtils().getRequestParameter("todoManagerFlag") == null ? "" : 
				(String)getFacesUtils().getRequestParameter("todoManagerFlag");
			
			String vendorCode = semmmm001Bean.getVendorInfo().getVendorCode() == null ? "" : 
				(String) semmmm001Bean.getVendorInfo().getVendorCode();
			
		
			LOG.debug("doManageVBDetailBtn vbFlowStatus : "+vbFlowStatus);
			LOG.debug("doManageVBDetailBtn btnActionType : "+btnActionType);
			
			if(StringUtils.equals("Y", todoManagerFlag)){
				semmmm001Bean.setDisableBtnSaveBookbank(true);
				semmmm001Bean.setDisableConfirmVB(true);
				semmmm001Bean.setDisableBtnCopyVBFromSAP(true);
				
				semmmm001Bean.setRenderedCancelVB(false);
				semmmm001Bean.setDisableCancelVB(true);
				
				semmmm001Bean.setRenderedDeleteVB(false);
				semmmm001Bean.setDisableDeleteVB(true);
				
				semmmm001Bean.setRenderedClearBatchVB(false);
				semmmm001Bean.setDisableClearBatchVB(true);
				
				semmmm001Bean.setRenderedExportBatchVB(false);
				semmmm001Bean.setDisableExportBatchVB(true);
				
				semmmm001Bean.setRenderedBtnSendManagerVB(false);
				semmmm001Bean.setDisableBtnSendManagerVB(true);
				
				semmmm001Bean.setRenderedBtnChangeVB(false);
				semmmm001Bean.setDisableBtnChangeVB(true);
				
				semmmm001Bean.setRenderedBtnEditBookbank(false);
				semmmm001Bean.setDisableBtnEditBookbank(false);
				
				semmmm001Bean.setDisableBtnNewAllVB(true);
				semmmm001Bean.setRenderedBtnNewAllVB(false);
				
				semmmm001Bean.setRenderedBtnEditDataBookbank(false);
				semmmm001Bean.setDisableBtnEditDataBookbank(true);
			}else{
				//control Button All New bookbank
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setDisableBtnNewAllVB(true);
					semmmm001Bean.setRenderedBtnNewAllVB(true);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setDisableBtnNewAllVB(true);
					semmmm001Bean.setRenderedBtnNewAllVB(true);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setDisableBtnNewAllVB(false);
					semmmm001Bean.setRenderedBtnNewAllVB(true);
				}else{
					semmmm001Bean.setDisableBtnNewAllVB(false);
					semmmm001Bean.setRenderedBtnNewAllVB(true);
				}
				
				

				//control Button Edit bookbank
				if(StringUtils.equals("E", btnActionType)){
					
						semmmm001Bean.setRenderedBtnEditBookbank(true);
						semmmm001Bean.setDisableBtnEditBookbank(false);
					
				}else if(StringUtils.equals("C", btnActionType)){
					
						semmmm001Bean.setRenderedBtnEditBookbank(true);
						semmmm001Bean.setDisableBtnEditBookbank(true);
					
				}else if(StringUtils.equals("N", btnActionType)){
					
						semmmm001Bean.setRenderedBtnEditBookbank(true);
						semmmm001Bean.setDisableBtnEditBookbank(true);
					
				}else{
					if(vbFlowStatus != null && 
							StringUtils.indexOf("x06", vbFlowStatus.trim(), 0) >= 0){
						semmmm001Bean.setRenderedBtnEditBookbank(true);
						semmmm001Bean.setDisableBtnEditBookbank(false);
					}else{
						semmmm001Bean.setRenderedBtnEditBookbank(true);
						semmmm001Bean.setDisableBtnEditBookbank(true);
					}
				}
				
				//control Button Edit DATA bookbank
				if(vbFlowStatus != null && 
						StringUtils.indexOf("x13,08,17,14,01,12", vbFlowStatus.trim(), 0) > 0){
					semmmm001Bean.setRenderedBtnEditDataBookbank(true);
					semmmm001Bean.setDisableBtnEditDataBookbank(false);
				}else{
					semmmm001Bean.setRenderedBtnEditDataBookbank(false);
					semmmm001Bean.setDisableBtnEditDataBookbank(true);
				}
				
				//control Button Change bookbank
				
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setRenderedBtnChangeVB(true);
					semmmm001Bean.setDisableBtnChangeVB(true);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setRenderedBtnChangeVB(true);
					semmmm001Bean.setDisableBtnChangeVB(true);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setRenderedBtnChangeVB(true);
					semmmm001Bean.setDisableBtnChangeVB(true);
				}else{
					if(vbFlowStatus != null && 
							StringUtils.equals("06", vbFlowStatus.trim())){
						semmmm001Bean.setRenderedBtnChangeVB(true);
						semmmm001Bean.setDisableBtnChangeVB(false);
					}else{
						semmmm001Bean.setRenderedBtnChangeVB(true);
						semmmm001Bean.setDisableBtnChangeVB(true);
					}
				}
				
				
				//control Button Send bookbank To Manager
				if(StringUtils.equals("", vendorCode)){
					semmmm001Bean.setRenderedBtnSendManagerVB(true);
					semmmm001Bean.setDisableBtnSendManagerVB(true);
				}else{
					if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
						semmmm001Bean.setRenderedBtnSendManagerVB(true);
						semmmm001Bean.setDisableBtnSendManagerVB(true);
					}else if(StringUtils.equals("C", btnActionType)){
						semmmm001Bean.setRenderedBtnSendManagerVB(true);
						semmmm001Bean.setDisableBtnSendManagerVB(true);
					}else if(StringUtils.equals("N", btnActionType)){
						semmmm001Bean.setRenderedBtnSendManagerVB(true);
						semmmm001Bean.setDisableBtnSendManagerVB(true);
					}else{
						if(vbFlowStatus != null && 
								StringUtils.indexOf("x01,12,08,13,14,17", vbFlowStatus.trim(), 0) >= 0){
							semmmm001Bean.setRenderedBtnSendManagerVB(true);
							semmmm001Bean.setDisableBtnSendManagerVB(false);
						}else{
							semmmm001Bean.setRenderedBtnSendManagerVB(true);
							semmmm001Bean.setDisableBtnSendManagerVB(true);
						}
					}
				}
				
				
				
				//control Button Export bookbank
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setRenderedExportBatchVB(true);
					semmmm001Bean.setDisableExportBatchVB(true);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setRenderedExportBatchVB(true);
					semmmm001Bean.setDisableExportBatchVB(true);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setRenderedExportBatchVB(true);
					semmmm001Bean.setDisableExportBatchVB(true);
				}else{
					if(vbFlowStatus != null && 
							!StringUtils.equals("06", vbFlowStatus)){
								semmmm001Bean.setRenderedExportBatchVB(true);
								semmmm001Bean.setDisableExportBatchVB(false);
					}else{
						semmmm001Bean.setRenderedExportBatchVB(true);
						semmmm001Bean.setDisableExportBatchVB(true);
					}
				}
				
				
				//controll Button Clear Batch
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setRenderedClearBatchVB(true);
					semmmm001Bean.setDisableClearBatchVB(true);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setRenderedClearBatchVB(true);
					semmmm001Bean.setDisableClearBatchVB(true);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setRenderedClearBatchVB(true);
					semmmm001Bean.setDisableClearBatchVB(true);
				}else{
					if(vbFlowStatus != null && StringUtils.indexOf("x01,12,08,13,14,17", vbFlowStatus.trim(), 0) >= 0 && 
							!StringUtils.isEmpty(vbBatch)){
						semmmm001Bean.setRenderedClearBatchVB(true);
						semmmm001Bean.setDisableClearBatchVB(false);
					}else{
						semmmm001Bean.setRenderedClearBatchVB(true);
						semmmm001Bean.setDisableClearBatchVB(true);
					}
				}
				
				
				//controll Button Delete bookbank
				if(vbFlowStatus != null && 
						(StringUtils.equals("01", vbFlowStatus) || 
						StringUtils.equals("06", vbFlowStatus) ||
						StringUtils.equals("12", vbFlowStatus))){
					semmmm001Bean.setRenderedDeleteVB(true);
					semmmm001Bean.setDisableDeleteVB(false);
				}else{
					if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
						semmmm001Bean.setRenderedDeleteVB(true);
						semmmm001Bean.setDisableDeleteVB(true);
					}else if(StringUtils.equals("C", btnActionType)){
						semmmm001Bean.setRenderedDeleteVB(true);
						semmmm001Bean.setDisableDeleteVB(false);
//							if(StringUtils.equals("N", changeType) && StringUtils.equals("S", changeType)){
//								semmmm001Bean.setRenderedDeleteVB(false);
//								semmmm001Bean.setRenderedBtnNewPYDetail(true);
//								semmmm001Bean.setDisableBtnNewPYDetail(true);
//								semmmm001Bean.setRenderedBtnSelectPY(true);
//								semmmm001Bean.setDisableBtnSelectPY(true);
//							}
					}else if(StringUtils.equals("N", btnActionType)){
						semmmm001Bean.setRenderedDeleteVB(true);
						semmmm001Bean.setDisableDeleteVB(true);
					}else{
						if(vbFlowStatus != null && StringUtils.equals("06", vbFlowStatus)){
							semmmm001Bean.setRenderedDeleteVB(true);
							semmmm001Bean.setDisableDeleteVB(false);
						}else{
							semmmm001Bean.setRenderedDeleteVB(true);
							semmmm001Bean.setDisableDeleteVB(true);
						}
					}
				}
				
				
				
				
				
				//controll Button cancel bookbank
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setRenderedCancelVB(true);
					semmmm001Bean.setDisableCancelVB(true);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setRenderedCancelVB(true);
					semmmm001Bean.setDisableCancelVB(true);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setRenderedCancelVB(true);
					semmmm001Bean.setDisableCancelVB(true);
				}else{
					if(vbFlowStatus != null && StringUtils.indexOf("x01,12,08,13,14,17", vbFlowStatus.trim(), 0) >= 0){
						semmmm001Bean.setRenderedCancelVB(true);
						semmmm001Bean.setDisableCancelVB(false);
					}else{
						semmmm001Bean.setRenderedCancelVB(true);
						semmmm001Bean.setDisableCancelVB(true);
					}
				}
				
				//control button copy bookbank from SAP 
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType) ){
					if(chkSAPMapBookbank()){
						semmmm001Bean.setDisableBtnCopyVBFromSAP(false);
					}else{
						semmmm001Bean.setDisableBtnCopyVBFromSAP(true);
					}
					
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setDisableBtnCopyVBFromSAP(true);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setDisableBtnCopyVBFromSAP(true);
				}else{
					semmmm001Bean.setDisableBtnCopyVBFromSAP(true);
				}
				
				//controll Button Confirm
				if(semmmm001Bean.getBookbankInfo().getConfirmFlag() != null && StringUtils.equals("Y", semmmm001Bean.getBookbankInfo().getConfirmFlag())){
					semmmm001Bean.setRenderedConfirmVB(true);
					semmmm001Bean.setDisableConfirmVB(false);
					
				}else{
					semmmm001Bean.setRenderedConfirmVB(false);
				}
				
				//control button Save VENDOR Bookbank detail
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setDisableBtnSaveBookbank(false);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setDisableBtnSaveBookbank(false);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setDisableBtnSaveBookbank(false);
				}else{
					semmmm001Bean.setDisableBtnSaveBookbank(true);
				}
				
			}
			
			
			
			
//			//control button NEW VENDOR detail
//			if(StringUtils.equals("E", btnActionType)){
//				semmmm001Bean.setRenderedBtnNewPYDetail(false);
//			}else if(StringUtils.equals("C", btnActionType)){
//				semmmm001Bean.setRenderedBtnNewPYDetail(true);
//			}else if(StringUtils.equals("N", btnActionType)){
//				semmmm001Bean.setRenderedBtnNewPYDetail(false);
//			}else{
//				semmmm001Bean.setRenderedBtnNewPYDetail(false);
//			}
//			
//			
//			//control button select vendor 
//			if(StringUtils.equals("E", btnActionType)){
//				semmmm001Bean.setRenderedBtnSelectPY(false);
//			}else if(StringUtils.equals("C", btnActionType)){
//				semmmm001Bean.setRenderedBtnSelectPY(true);
//			}else if(StringUtils.equals("N", btnActionType)){
//				semmmm001Bean.setRenderedBtnSelectPY(false);
//			}else{
//				semmmm001Bean.setRenderedBtnSelectPY(false);
//			}
			
//			if(StringUtils.equals("01", vendorBookbankFlowStatus)){
//				semmmm001Bean.setDisableBtnSendManagerVB(false);
//			}else{
//				semmmm001Bean.setDisableBtnSendManagerVB(true);
//			}
//			
//			if(!vendorBookbankFlowStatus.isEmpty() && StringUtils.indexOf("X01,03,05,07,09,11", vendorBookbankFlowStatus, 0) > 0){
//				semmmm001Bean.setDisableCancelVB(false);
//			}else{
//				semmmm001Bean.setDisableCancelVB(true);
//			}
//			
//			if(!vendorBookbankFlowStatus.isEmpty() && StringUtils.indexOf("X01,03,05,07,09,10,11", vendorBookbankFlowStatus, 0) > 0 ){
//				semmmm001Bean.setDisableBtnEditBookbank(false);
//			}else{
//				semmmm001Bean.setDisableBtnEditBookbank(true);
//			}
//			
//			
//			if(!vendorBookbankFlowStatus.isEmpty() && StringUtils.equals("10", vendorBookbankFlowStatus)){
//				semmmm001Bean.setDisableBtnChangeVB(false);
//				semmmm001Bean.setDisableDeleteVB(false);
//			}else{
//				semmmm001Bean.setDisableBtnChangeVB(true);
//				semmmm001Bean.setDisableDeleteVB(true);
//			}
//			
//			if(StringUtils.equals("", vendorBookbankBatch)){
//				semmmm001Bean.setDisableExportBatchVB(false);
//				semmmm001Bean.setDisableClearBatchVB(true);
//			}else{
//				semmmm001Bean.setDisableExportBatchVB(true);
//				semmmm001Bean.setDisableClearBatchVB(false);
//			}
			
			
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action doManageVendorDetailBtn : "+e);
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
	}
	
	public boolean chkSAPMapBookbank(){
		boolean flag = true;
		semmmm001Bean = getSemmmm001Bean();
		try{
//			
			if(semmmm001Bean.getBookbankInfoMissMatchWithSAPObj() != null){
				Mmm001BookbankSP sapVBSP = semmmm001Bean.getBookbankInfoMissMatchWithSAPObj();
				
				if((sapVBSP.getBankCode() != null && !StringUtils.equals("", sapVBSP.getBankCode())) ||
						(sapVBSP.getAccountNo() != null && !StringUtils.equals("", sapVBSP.getAccountNo())) ||
						(sapVBSP.getAccountName() != null && !StringUtils.equals("", sapVBSP.getAccountName()))){
					flag = true;
				}else{
					flag = false;
				}
			}
			
			
		}catch (Exception e) {
			flag = false;
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action chkSAPMapVendor : "+e);
			// TODO: handle exception
		}
		return flag;
	}
	
	private void doManagePYDetailBtn(){
		semmmm001Bean = getSemmmm001Bean();
		try{
			// 2017/08/24 -- enabled BtnSendToMng (Vendor) when flowStatus 01, 03, 05, 07
			
			String payeeFlowStatus = semmmm001Bean.getPayeeInfo().getPayeeFlowStatus() == null ? "" : 
				   (String) semmmm001Bean.getPayeeInfo().getPayeeFlowStatus();
			
			String payeeBatch = semmmm001Bean.getPayeeInfo().getPayeeBatch() == null ? "" : 
					(String) semmmm001Bean.getPayeeInfo().getPayeeBatch();
			
			String payeeCode = semmmm001Bean.getPayeeInfo().getPayeeCode() == null ? "" : 
				(String) semmmm001Bean.getPayeeInfo().getPayeeCode();
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("payeeIdParam");
			
			String btnActionType = getFacesUtils().getRequestParameter("btnActionType") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("btnActionType");
			
			String changeType = getFacesUtils().getRequestParameter("changeType") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("changeType");
			
			String todoManagerFlag = (String)getFacesUtils().getRequestParameter("todoManagerFlag") == null ? "" : 
				(String)getFacesUtils().getRequestParameter("todoManagerFlag");
		
			if(StringUtils.equals("Y", todoManagerFlag)){
				semmmm001Bean.setDisableBtnNewAllPY(false);
				semmmm001Bean.setRenderedBtnNewAllPY(true);
				
				semmmm001Bean.setRenderedBtnEditPayee(false);
				semmmm001Bean.setDisableBtnEditPayee(true);
				
				semmmm001Bean.setRenderedBtnChangePY(false);
				semmmm001Bean.setDisableBtnChangePY(true);
				
				semmmm001Bean.setRenderedBtnSendManagerPY(false);
				semmmm001Bean.setDisableBtnSendManagerPY(true);
				
				semmmm001Bean.setRenderedExportBatchPY(false);
				semmmm001Bean.setDisableExportBatchPY(true);
				
				semmmm001Bean.setRenderedClearBatchPY(false);
				semmmm001Bean.setDisableClearBatchPY(true);
				
				semmmm001Bean.setRenderedDeletePY(false);
				semmmm001Bean.setDisableDeletePY(true);
				
				semmmm001Bean.setRenderedCancelPY(false);
				semmmm001Bean.setDisableCancelPY(true);
				
				semmmm001Bean.setRenderedBtnNewPYDetail(false);
				
				semmmm001Bean.setRenderedBtnSelectPY(false);
				
				semmmm001Bean.setDisableBtnSavePayee(true);
				
				semmmm001Bean.setRenderedBtnEditDataPayee(false);
				semmmm001Bean.setDisableBtnEditDataPayee(true);
			}else{
				//control Button All Payee
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setDisableBtnNewAllPY(true);
					semmmm001Bean.setRenderedBtnNewAllPY(true);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setDisableBtnNewAllPY(true);
					semmmm001Bean.setRenderedBtnNewAllPY(false);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setDisableBtnNewAllPY(false);
					semmmm001Bean.setRenderedBtnNewAllPY(true);
				}else{
					semmmm001Bean.setDisableBtnNewAllPY(false);
					semmmm001Bean.setRenderedBtnNewAllPY(true);
				}
				
				

				//control Button Edit Payee
				if(StringUtils.equals("E", btnActionType)){
					
						semmmm001Bean.setRenderedBtnEditPayee(true);
						semmmm001Bean.setDisableBtnEditPayee(false);
					
				}else if(StringUtils.equals("C", btnActionType)){
					
						semmmm001Bean.setRenderedBtnEditPayee(false);
						semmmm001Bean.setDisableBtnEditPayee(true);
					
				}else if(StringUtils.equals("N", btnActionType)){
					
						semmmm001Bean.setRenderedBtnEditPayee(true);
						semmmm001Bean.setDisableBtnEditPayee(true);
					
				}else{
					if(payeeFlowStatus != null && 
							StringUtils.indexOf("x03", payeeFlowStatus.trim(), 0) >= 0 ){
						semmmm001Bean.setRenderedBtnEditPayee(true);
						semmmm001Bean.setDisableBtnEditPayee(false);
					}else{
						semmmm001Bean.setRenderedBtnEditPayee(true);
						semmmm001Bean.setDisableBtnEditPayee(true);
					}
				}
				
				
				//control Button Edit DATA Payee
				if(payeeFlowStatus != null && 
						StringUtils.indexOf("x01,13,04,08", payeeFlowStatus.trim(), 0) > 0 ){
					semmmm001Bean.setRenderedBtnEditDataPayee(true);
					semmmm001Bean.setDisableBtnEditDataPayee(false);
				}else{
					semmmm001Bean.setRenderedBtnEditDataPayee(false);
					semmmm001Bean.setDisableBtnEditDataPayee(true);
				}
				
				//control Button Change Payee
				
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setRenderedBtnChangePY(true);
					semmmm001Bean.setDisableBtnChangePY(true);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setRenderedBtnChangePY(false);
					semmmm001Bean.setDisableBtnChangePY(false);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setRenderedBtnChangePY(true);
					semmmm001Bean.setDisableBtnChangePY(true);
				}else{
					if(payeeFlowStatus != null && 
							StringUtils.indexOf("x03", payeeFlowStatus.trim(), 0) >= 0 ){
						semmmm001Bean.setRenderedBtnChangePY(true);
						semmmm001Bean.setDisableBtnChangePY(false);
					}else{
						semmmm001Bean.setRenderedBtnChangePY(true);
						semmmm001Bean.setDisableBtnChangePY(true);
					}
				}
				
				
				//control Button Send Payee To Manager
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setRenderedBtnSendManagerPY(true);
					semmmm001Bean.setDisableBtnSendManagerPY(true);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setRenderedBtnSendManagerPY(false);
					semmmm001Bean.setDisableBtnSendManagerPY(false);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setRenderedBtnSendManagerPY(true);
					semmmm001Bean.setDisableBtnSendManagerPY(true);
				}else{
					if(payeeFlowStatus != null && 
							StringUtils.indexOf("x01,13,08,04", payeeFlowStatus.trim(), 0) >= 0){
						semmmm001Bean.setRenderedBtnSendManagerPY(true);
						semmmm001Bean.setDisableBtnSendManagerPY(false);
					}else{
						semmmm001Bean.setRenderedBtnSendManagerPY(true);
						semmmm001Bean.setDisableBtnSendManagerPY(true);
					}
				}
				
				
				//control Button Export Payee
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setRenderedExportBatchPY(true);
					semmmm001Bean.setDisableExportBatchPY(true);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setRenderedExportBatchPY(false);
					semmmm001Bean.setDisableExportBatchPY(false);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setRenderedExportBatchPY(true);
					semmmm001Bean.setDisableExportBatchPY(true);
				}else{
					if(payeeFlowStatus != null && 
							!StringUtils.equals("03", payeeFlowStatus)){
								semmmm001Bean.setRenderedExportBatchPY(true);
								semmmm001Bean.setDisableExportBatchPY(false);
					}else{
						semmmm001Bean.setRenderedExportBatchPY(true);
						semmmm001Bean.setDisableExportBatchPY(true);
					}
				}
				
				
				//controll Button Clear Batch
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setRenderedClearBatchPY(true);
					semmmm001Bean.setDisableClearBatchPY(true);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setRenderedClearBatchPY(false);
					semmmm001Bean.setDisableClearBatchPY(false);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setRenderedClearBatchPY(true);
					semmmm001Bean.setDisableClearBatchPY(true);
				}else{
					if(payeeFlowStatus != null && StringUtils.indexOf("x01,13,08,04", payeeFlowStatus.trim(), 0) >= 0 && 
							!StringUtils.isEmpty(payeeBatch)){
						semmmm001Bean.setRenderedClearBatchPY(true);
						semmmm001Bean.setDisableClearBatchPY(false);
					}else{
						semmmm001Bean.setRenderedClearBatchPY(true);
						semmmm001Bean.setDisableClearBatchPY(true);
					}
				}
				
				
				//controll Button Delete Payee]
				if(payeeFlowStatus != null && (StringUtils.equals("01", payeeFlowStatus) ||
						StringUtils.equals("03", payeeFlowStatus) ||
								StringUtils.equals("13", payeeFlowStatus))){
					semmmm001Bean.setRenderedDeletePY(true);
					semmmm001Bean.setDisableDeletePY(false);
				}else{
					if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
						semmmm001Bean.setRenderedDeletePY(true);
						semmmm001Bean.setDisableDeletePY(true);
					}else if(StringUtils.equals("C", btnActionType)){
						semmmm001Bean.setRenderedDeletePY(true);
						semmmm001Bean.setDisableDeletePY(false);
							if(StringUtils.equals("N", changeType) && StringUtils.equals("S", changeType)){
								semmmm001Bean.setRenderedDeletePY(false);
								semmmm001Bean.setRenderedBtnNewPYDetail(true);
								semmmm001Bean.setDisableBtnNewPYDetail(true);
								semmmm001Bean.setRenderedBtnSelectPY(true);
								semmmm001Bean.setDisableBtnSelectPY(true);
							}
					}else if(StringUtils.equals("N", btnActionType)){
						semmmm001Bean.setRenderedDeletePY(true);
						semmmm001Bean.setDisableDeletePY(true);
					}else{
						if(payeeFlowStatus != null && StringUtils.equals("03", payeeFlowStatus)){
							semmmm001Bean.setRenderedDeletePY(true);
							semmmm001Bean.setDisableDeletePY(false);
						}else{
							semmmm001Bean.setRenderedDeletePY(true);
							semmmm001Bean.setDisableDeletePY(true);
						}
					}
				}
				
				
				//controll Button cancel Payee
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setRenderedCancelPY(true);
					semmmm001Bean.setDisableCancelPY(true);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setRenderedCancelPY(false);
					semmmm001Bean.setDisableCancelPY(false);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setRenderedCancelPY(true);
					semmmm001Bean.setDisableCancelPY(true);
				}else{
					if(payeeFlowStatus != null && StringUtils.indexOf("x01,13,08,04", payeeFlowStatus.trim(), 0) >= 0){
						semmmm001Bean.setRenderedCancelPY(true);
						semmmm001Bean.setDisableCancelPY(false);
					}else{
						semmmm001Bean.setRenderedCancelPY(true);
						semmmm001Bean.setDisableCancelPY(true);
					}
				}
				
				
				//control button NEW Payee detail
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setRenderedBtnNewPYDetail(false);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setRenderedBtnNewPYDetail(true);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setRenderedBtnNewPYDetail(false);
				}else{
					semmmm001Bean.setRenderedBtnNewPYDetail(false);
				}
				
				
				//control button select Payee 
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setRenderedBtnSelectPY(false);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setRenderedBtnSelectPY(true);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setRenderedBtnSelectPY(false);
				}else{
					semmmm001Bean.setRenderedBtnSelectPY(false);
				}
				
							
				//controll Button Confirm
				if(semmmm001Bean.getPayeeInfo().getConfirmFlag() != null && StringUtils.equals("Y", semmmm001Bean.getPayeeInfo().getConfirmFlag())){
					semmmm001Bean.setRenderedConfirmPY(true);
					semmmm001Bean.setDisableConfirmPY(false);
					
				}else{
					semmmm001Bean.setRenderedConfirmPY(false);
				}
				
				//control button Save PAYEE detail
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setDisableBtnSavePayee(false);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setDisableBtnSavePayee(false);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setDisableBtnSavePayee(false);
				}else{
					semmmm001Bean.setDisableBtnSavePayee(true);
				}
			}
			
//			if(StringUtils.equals("01", payeeFlowStatus)){
//				semmmm001Bean.setDisableBtnSendManagerPY(false);
//			}else{
//				semmmm001Bean.setDisableBtnSendManagerPY(true);
//			}
//			
//			if(!payeeFlowStatus.isEmpty() && StringUtils.indexOf("X01,03,05,07", payeeFlowStatus, 0) > 0){
//				
//				semmmm001Bean.setDisableCancelPY(false);
//			}else{
//			
//				semmmm001Bean.setDisableCancelPY(true);
//			}
//			
//			if(!payeeFlowStatus.isEmpty() && StringUtils.indexOf("X01,03,05,0708", payeeFlowStatus, 0) > 0 ){
//				semmmm001Bean.setDisableBtnEditPayee(false);
//			}else{
//				semmmm001Bean.setDisableBtnEditPayee(true);
//			}
//			
//			if(!payeeFlowStatus.isEmpty() && StringUtils.equals("08", payeeFlowStatus)){
//				semmmm001Bean.setDisableBtnChangePY(false);
//			}else{
//				semmmm001Bean.setDisableBtnChangePY(true);
//			}
//			
//			if(StringUtils.equals("", payeeBatch)){
//				semmmm001Bean.setDisableExportBatchPY(false);
//				semmmm001Bean.setDisableClearBatchPY(true);
//			}else{
//				semmmm001Bean.setDisableExportBatchPY(true);
//				semmmm001Bean.setDisableClearBatchPY(false);
//			}
//			
//						
//			if(semmmm001Bean.getPayeeInfo() != null){
//				if(StringUtils.equals("08", payeeFlowStatus)){
//					semmmm001Bean.setDisableDeletePY(false);
//				}else{
//					semmmm001Bean.setDisableDeletePY(true);
//				}
//				
//				if(semmmm001Bean.getPayeeInfo().getSaveFlag() != null && StringUtils.equals("C", semmmm001Bean.getPayeeInfo().getSaveFlag().toUpperCase())){
//					semmmm001Bean.setRenderedBtnNewPYDetail(true);
//					semmmm001Bean.setRenderedBtnSelectPY(true);
//					semmmm001Bean.setRenderedBtnNewAllPY(false);
//					semmmm001Bean.setRenderedBtnNewPYDetail(true);
//					semmmm001Bean.setRenderedBtnSelectPY(true);
//				}else{
//					semmmm001Bean.setRenderedBtnNewPYDetail(false);
//					semmmm001Bean.setRenderedBtnSelectPY(false);
//					semmmm001Bean.setRenderedBtnNewAllPY(true);
//					semmmm001Bean.setRenderedBtnNewPYDetail(false);
//					semmmm001Bean.setRenderedBtnSelectPY(false);
//				}
//				
//			}
//			
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action doManageVBDetailBtn : "+e);
			// TODO: handle exception
		}
	}
	
	private void doManagePBDetailBtn(){
		semmmm001Bean = getSemmmm001Bean();
		try{
			// 2017/08/24 -- enabled BtnSendToMng (Vendor) when flowStatus 01, 03, 05, 07
			String pbFlowStatus = semmmm001Bean.getBookbankPayeeInfo().getBookbankFlowStatus() == null ? "" : 
				   (String) semmmm001Bean.getBookbankPayeeInfo().getBookbankFlowStatus();
			
			String pbBatch = semmmm001Bean.getBookbankPayeeInfo().getPayeeBookbankBatch() == null ? "" : 
					(String) semmmm001Bean.getBookbankPayeeInfo().getPayeeBookbankBatch();
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("payeeIdParam");
			
			String btnActionType = getFacesUtils().getRequestParameter("btnActionType") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("btnActionType");
			
			String changeType = getFacesUtils().getRequestParameter("changeType") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("changeType");
		
			String todoManagerFlag = (String)getFacesUtils().getRequestParameter("todoManagerFlag") == null ? "" : 
				(String)getFacesUtils().getRequestParameter("todoManagerFlag");
		
			if(StringUtils.equals("Y", todoManagerFlag)){
				semmmm001Bean.setDisableBtnNewAllPB(true);
				semmmm001Bean.setRenderedBtnNewAllPB(false);
				
				semmmm001Bean.setRenderedBtnEditBookbankPayee(false);
				semmmm001Bean.setDisableBtnEditBookbankPayee(true);
				
				semmmm001Bean.setRenderedBtnChangePB(false);
				semmmm001Bean.setDisableBtnChangePB(true);
				
				semmmm001Bean.setRenderedBtnSendManagerPB(false);
				semmmm001Bean.setDisableBtnSendManagerPB(true);
				
				semmmm001Bean.setRenderedExportBatchPB(false);
				semmmm001Bean.setDisableExportBatchPB(true);
				
				semmmm001Bean.setRenderedClearBatchPB(false);
				semmmm001Bean.setDisableClearBatchPB(true);
				
				semmmm001Bean.setRenderedDeletePB(false);
				semmmm001Bean.setDisableDeletePB(true);
				
				semmmm001Bean.setRenderedCancelPB(false);
				semmmm001Bean.setDisableCancelPB(true);
				
				semmmm001Bean.setRenderedConfirmPB(false);
				semmmm001Bean.setDisableConfirmPB(true);
				
				semmmm001Bean.setDisableBtnSaveBookbankPayee(true);
				
				semmmm001Bean.setRenderedBtnEditDataPayeeBB(false);
				semmmm001Bean.setDisableBtnEditDataPayeeBB(true);
			}else{
				//control Button All New Payee Bookbank
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setDisableBtnNewAllPB(true);
					semmmm001Bean.setRenderedBtnNewAllPB(true);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setDisableBtnNewAllPB(true);
					semmmm001Bean.setRenderedBtnNewAllPB(true);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setDisableBtnNewAllPB(false);
					semmmm001Bean.setRenderedBtnNewAllPB(true);
				}else{
					semmmm001Bean.setDisableBtnNewAllPB(false);
					semmmm001Bean.setRenderedBtnNewAllPB(true);
				}
				
				

				//control Button Edit Payee Bookbank
				if(StringUtils.equals("E", btnActionType)){
					
						semmmm001Bean.setRenderedBtnEditBookbankPayee(true);
						semmmm001Bean.setDisableBtnEditBookbankPayee(false);
					
				}else if(StringUtils.equals("C", btnActionType)){
					
						semmmm001Bean.setRenderedBtnEditBookbankPayee(true);
						semmmm001Bean.setDisableBtnEditBookbankPayee(true);
					
				}else if(StringUtils.equals("N", btnActionType)){
					
						semmmm001Bean.setRenderedBtnEditBookbankPayee(true);
						semmmm001Bean.setDisableBtnEditBookbankPayee(true);
					
				}else{
					if(pbFlowStatus != null && 
							StringUtils.indexOf("x06", pbFlowStatus.trim(), 0) > 0){
						semmmm001Bean.setRenderedBtnEditBookbankPayee(true);
						semmmm001Bean.setDisableBtnEditBookbankPayee(false);
					}else{
						semmmm001Bean.setRenderedBtnEditBookbankPayee(true);
						semmmm001Bean.setDisableBtnEditBookbankPayee(true);
					}
				}
				LOG.debug("StringUtils.indexOf : "+StringUtils.indexOf("x01,13,08,12,14", pbFlowStatus.trim()));
				//control Button Edit DATA Payee
				if(pbFlowStatus != null && 
						StringUtils.indexOf("x01,13,08,12,14", pbFlowStatus.trim(), 0) > 0 ){
					semmmm001Bean.setRenderedBtnEditDataPayeeBB(true);
					semmmm001Bean.setDisableBtnEditDataPayeeBB(false);
				}else{
					semmmm001Bean.setRenderedBtnEditDataPayeeBB(false);
					semmmm001Bean.setDisableBtnEditDataPayeeBB(true);
				}
				
				
				//control Button Change Payee Bookbank
				
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setRenderedBtnChangePB(true);
					semmmm001Bean.setDisableBtnChangePB(true);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setRenderedBtnChangePB(true);
					semmmm001Bean.setDisableBtnChangePB(true);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setRenderedBtnChangePB(true);
					semmmm001Bean.setDisableBtnChangePB(true);
				}else{
					if(pbFlowStatus != null && 
							StringUtils.equals("06", pbFlowStatus.trim())){
						semmmm001Bean.setRenderedBtnChangePB(true);
						semmmm001Bean.setDisableBtnChangePB(false);
					}else{
						semmmm001Bean.setRenderedBtnChangePB(true);
						semmmm001Bean.setDisableBtnChangePB(true);
					}
				}
				
				
				//control Button Send Payee Bookbank To Manager
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setRenderedBtnSendManagerPB(true);
					semmmm001Bean.setDisableBtnSendManagerPB(true);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setRenderedBtnSendManagerPB(true);
					semmmm001Bean.setDisableBtnSendManagerPB(true);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setRenderedBtnSendManagerPB(true);
					semmmm001Bean.setDisableBtnSendManagerPB(true);
				}else{
					if(pbFlowStatus != null && 
							StringUtils.indexOf("x01,12,08,13,14", pbFlowStatus.trim(), 0) >= 0){
						semmmm001Bean.setRenderedBtnSendManagerPB(true);
						semmmm001Bean.setDisableBtnSendManagerPB(false);
					}else{
						semmmm001Bean.setRenderedBtnSendManagerPB(true);
						semmmm001Bean.setDisableBtnSendManagerPB(true);
					}
				}
				
				
				//control Button Export Vendor
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setRenderedExportBatchPB(true);
					semmmm001Bean.setDisableExportBatchPB(true);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setRenderedExportBatchPB(true);
					semmmm001Bean.setDisableExportBatchPB(true);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setRenderedExportBatchPB(true);
					semmmm001Bean.setDisableExportBatchPB(true);
				}else{
					if(pbFlowStatus != null && 
							!StringUtils.equals("06", pbFlowStatus)){
								semmmm001Bean.setRenderedExportBatchPB(true);
								semmmm001Bean.setDisableExportBatchPB(false);
					}else{
						semmmm001Bean.setRenderedExportBatchPB(true);
						semmmm001Bean.setDisableExportBatchPB(true);
					}
				}
				
				
				//controll Button Clear Payee Bookbank
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setRenderedClearBatchPB(true);
					semmmm001Bean.setDisableClearBatchPB(true);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setRenderedClearBatchPB(true);
					semmmm001Bean.setDisableClearBatchPB(true);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setRenderedClearBatchPB(true);
					semmmm001Bean.setDisableClearBatchPB(true);
				}else{
					if(pbFlowStatus != null && StringUtils.indexOf("x01,12,08,13,14", pbFlowStatus.trim(), 0) >= 0 && 
							!StringUtils.isEmpty(pbBatch)){
						semmmm001Bean.setRenderedClearBatchPB(true);
						semmmm001Bean.setDisableClearBatchPB(false);
					}else{
						semmmm001Bean.setRenderedClearBatchPB(true);
						semmmm001Bean.setDisableClearBatchPB(true);
					}
				}
				
				
				//controll Button Delete Payee Bookbank
				if(pbFlowStatus != null && (StringUtils.equals("01", pbFlowStatus) ||
						StringUtils.equals("06", pbFlowStatus) ||
						StringUtils.equals("12", pbFlowStatus))){
					semmmm001Bean.setRenderedDeletePB(true);
					semmmm001Bean.setDisableDeletePB(false);
				}else{
					if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
						semmmm001Bean.setRenderedDeletePB(true);
						semmmm001Bean.setDisableDeletePB(true);
					}else if(StringUtils.equals("C", btnActionType)){
						semmmm001Bean.setRenderedDeletePB(true);
						semmmm001Bean.setDisableDeletePB(false);
//							if(StringUtils.equals("N", changeType) && StringUtils.equals("S", changeType)){
//								semmmm001Bean.setRenderedDeleteVB(false);
//								semmmm001Bean.setRenderedBtnNewPYDetail(true);
//								semmmm001Bean.setDisableBtnNewPYDetail(true);
//								semmmm001Bean.setRenderedBtnSelectPY(true);
//								semmmm001Bean.setDisableBtnSelectPY(true);
//							}
					}else if(StringUtils.equals("N", btnActionType)){
						semmmm001Bean.setRenderedDeletePB(true);
						semmmm001Bean.setDisableDeletePB(true);
					}else{
						if(pbFlowStatus != null && StringUtils.equals("06", pbFlowStatus)){
							semmmm001Bean.setRenderedDeletePB(true);
							semmmm001Bean.setDisableDeletePB(false);
						}else{
							semmmm001Bean.setRenderedDeletePB(true);
							semmmm001Bean.setDisableDeletePB(true);
						}
					}
				}
				
				//controll Button cancel Payee Bookbank
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setRenderedCancelPB(true);
					semmmm001Bean.setDisableCancelPB(true);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setRenderedCancelPB(true);
					semmmm001Bean.setDisableCancelPB(true);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setRenderedCancelPB(true);
					semmmm001Bean.setDisableCancelPB(true);
				}else{
					if(pbFlowStatus != null && StringUtils.indexOf("x01,12,08,13,14", pbFlowStatus.trim(), 0) >= 0){
						semmmm001Bean.setRenderedCancelPB(true);
						semmmm001Bean.setDisableCancelPB(false);
					}else{
						semmmm001Bean.setRenderedCancelPB(true);
						semmmm001Bean.setDisableCancelPB(true);
					}
				}
				
				//controll Button Confirm
				if(semmmm001Bean.getBookbankPayeeInfo().getConfirmFlag() != null && StringUtils.equals("Y", semmmm001Bean.getBookbankPayeeInfo().getConfirmFlag())){
					semmmm001Bean.setRenderedConfirmPB(true);
					semmmm001Bean.setDisableConfirmPB(false);
				}else{
					semmmm001Bean.setRenderedConfirmPB(false);
				}
				
				//control button Save PAYEE Bookbank detail
				if(StringUtils.equals("E", btnActionType) || StringUtils.equals("ED", btnActionType)){
					semmmm001Bean.setDisableBtnSaveBookbankPayee(false);
				}else if(StringUtils.equals("C", btnActionType)){
					semmmm001Bean.setDisableBtnSaveBookbankPayee(false);
				}else if(StringUtils.equals("N", btnActionType)){
					semmmm001Bean.setDisableBtnSaveBookbankPayee(false);
				}else{
					semmmm001Bean.setDisableBtnSaveBookbankPayee(true);
				}
			}
			
			
			//control button copy bookbank from SAP 
//			if(StringUtils.equals("E", btnActionType)){
//				if(chkSAPMapBookbank()){
//					semmmm001Bean.setDisableBtnCopyVBFromSAP(false);
//				}else{
//					semmmm001Bean.setDisableBtnCopyVBFromSAP(true);
//				}
//				
//			}else if(StringUtils.equals("C", btnActionType)){
//				semmmm001Bean.setDisableBtnCopyVBFromSAP(true);
//			}else if(StringUtils.equals("N", btnActionType)){
//				semmmm001Bean.setDisableBtnCopyVBFromSAP(true);
//			}else{
//				semmmm001Bean.setDisableBtnCopyVBFromSAP(true);
//			}
			
//			if(StringUtils.equals("01", payeeBookbankFlowStatus)){
//				semmmm001Bean.setDisableBtnSendManagerPB(false);
//			}else{
//				semmmm001Bean.setDisableBtnSendManagerPB(true);
//			}
//			
//			if(!payeeBookbankFlowStatus.isEmpty() && StringUtils.indexOf("X01,03,05,0709", payeeBookbankFlowStatus, 0) > 0){
//				
//				semmmm001Bean.setDisableCancelPB(false);
//			}else{
//				
//				semmmm001Bean.setDisableCancelPB(true);
//			}
//			
//			if(!payeeBookbankFlowStatus.isEmpty() && StringUtils.indexOf("X01,03,05,0709", payeeBookbankFlowStatus, 0) > 0 ){
//				semmmm001Bean.setDisableBtnEditBookbankPayee(false);
//			}else{
//				semmmm001Bean.setDisableBtnEditBookbankPayee(true);
//			}
//			
//			if(!payeeBookbankFlowStatus.isEmpty() && StringUtils.equals("10", payeeBookbankFlowStatus)){
//				semmmm001Bean.setDisableBtnChangePB(false);
//				semmmm001Bean.setDisableDeletePB(false);
//			}else{
//				semmmm001Bean.setDisableBtnChangePB(true);
//				semmmm001Bean.setDisableDeletePB(true);
//			}
//			
//			if(StringUtils.equals("", payeeBookbankBatch)){
//				semmmm001Bean.setDisableExportBatchVD(false);
//				semmmm001Bean.setDisableClearBatchVD(true);
//			}else{
//				semmmm001Bean.setDisableExportBatchVD(true);
//				semmmm001Bean.setDisableClearBatchVD(false);
//			}
//			
//			
//			if(semmmm001Bean.getBookbankPayeeInfo() != null){
//				
//			}
			
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action doManagePBDetailBtn : "+e);
			// TODO: handle exception
		}
	}
	
	
	private boolean doViewVendorHistDetail() {
		LOG.info("::: SEMMMM001Action :: doViewVendorHistDetail >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			// -- 2017/08/23
//			semmmm001Bean.getContractInfo().setContractNo(contractNo);
			
			this.doReloadAllVendorHistDetail(contractNo, vendorId, vendorMapPayeeId);
			
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewVendorHistDetail >> END :::");
		}
		return flag;
	}
	
	public void doReloadAllVendorHistDetail(String contractNo, String vendorId,String vendorMapPayeeId) {
		LOG.info("::: SEMMMM001Action :: doReloadAllVendorContent >> BEGIN :::");
		
		try{
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			
			// -- vendor detail
			this.doGetVendorInfoHistDetail(contractNo, vendorId, vendorMapPayeeId);
			
			// -- vendor address
			this.doGetVendorAddressHistDetail(contractNo, vendorId);
			
			// -- vendor changed 
			this.doGetMasterChangedHist("VD", contractNo, vendorId, "", "", "");
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			LOG.info("::: SEMMMM001Action :: doReloadAllVendorContent >> END :::");
		}
	}
	
	public void doGetVendorInfoHistDetail(String contractNo, String vendorId,String vendorMapPayeeId){
		LOG.info("::: SEMMMM001Action :: doGetVendorInfoHistDetail >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001VendorSP> vendorResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(vendorId != null && !vendorId.isEmpty()){		
				// -- vendor detail
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setSaveFlag("");
				tmpCriteria.setGroupType("H");
				tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
				vendorResultList = service.querySPList(EQueryName.SEM_SAP_VENDOR_DETAIL.name, tmpCriteria);
				
				semmmm001Bean.setVendorInfoHist(new Mmm001VendorSP()); // clear object
				
				if(vendorResultList != null && vendorResultList.size() != 0) {
					Mmm001VendorSP obj = (Mmm001VendorSP) vendorResultList.get(0);
					
					semmmm001Bean.setVendorInfoHist(obj);
					semmmm001Bean.getVendorInfoHist().setChkVAT(obj.getIncludeVAT() != null && obj.getIncludeVAT().equalsIgnoreCase("Y") ? true : false);
					
					setSemmmm001Bean(semmmm001Bean);
					doGetVendorHistCheckBox();
				}
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetVendorInfoHistDetail >> END :::");
		}
	}
	
	public void doGetVendorAddressHistDetail(String contractNo, String vendorId){
		LOG.info("::: SEMMMM001Action :: doGetVendorAddressHistDetail >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001AddressSP> addressResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(vendorId != null && !vendorId.isEmpty()){
				// -- vendor address
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setGroupType("V");
				
				addressResultList = service.querySPList(EQueryName.SEM_SAP_ADDRESS.name, tmpCriteria);
								
				// clear object
				semmmm001Bean.setVendorAddrHistObj(new Mmm001AddressSP()); 		
				semmmm001Bean.setRentalAddrHistObj(new Mmm001AddressSP()); 		
				semmmm001Bean.setElectrictAddrHistObj(new Mmm001AddressSP()); 	
				semmmm001Bean.setPropertyAddrHistObj(new Mmm001AddressSP()); 	
				semmmm001Bean.setInsureAddrHistObj(new Mmm001AddressSP()); 		
				semmmm001Bean.setConstructAddrHistObj(new Mmm001AddressSP()); 	
				semmmm001Bean.setWithholdAddrHistObj(new Mmm001AddressSP()); 
				
				if(addressResultList != null && addressResultList.size() != 0) {
					semmmm001Bean.setVendorAddrHistObj((Mmm001AddressSP) addressResultList.get(0));
					semmmm001Bean.setRentalAddrHistObj((Mmm001AddressSP) addressResultList.get(1));
					semmmm001Bean.setElectrictAddrHistObj((Mmm001AddressSP) addressResultList.get(2));
					semmmm001Bean.setPropertyAddrHistObj((Mmm001AddressSP) addressResultList.get(3));
					semmmm001Bean.setInsureAddrHistObj((Mmm001AddressSP) addressResultList.get(4));
					semmmm001Bean.setConstructAddrHistObj((Mmm001AddressSP) addressResultList.get(5));
					semmmm001Bean.setWithholdAddrHistObj((Mmm001AddressSP) addressResultList.get(6));
					
					// --
					semmmm001Bean.getVendorAddrHistObj().setChkTambolOther(addressResultList.get(0).getTambol() != null && addressResultList.get(0).getTambol().equalsIgnoreCase("X") ? true : false);
					semmmm001Bean.getVendorAddrHistObj().setChkAmphurOther(addressResultList.get(0).getAmphur() != null && addressResultList.get(0).getAmphur().equalsIgnoreCase("X") ? true : false);
					semmmm001Bean.getVendorAddrHistObj().setChkLocalDepartment(addressResultList.get(0).getpTaxFlag() != null && addressResultList.get(0).getpTaxFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getVendorAddrHistObj().setChkTelephoneSapFlag(addressResultList.get(0).getTelephoneSapFlag() != null && addressResultList.get(0).getTelephoneSapFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getVendorAddrHistObj().setChkMobileNoSapFlag(addressResultList.get(0).getMobileNoSapFlag() != null && addressResultList.get(0).getMobileNoSapFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getVendorAddrHistObj().setChkFaxSapFlag(addressResultList.get(0).getFaxSapFlag() != null && addressResultList.get(0).getFaxSapFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getVendorAddrHistObj().setChkEmailSapFlag(addressResultList.get(0).getEmailSapFlag() != null && addressResultList.get(0).getEmailSapFlag().equalsIgnoreCase("Y") ? true : false);
					
					this.doSetOwnerLocation();
				}
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetVendorAddressHistDetail >> END :::");
		}
	}
	
	public void doGetVendorHistCheckBox(){
		LOG.info("::: SEMMMM001Action :: doGetVendorHistCheckBox >> BEGIN :::");
		semmmm001Bean = getSemmmm001Bean();
		try{
			if(semmmm001Bean.getVendorInfoHist() != null){
				if(StringUtils.equals("Y", semmmm001Bean.getVendorInfoHist().getVendorBlockStatus())){
					semmmm001Bean.setVendorHistBlockStatus(true);
				}else{
					semmmm001Bean.setVendorHistBlockStatus(false);
				}
				
				if(StringUtils.equals("Y", semmmm001Bean.getVendorInfoHist().getNotPayeeFlag())){
					semmmm001Bean.setNotPayeeHistFlag(true);
				}else{
					semmmm001Bean.setNotPayeeHistFlag(false);
				}
				
				if(StringUtils.equals("Y", semmmm001Bean.getVendorInfoHist().getOtherExpenseFlag())){
					semmmm001Bean.setOtherExpenseHistFlag(true);
				}else{
					semmmm001Bean.setOtherExpenseHistFlag(false);
				}
				
				if(StringUtils.equals("Y", semmmm001Bean.getVendorInfoHist().getVendorBlackListStatus())){
					semmmm001Bean.setVendorHistBlackListStatus(true);
				}else{
					semmmm001Bean.setVendorHistBlackListStatus(false);
				}
			}
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action doGetVendorHistCheckBox : "+e);
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetVendorHistCheckBox >> END :::");
		}
	}
	
	private boolean doViewBookbankHistDetail() {
		LOG.info("::: SEMMMM001Action :: doViewBookbankHistDetail >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String vendorBookbankId = getFacesUtils().getRequestParameter("vendorBookbankIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorBookbankIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");

			String saveFlag = semmmm001Bean.getBookbankInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getBookbankInfo().getSaveFlag();
			
			
			
				
				// -- bookbank info
				this.doGetBookbankInfoByBookbankHistParam(contractNo, vendorId, vendorBookbankId, vendorMapPayeeId);
				
				// -- contract of bookbank list
//				this.doGetContractOfBookbankByBookbankParam(vendorBookbankId);
				
				// -- bookbank changed 
				this.doGetMasterChangedHist("VB", contractNo, vendorId, vendorBookbankId, "", "");
				
				
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewBookbankHistDetail >> END :::");
		}
		return flag;
	}
	
	public void doGetBookbankInfoByBookbankHistParam(String contractNo, String vendorId, String vendorBookbankId, String vendorMapPayeeId){
		LOG.info("::: SEMMMM001Action :: doGetBookbankInfoByBookbankParam >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
						
			List<Mmm001BookbankSP> bookbankResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(vendorId != null && !vendorId.isEmpty() && 
			   vendorBookbankId != null && !vendorBookbankId.isEmpty()){
				// -- bank info
				semmmm001Bean.setBookbankInfoHistDetail(new Mmm001BookbankSP()); // clear object
				
				tmpCriteria = new Mmm001CriteriaSP();
				//tmpCriteria.setContractNo(contractNo); //2017/08/01 unused
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setVendorBookbankId(vendorBookbankId);
				tmpCriteria.setStrParam("H");
				tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
				bookbankResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_DETAIL.name, tmpCriteria);
				
				if(bookbankResultList != null && bookbankResultList.size() != 0) {
					Mmm001BookbankSP obj = (Mmm001BookbankSP) bookbankResultList.get(0);
					
					obj.setBankId(obj.getBankCode() != null && obj.getBankCode().length() >= 3 ? 
								  obj.getBankCode().substring(0, 3) : obj.getBankCode());
					
					semmmm001Bean.setBookbankInfoHistDetail(obj);
				}
				
//				this.doCompareBookbankWithSAP();
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetBookbankInfoByBookbankParam >> END :::");
		}
	}
	
	public void doGetBookbankInfoHistDetail(String contractNo, String vendorId, String vendorBookbankId, String vendorMapPayeeId){
		LOG.info("::: SEMMMM001Action :: doGetBookbankInfoByBookbankParam >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
						
			List<Mmm001BookbankSP> bookbankResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(vendorId != null && !vendorId.isEmpty() && 
			   vendorBookbankId != null && !vendorBookbankId.isEmpty()){
				// -- bank info
				semmmm001Bean.setBookbankInfo(new Mmm001BookbankSP()); // clear object
				
				tmpCriteria = new Mmm001CriteriaSP();
				//tmpCriteria.setContractNo(contractNo); //2017/08/01 unused
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setVendorBookbankId(vendorBookbankId);
				tmpCriteria.setStrParam("");
				tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
				bookbankResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_DETAIL.name, tmpCriteria);
				
				if(bookbankResultList != null && bookbankResultList.size() != 0) {
					Mmm001BookbankSP obj = (Mmm001BookbankSP) bookbankResultList.get(0);
					
					obj.setBankId(obj.getBankCode() != null && obj.getBankCode().length() >= 3 ? 
								  obj.getBankCode().substring(0, 3) : obj.getBankCode());
					
					semmmm001Bean.setBookbankInfoHistDetail(obj);
				}
				
//				this.doCompareBookbankWithSAP();
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetBookbankInfoByBookbankParam >> END :::");
		}
	}
	
	
	private boolean doViewPayeeHistDetail() {
		LOG.info("::: SEMMMM001Action :: doViewPayeeByPayeeId >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("payeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);

			if(contractNo.isEmpty()){
				semmmm001Bean.setVisiblePnlContractInfo(false);
			} else {
				semmmm001Bean.setVisiblePnlContractInfo(true);
			}
			
			semmmm001Bean.setSelectedTab("tab0");
			semmmm001Bean.setPayeeSelectedTab("tabP0");
			// -- contract info + vendor of contract list
//			this.doGetContractInfoByContractParam(contractNo);
			
			// -- vendor detail
//			this.doGetVendorInfoByVendorParam(contractNo, vendorId);
			
			// -- contract of vendor list
//			this.doGetContractOfVendorByVendorParam(contractNo, vendorId);
			
			// -- payee detail
			this.doGetPayeeInfoHistDetail(contractNo, vendorId, payeeId, vendorMapPayeeId);
			
			// -- payee address
			this.doGetPayeeAddressHistDetail(contractNo, payeeId);
			
			// -- payee changed 
			this.doGetMasterChangedHist("PY", contractNo, vendorId, "", payeeId, "");
			
//			// -- bookbank of payee list
//			this.doGetBookbankPayeeByPayeeParam(contractNo, vendorId, payeeId);
//			
//			// -- contract of payee list
//			this.doGetContractOfPayeeByPayeeParam(payeeId);
//			
//			this.doSetPayeeLocation();
//			
//			semmmm001Bean.setDisableContent(true); 
//			semmmm001Bean.setDisableEditPayeeContent(true); 
//			
//			semmmm001Bean.setDisableBtnSavePayee(true);
//			semmmm001Bean.setDisableBtnEditPayee(false);
//			
//			semmmm001Bean.setRenderedPnlCmpPayeeInfo(false);
//			
//			// 2017/08/24 -- enabled BtnSendToMng (Payee) when flowStatus 01, 03, 05, 07
//			String payeeFlowStatus = semmmm001Bean.getPayeeInfo().getPayeeFlowStatus() == null ? "" : 
//				   (String) semmmm001Bean.getPayeeInfo().getPayeeFlowStatus();
//			if(!payeeId.isEmpty() && StringUtils.indexOf("X01,03,05,07", payeeFlowStatus, 0) > 0)
//				semmmm001Bean.setDisableBtnSendManagerPY(false);
//			else
//				semmmm001Bean.setDisableBtnSendManagerPY(true);
//			
//			this.doManagePYDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewPayeeByPayeeId >> END :::");
		}
		return flag;
	}
	
	public void doGetPayeeInfoHistDetail(String contractNo, String vendorId, String payeeId, String vendorMapPayeeId){
		LOG.info("::: SEMMMM001Action :: doGetPayeeInfoHistDetail >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001PayeeSP> payeeResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(!payeeId.isEmpty()){
				// -- payee info
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setPayeeId(payeeId);
				tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
				tmpCriteria.setStrParam("H");
				
				payeeResultList = service.querySPList(EQueryName.SEM_SAP_PAYEE_DETAIL.name, tmpCriteria);
				
				semmmm001Bean.setPayeeInfoHistDetail(new Mmm001PayeeSP()); // clear object
				
				if(payeeResultList != null && payeeResultList.size() != 0) {
					Mmm001PayeeSP obj = (Mmm001PayeeSP) payeeResultList.get(0);
					
					obj.setVendorMapPayeeId(vendorMapPayeeId);
					
					semmmm001Bean.setPayeeInfoHistDetail(obj);
				}
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetPayeeInfoHistDetail >> END :::");
		}
	}
	
	
	public void doGetPayeeAddressHistDetail(String contractNo, String payeeId){
		LOG.info("::: SEMMMM001Action :: doGetPayeeAddressHistDetail >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001AddressSP> addressResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(payeeId != null && !payeeId.isEmpty()){
				// -- vendor address
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(payeeId);
				tmpCriteria.setGroupType("P");
				
				addressResultList = service.querySPList(EQueryName.SEM_SAP_ADDRESS.name, tmpCriteria);
								
				// clear object
				semmmm001Bean.setPayeeAddrHistObj(new Mmm001AddressSP()); 		
				semmmm001Bean.setRentalPayeeAddrHistObj(new Mmm001AddressSP()); 		
				semmmm001Bean.setElectrictPayeeAddrHistObj(new Mmm001AddressSP()); 	
				semmmm001Bean.setPropertyPayeeAddrHistObj(new Mmm001AddressSP()); 	
				semmmm001Bean.setInsurePayeeAddrHistObj(new Mmm001AddressSP()); 		
				semmmm001Bean.setConstructPayeeAddrHistObj(new Mmm001AddressSP()); 	
				semmmm001Bean.setWithholdPayeeAddrHistObj(new Mmm001AddressSP()); 
				
				if(addressResultList != null && addressResultList.size() != 0) {
					semmmm001Bean.setPayeeAddrHistObj((Mmm001AddressSP) addressResultList.get(0));
					semmmm001Bean.setRentalPayeeAddrHistObj((Mmm001AddressSP) addressResultList.get(1));
					semmmm001Bean.setElectrictPayeeAddrHistObj((Mmm001AddressSP) addressResultList.get(2));
					semmmm001Bean.setPropertyPayeeAddrHistObj((Mmm001AddressSP) addressResultList.get(3));
					semmmm001Bean.setInsurePayeeAddrHistObj((Mmm001AddressSP) addressResultList.get(4));
					semmmm001Bean.setConstructPayeeAddrHistObj((Mmm001AddressSP) addressResultList.get(5));
//					semmmm001Bean.setWithholdPayeeAddrObj((Mmm001AddressSP) addressResultList.get(6));
					
					// --
					semmmm001Bean.getPayeeAddrHistObj().setChkTambolOther(addressResultList.get(0).getTambol() != null && addressResultList.get(0).getTambol().equalsIgnoreCase("X") ? true : false);
					semmmm001Bean.getPayeeAddrHistObj().setChkAmphurOther(addressResultList.get(0).getAmphur() != null && addressResultList.get(0).getAmphur().equalsIgnoreCase("X") ? true : false);
					semmmm001Bean.getPayeeAddrHistObj().setChkLocalDepartment(addressResultList.get(0).getpTaxFlag() != null && addressResultList.get(0).getpTaxFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getPayeeAddrHistObj().setChkTelephoneSapFlag(addressResultList.get(0).getTelephoneSapFlag() != null && addressResultList.get(0).getTelephoneSapFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getPayeeAddrHistObj().setChkMobileNoSapFlag(addressResultList.get(0).getMobileNoSapFlag() != null && addressResultList.get(0).getMobileNoSapFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getPayeeAddrHistObj().setChkFaxSapFlag(addressResultList.get(0).getFaxSapFlag() != null && addressResultList.get(0).getFaxSapFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getPayeeAddrHistObj().setChkEmailSapFlag(addressResultList.get(0).getEmailSapFlag() != null && addressResultList.get(0).getEmailSapFlag().equalsIgnoreCase("Y") ? true : false);
					
//					this.doSetOwnerLocationPayee();
				}
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetPayeeAddressHistDetail >> END :::");
		}
	}
	
	
	private boolean doViewBBPayeeHistDetail() {
		LOG.info("::: SEMMMM001Action :: doViewBBPayeeHistDetail >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("payeeIdParam");
			String bookbankPayeeId = getFacesUtils().getRequestParameter("bookbankPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("bookbankPayeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			String saveFlag = semmmm001Bean.getBookbankPayeeInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getBookbankPayeeInfo().getSaveFlag();
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> bookbankPayeeId: " + bookbankPayeeId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);

			
				
				// -- bookbank payee info
				this.doGetBookbankPayeeInfoHistDetail(contractNo, vendorId, bookbankPayeeId, vendorMapPayeeId);
				
				// -- payee changed 
				this.doGetMasterChangedHist("PB", contractNo, vendorId, "", payeeId, bookbankPayeeId);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewBBPayeeHistDetail >> END :::");
		}
		return flag;
	}
	
	public void doGetBookbankPayeeInfoHistDetail(String contractNo, String vendorId, String bookbankPayeeId, String vendorMapPayeeId){
		LOG.info("::: SEMMMM001Action :: doGetBookbankPayeeInfoHistDetail >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
						
			List<Mmm001BookbankPayeeSP> bookbankPayeeResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(bookbankPayeeId != null && !bookbankPayeeId.isEmpty() ){
				// -- bookbank payee info
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo(contractNo);
				tmpCriteria.setVendorId(vendorId);
				tmpCriteria.setBookbankPayeeId(bookbankPayeeId);
				tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
				tmpCriteria.setStrParam("H");
				
				bookbankPayeeResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_PAYEE_DETAIL.name, tmpCriteria);
				
				semmmm001Bean.setBookbankPayeeInfoHistDetail(new Mmm001BookbankPayeeSP()); // clear object
				
				if(bookbankPayeeResultList != null && bookbankPayeeResultList.size() != 0) {
					Mmm001BookbankPayeeSP obj = (Mmm001BookbankPayeeSP) bookbankPayeeResultList.get(0);
					
					obj.setBankId(obj.getBankCode() != null && obj.getBankCode().length() >= 3 ? 
							  	  obj.getBankCode().substring(0, 3) : obj.getBankCode());
					
					semmmm001Bean.setBookbankPayeeInfoHistDetail(obj);
				}
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetBookbankPayeeInfoHistDetail >> END :::");
		}
	}
	
	public void doGetMasterChangedHist(String HistPage, String contractNo, String vendorId, String bookbankId, String payeeId, String payeeBookbankId){
		LOG.debug("## START doGetMasterChangedHist ##");
		semmmm001Bean = getSemmmm001Bean();
		try{
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001HistorySP> masterHistorySP = new ArrayList<Mmm001HistorySP>();
			// -- contract pay history
			Mmm001CriteriaSP tmpCriteria = new Mmm001CriteriaSP();
			semmmm001Bean.setHistoryResultList(new ArrayList<WrapperBeanObject<Mmm001HistorySP>>());
			
			List<WrapperBeanObject<Mmm001HistorySP>> historyResultList = new ArrayList<WrapperBeanObject<Mmm001HistorySP>>();
			tmpCriteria.setHistoryPage(HistPage); 
			tmpCriteria.setContractNo(contractNo);
			tmpCriteria.setVendorId(vendorId);
			tmpCriteria.setBookbankId(bookbankId);
			tmpCriteria.setPayeeId(payeeId);
			tmpCriteria.setBookbankPayeeId(payeeBookbankId);
//			tmpCriteria.setContractNo(contractNo);
//			tmpCriteria.setVendorId(vendorId);
			masterHistorySP = service.querySPList(EQueryName.SEM_SAP_GET_MASTER_HIST.name, tmpCriteria);
			
			semmmm001Bean.setHistoryResultList(new ArrayList<WrapperBeanObject<Mmm001HistorySP>>()); // clear object
			
			if(masterHistorySP != null && !masterHistorySP.isEmpty()) {
				LOG.debug(">> masterHistorySP.size() = " + masterHistorySP.size());
				for (int i=0; i<masterHistorySP.size(); i++) {
					Mmm001HistorySP obj = (Mmm001HistorySP) masterHistorySP.get(i);
					WrapperBeanObject<Mmm001HistorySP> tmpWrapperBean = new WrapperBeanObject<Mmm001HistorySP>();
					
					if(obj.getUpdateDt() != null){
						obj.setLastUpdateDtStr(convertYearENtoTHStr(obj.getUpdateDt()));
					}
					
					if(obj.getEffectiveDt() != null){
						obj.setEffectiveDtStr(convertYearENtoTHStr(obj.getEffectiveDt()));
					}
					
					if(obj.getExpireDt() != null){
						obj.setExpireDtStr(convertYearENtoTHStr(obj.getExpireDt()));
					}
					
					tmpWrapperBean.setDataObj(obj);
					tmpWrapperBean.setMessage("");
					tmpWrapperBean.setCheckBox(false);
					semmmm001Bean.getHistoryResultList().add(tmpWrapperBean);
				}
//				
			}
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action doGetMasterChangedHist"+e);
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
			LOG.debug("## END doGetMasterChangedHist ##");
		}
	}
	
	public void doGetDefaultBranchCode(){
		semmmm001Bean = getSemmmm001Bean();
		try{
			if(semmmm001Bean.getVendorInfo().getHqFlag() != null && StringUtils.equals("01", semmmm001Bean.getVendorInfo().getHqFlag())){
				semmmm001Bean.getVendorInfo().setBranchNo("00000");
			}else{
				semmmm001Bean.getVendorInfo().setBranchNo("");
			}
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action doGetDefaultBranchCode : "+e);
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
	}
	
	public void doCopyVendorName(){
		semmmm001Bean = getSemmmm001Bean();
		try{
			String vendorName = semmmm001Bean.getVendorInfo().getVendorName1() == null ? "" : semmmm001Bean.getVendorInfo().getVendorName1();
			String withHoldName = semmmm001Bean.getWithholdAddrObj().getWithHoldName() == null ? "" : semmmm001Bean.getWithholdAddrObj().getWithHoldName();
			
			if(withHoldName == null || StringUtils.equals("", withHoldName)){
				semmmm001Bean.getWithholdAddrObj().setWithHoldName(vendorName);
			}
			
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action doCopyVendorName : "+e);
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
	}
	
	public boolean doInitConfirmBlackList(){
		semmmm001Bean = getSemmmm001Bean();
		try{
			String navProgram = getFacesUtils().getRequestParameter("navProgram") == null ? "" : (String)getFacesUtils().getRequestParameter("navProgram");
			
			if(semmmm001Bean.isVendorBlackListStatus()){
				semmmm001Bean.setRenderedMsgConfirm(getMessage("msg.required.confirm.check.blacklist"));
				semmmm001Bean.setRenderedBtnCheck(true);
				semmmm001Bean.setRenderedBtnUncheck(false);
			}else{
				semmmm001Bean.setRenderedMsgConfirm(getMessage("msg.required.confirm.uncheck.blacklist"));
				semmmm001Bean.setRenderedBtnCheck(false);
				semmmm001Bean.setRenderedBtnUncheck(true);
			}
			
			if(StringUtils.equals("SEMMMM001-2", navProgram)){
				semmmm001Bean.setNavProgram(navProgram);
				semmmm001Bean.setMethodWithNavi("doConfirmBlackList");
			}
			
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM002Action doInitComfirmBlackList");
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
		return true;
	}
	
	public boolean doConfirmBlackList(){
		semmmm001Bean = getSemmmm001Bean();
		try{
			String confirmFlag = getFacesUtils().getRequestParameter("confirmFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("confirmFlag");
			if(StringUtils.equals("Y", confirmFlag)){
				semmmm001Bean.setVendorBlackListStatus(true);
			}else{
				semmmm001Bean.setVendorBlackListStatus(false);
			}
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM002Action doConFirmBlackList");
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
		return true;
	}
	
	public boolean doInitConfirmContractNoVendor(){
		semmmm001Bean = getSemmmm001Bean();
		try{
			String navProgram = getFacesUtils().getRequestParameter("navProgram") == null ? "" : (String)getFacesUtils().getRequestParameter("navProgram");
			
			if(semmmm001Bean.isVendorBlackListStatus()){
				semmmm001Bean.setRenderedMsgConfirm(getMessage("msg.required.confirm.check.contract.no.vendor"));
				semmmm001Bean.setRenderedBtnCheck(true);
				semmmm001Bean.setRenderedBtnUncheck(false);
			}else{
				semmmm001Bean.setRenderedMsgConfirm(getMessage("msg.required.confirm.uncheck.contract.no.vendor"));
				semmmm001Bean.setRenderedBtnCheck(false);
				semmmm001Bean.setRenderedBtnUncheck(true);
			}
			
			if(StringUtils.equals("SEMMMM001-2", navProgram)){
				semmmm001Bean.setNavProgram(navProgram);
				semmmm001Bean.setMethodWithNavi("doComfirmContractNoVendor");
			}
			
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM002Action doInitComfirmContractNoVendor");
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
		return true;
	}
	
	public boolean doConfirmContractNoVendor(){
		semmmm001Bean = getSemmmm001Bean();
		try{
			String confirmFlag = getFacesUtils().getRequestParameter("confirmFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("confirmFlag");
			if(StringUtils.equals("Y", confirmFlag)){
				semmmm001Bean.setOtherExpenseFlag(true);
				this.doChkWithoutContract();
			}else{
				semmmm001Bean.setOtherExpenseFlag(false);
			}
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM002Action doConFirmContractNoVendor");
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
		return true;
	}
	
	public void doFillinContractInfo(){
		LOG.info("::: SEMMMM001Action :: doFillinExpenseInfo >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			ISiteContractService siteContractService = (ISiteContractService)getBean("siteContractService");
			List<PopupContractSearchSP> to = null;
			
			// --
			semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDt(null);
			semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDtStr("");
			semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDt(null);
			semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDtStr("");
			// --
			
			if(semmmm001Bean.getExpCntrctOfVndObj().getContractNo() != null && 
			  !semmmm001Bean.getExpCntrctOfVndObj().getContractNo().isEmpty()){
				// -- 
				to = siteContractService.querySPList(EQueryName.Q_SEARCH_POPUP_SITE_CONTRACT.name, semmmm001Bean.getExpCntrctOfVndObj());
				
				if(to != null && to.size() > 0){
					PopupContractSearchSP objResult = (PopupContractSearchSP)to.get(0);
					
					if(objResult.getEffDate() != null){
						semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDt(SEMDataUtility.convertToThYear(objResult.getEffDate()));
					}
					
					if(objResult.getExpDate() != null){
						semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDt(SEMDataUtility.convertToThYear(objResult.getExpDate()));
					}
					
					if(objResult.getVendorEffectiveDt() != null){
						semmmm001Bean.getExpCntrctOfVndObj().setVendorEffectiveDtStr(DateUtil.convertDateTime2StringWithLocale(objResult.getVendorEffectiveDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale));
					}
					
					if(semmmm001Bean.getExpCntrctOfVndObj().getExpenseEffectiveDt() == null){
						semmmm001Bean.getExpCntrctOfVndObj().setExpenseEffectiveDt(new Date());
					}
					
					if(semmmm001Bean.getExpCntrctOfVndObj().getPayType() == null || StringUtils.equals("", semmmm001Bean.getExpCntrctOfVndObj().getPayType()) ){
						semmmm001Bean.getExpCntrctOfVndObj().setPayType("01");
					}
					
					LOG.debug("semmmm001Bean.getVendorInfo().getSaveFlag() : "+semmmm001Bean.getVendorInfo().getSaveFlag());
					if(objResult.getContractName() != null && !StringUtils.equals("", objResult.getContractName())
							&& StringUtils.equals("N", semmmm001Bean.getVendorInfo().getSaveFlag())){
						semmmm001Bean.getVendorAddrObj().setContactName(objResult.getContractName());
						
						//2018/02/09 
//						semmmm001Bean.getVendorInfo().setCompany(objResult.getCompany());
//						semmmm001Bean.getVendorInfoCmpObj().setCompany(objResult.getCompany());
					}
					
					// -- 2017/08/10
//					semmmm001Bean.getVendorInfo().setCompany(objResult.getCompany());
//					semmmm001Bean.getVendorInfoCmpObj().setCompany(objResult.getCompany());
					semmmm001Bean.setOtherExpenseFlag(false);
				}else{
					semmmm001Bean.setRenderedMsgFormSearch(true);
					addMessageError("M0004");
				}
				
				// temp param for saveFlag
//				semmmm001Bean.getVendorInfo().setSaveFlag("V"); //VIEW
				semmmm001Bean.setDisableBtnSaveVendor(false);
				
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doFillinExpenseInfo >> END :::");
		}
	}
	
	private boolean doSaveVendorByOtherPage() {
		LOG.info("::: SEMMMM001Action :: doSaveVendorByOtherPage >> BEGIN :::");
		boolean flag = true;

		try {
			String actionType;
			String navProgramBack;
			String actionWithNaviBack;
			String methodWithNaviBack;
			String backOtherPageFlag;
			String todoManagerFlag;
			String navProgram;
			String navModuleBack;
			
			this.init();

			semmmm001Bean = getSemmmm001Bean();
			semmrt001Bean = getSemmrt001Bean();
			semmel001Bean = getSEMMEL001Bean();
			semmir010Bean = getSEMMIR010Bean();
			actionType = (String)getFacesUtils().getRequestParameter("actionType") == null ? "" : (String)getFacesUtils().getRequestParameter("actionType");
			navProgramBack = (String)getFacesUtils().getRequestParameter("navProgramBack") == null ? "" : (String)getFacesUtils().getRequestParameter("navProgramBack");
			actionWithNaviBack = (String)getFacesUtils().getRequestParameter("actionWithNaviBack") == null ? "" : (String)getFacesUtils().getRequestParameter("actionWithNaviBack");
			methodWithNaviBack = (String)getFacesUtils().getRequestParameter("methodWithNaviBack") == null ? "" : (String)getFacesUtils().getRequestParameter("methodWithNaviBack");
			backOtherPageFlag = (String)getFacesUtils().getRequestParameter("backOtherPageFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("backOtherPageFlag");
			todoManagerFlag = (String)getFacesUtils().getRequestParameter("todoManagerFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("todoManagerFlag");
			navProgram = (String)getFacesUtils().getRequestParameter("navProgram") == null ? "" : (String)getFacesUtils().getRequestParameter("navProgram");
			navModuleBack = (String)getFacesUtils().getRequestParameter("navModuleBack") == null ? "" : (String)getFacesUtils().getRequestParameter("navModuleBack");
			String btnActionType = getFacesUtils().getRequestParameter("btnActionType") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("btnActionType");
			String verifyFlag = getFacesUtils().getRequestParameter("verifyFlag") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("verifyFlag");
			
			semmmm001Bean.setNavProgramBack(navProgramBack);
			semmmm001Bean.setActionWithNaviBack(actionWithNaviBack);
			semmmm001Bean.setMethodWithNaviBack(methodWithNaviBack);
			semmmm001Bean.setNavModuleBack(navModuleBack);
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			String cancelFlag = getFacesUtils().getRequestParameter("cancelFlag") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("cancelFlag");
			
//			System.out.println("contractNo : "+contractNo);
//			System.out.println("vendorId : "+vendorId);
			this.doGetRequestParam();
			
			// -- 2017/08/23
			semmmm001Bean.getContractInfo().setContractNo(contractNo);
			
			if(StringUtils.equals("Y", cancelFlag)){
				this.doVendorClearContent();
				
			}	
			
			if(StringUtils.equals("", vendorId)){
				String lessorId = (String)getFacesUtils().getRequestParameter("lessorId") == null ? "" : (String)getFacesUtils().getRequestParameter("lessorId");
				if(!StringUtils.equals("", lessorId))
					this.doGetVendorByLessorId(lessorId);
				else 
					// clear object vendor address
					semmmm001Bean.setVendorAddrObj(new Mmm001AddressSP()); 		
					semmmm001Bean.setRentalAddrObj(new Mmm001AddressSP()); 		
					semmmm001Bean.setElectrictAddrObj(new Mmm001AddressSP()); 	
					semmmm001Bean.setPropertyAddrObj(new Mmm001AddressSP()); 	
					semmmm001Bean.setInsureAddrObj(new Mmm001AddressSP()); 		
					semmmm001Bean.setConstructAddrObj(new Mmm001AddressSP()); 	
					semmmm001Bean.setWithholdAddrObj(new Mmm001AddressSP()); 
					this.doSetOwnerLocation();
				
				
				semmmm001Bean.getVendorInfo().setSaveFlag("N");
				semmmm001Bean.getVendorAddrObj().setChkTelephoneSapFlag(true);
				semmmm001Bean.getVendorAddrObj().setChkMobileNoSapFlag(true);
				semmmm001Bean.setDisableContent(false); 
			}else{
				semmmm001Bean.getVendorInfo().setSaveFlag(btnActionType);
				
				this.doReloadAllVendorContent(contractNo, vendorId, vendorMapPayeeId);
				semmmm001Bean.setSelectedTab("tab0");
				semmmm001Bean.setPayeeSelectedTab("tabP0");
				semmmm001Bean.setVisiblePnlAddContractInfo(false);
				semmmm001Bean.setVisiblePnlVendorInfo(true);
				semmmm001Bean.setVisiblePnlBankListInfo(true);
				semmmm001Bean.setVisiblePnlBookbankPayeeListInfo(true);
							
				semmmm001Bean.setDisableBtnNewVendor(false);
				
				if(StringUtils.equals("E", btnActionType)){
					semmmm001Bean.setDisableContent(false); 
					semmmm001Bean.setDisableEditVendorContent(false); 
				}else{
					semmmm001Bean.setDisableContent(true); 
					semmmm001Bean.setDisableEditVendorContent(true); 
				}
				
				
				semmmm001Bean.setDisableBtnEditVendor(false);
				semmmm001Bean.setDisableBtnSaveVendor(true);
				
				semmmm001Bean.setRenderedPnlCmpVendorInfo(false);
				
				semmmm001Bean.setRenderedBtnNewVendor(false);
				semmmm001Bean.setRenderedBtnNewAllVendor(true);
				semmmm001Bean.setRenderedBtnNewVendorDetail(false);
				semmmm001Bean.setRenderedBtnSelectVendor(false);
					
				// temp param for saveFlag
//				semmmm001Bean.getVendorInfo().setSaveFlag("E"); //EDIT
//				if(semmmm001Bean.getVendorInfo().getSaveFlag() != null){
//					if(StringUtils.equals("N", semmmm001Bean.getVendorInfo().getSaveFlag())){
//						semmmm001Bean.getVendorInfo().setSaveFlag("V");
//					}
//				}
				
				
				// clear object expense
				semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
				
//				// default paytype
//				if(StringUtils.equals("", semmmm001Bean.getExpCntrctOfVndObj().getPayType()) ){
//					semmmm001Bean.getExpCntrctOfVndObj().setPayType("01");
//				}
				
				
			}
			
			if(!contractNo.isEmpty()){
				semmmm001Bean.setVisiblePnlContractInfo(false);
				
				this.doEditContractOfExpense(); // 2017/08/15 -- 
//				this.doFillinExpenseInfo();		// 2017/08/15 --
				semmmm001Bean.setDisableBtnSaveVendor(false);	// 2017/08/15 --
			} else { 
				semmmm001Bean.setVisiblePnlContractInfo(false);
			}
			
//			semmmm001Bean.setNewVendorFlag("");
			
			if(StringUtils.equals("Y", backOtherPageFlag)){
				semmmm001Bean.setRenderedBtnTodoBack(true);
				semmmm001Bean.setRenderedBtnBackOthPageFlow(true);
			}
			
			semmmm001Bean.setFromVendorFlag(false);
			semmmm001Bean.setFromPayeeFlag(false);
			
			this.doCompareVendorWithSAP();
//			this.doChkWithoutContract();
			this.doGetVendorCheckBox();
			this.doManageVendorDetailBtn();
			this.doValidateBtnPage();
			//enable contract ExpenseType PaymentType
			if(StringUtils.equals("Y", verifyFlag)){
				semmmm001Bean.setDisablePaymentVendorContVerify(false);
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			LOG.debug("getNewVendorFlag : "+semmmm001Bean.getNewVendorFlag());
			setSemmmm001Bean(semmmm001Bean);
			setSemmrt001Bean(semmrt001Bean);
			setSemmel001Bean(semmel001Bean);
			setSemmir010Bean(semmir010Bean);
			LOG.info("::: SEMMMM001Action :: doSaveVendorByOtherPage >> END :::");
		}
		return flag;
	}
	
	public void doGetVendorByLessorId(String lessorId){
		LOG.info("::: SEMMMM001Action :: doGetVendorByLessorId >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<Mmm001AddressSP> addressResultList = null;
			Mmm001CriteriaSP tmpCriteria = null;
			
			if(lessorId != null && !lessorId.isEmpty()){
				// -- vendor address
				tmpCriteria = new Mmm001CriteriaSP();
				tmpCriteria.setContractNo("");
				tmpCriteria.setVendorId("");
				tmpCriteria.setGroupType("L");
				tmpCriteria.setLessorId(lessorId);
				
				addressResultList = service.querySPList(EQueryName.SEM_SAP_ADDRESS.name, tmpCriteria);
								
				// clear object
				semmmm001Bean.setVendorInfo(new Mmm001VendorSP());
				semmmm001Bean.setVendorAddrObj(new Mmm001AddressSP()); 		
				semmmm001Bean.setRentalAddrObj(new Mmm001AddressSP()); 		
				semmmm001Bean.setElectrictAddrObj(new Mmm001AddressSP()); 	
				semmmm001Bean.setPropertyAddrObj(new Mmm001AddressSP()); 	
				semmmm001Bean.setInsureAddrObj(new Mmm001AddressSP()); 		
				semmmm001Bean.setConstructAddrObj(new Mmm001AddressSP()); 	
				semmmm001Bean.setWithholdAddrObj(new Mmm001AddressSP()); 
				
				if(addressResultList != null && addressResultList.size() != 0) {
					if(addressResultList.get(0).getLessorName() != null)
						semmmm001Bean.getVendorInfo().setVendorName1(addressResultList.get(0).getLessorName());
					
					semmmm001Bean.setVendorAddrObj((Mmm001AddressSP) addressResultList.get(0));
//					semmmm001Bean.setRentalAddrObj((Mmm001AddressSP) addressResultList.get(1));
//					semmmm001Bean.setElectrictAddrObj((Mmm001AddressSP) addressResultList.get(2));
//					semmmm001Bean.setPropertyAddrObj((Mmm001AddressSP) addressResultList.get(3));
//					semmmm001Bean.setInsureAddrObj((Mmm001AddressSP) addressResultList.get(4));
//					semmmm001Bean.setConstructAddrObj((Mmm001AddressSP) addressResultList.get(5));
//					semmmm001Bean.setWithholdAddrObj((Mmm001AddressSP) addressResultList.get(6));
					
					// --
					semmmm001Bean.getVendorAddrObj().setChkTambolOther(addressResultList.get(0).getTambol() != null && addressResultList.get(0).getTambol().equalsIgnoreCase("X") ? true : false);
					semmmm001Bean.getVendorAddrObj().setChkAmphurOther(addressResultList.get(0).getAmphur() != null && addressResultList.get(0).getAmphur().equalsIgnoreCase("X") ? true : false);
					semmmm001Bean.getVendorAddrObj().setChkLocalDepartment(addressResultList.get(0).getpTaxFlag() != null && addressResultList.get(0).getpTaxFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getVendorAddrObj().setChkTelephoneSapFlag(addressResultList.get(0).getTelephoneSapFlag() != null && addressResultList.get(0).getTelephoneSapFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getVendorAddrObj().setChkMobileNoSapFlag(addressResultList.get(0).getMobileNoSapFlag() != null && addressResultList.get(0).getMobileNoSapFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getVendorAddrObj().setChkFaxSapFlag(addressResultList.get(0).getFaxSapFlag() != null && addressResultList.get(0).getFaxSapFlag().equalsIgnoreCase("Y") ? true : false);
					semmmm001Bean.getVendorAddrObj().setChkEmailSapFlag(addressResultList.get(0).getEmailSapFlag() != null && addressResultList.get(0).getEmailSapFlag().equalsIgnoreCase("Y") ? true : false);
					
					this.doSetOwnerLocation();
				}
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error("SEMMMM001Action doGetVendorByLessorId SEM_SAP_VENDOR_ADDRESS result < 7 : "+e);
			LOG.debug("SEMMMM001Action doGetVendorByLessorId SEM_SAP_VENDOR_ADDRESS result < 7 : "+e);
			addMessageError("EL0000", "SEMMMM001Action doGetVendorByLessorId SEM_SAP_VENDOR_ADDRESS result < 7");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doGetVendorByLessorId >> END :::");
		}
	}
	
	private void getVendorMasterInfoByLessorId() throws Exception{
		semmmm001Bean  = getSemmmm001Bean();
		
		try{
			
			ISiteLessorService service = (ISiteLessorService)getBean("siteLessorService");
			String lessorId = (String)getFacesUtils().getRequestParameter("lessorId");
			VendorMaster v = null;
			if(StringUtils.isNotBlank(lessorId)){
				LessorInfo l = service.queryLessorInfoByRowId(lessorId);
				if(l != null){
					v = new VendorMaster();
					v.setVendorName1(l.getLessorName());
					v.setAddress1(l.getAddress1());
					v.setAddress2(l.getAddress2());
					v.setCity(l.getCity());
					v.setPostCode(l.getPostcode());
					v.setTelephone(l.getTel());
					v.setFax(l.getFax());
					
					semmmm001Bean.setVendorInfo(new Mmm001VendorSP());
					semmmm001Bean.getVendorInfo().setVendorName1(l.getLessorName());
					
					semmmm001Bean.setVendorAddrObj(new Mmm001AddressSP());
					semmmm001Bean.getVendorAddrObj().setAddress1(l.getAddress1());
					semmmm001Bean.getVendorAddrObj().setAddress2(l.getAddress2());
//					semmmm001Bean.getVendorAddrObj().setCity(l.getCity());
					semmmm001Bean.getVendorAddrObj().setPostCode(l.getPostcode());
					semmmm001Bean.getVendorAddrObj().setTelephone(l.getTel());
					semmmm001Bean.getVendorAddrObj().setFax(l.getFax());
					this.doSetOwnerLocation();
//					semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
				}
				//set temp lessor Id for stamp on save or update.
			
			}else{
				//set temp lessor Id for stamp on save or update.
				this.doSetOwnerLocation();
			}
			
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action getVendorMasterInfoByLessorId : "+e);
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
		
//		return v;
	}
	
	private boolean doValidateBtnPage() {
		LOG.info("::: SEMMMM001Action :: doValidateBtnPage >> BEGIN :::");
		boolean flag = true;
		
		IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
		List<Mmm001ValidatePage> result = new ArrayList<Mmm001ValidatePage>();
		
		try {
			semmmm001Bean.setExportBatchResultList(new ArrayList<WrapperBeanObject<Mmm001ExportBatchResultSP>>());
			setSemmmm001Bean(semmmm001Bean);
			
			String navProgram = getFacesUtils().getRequestParameter("navProgram") == null ? "" : (String)getFacesUtils().getRequestParameter("navProgram");
			String actionId = getFacesUtils().getRequestParameter("actionId") == null ? "" : (String)getFacesUtils().getRequestParameter("actionId");
			String actionValue = getFacesUtils().getRequestParameter("actionValue") == null ? "" : (String)getFacesUtils().getRequestParameter("actionValue");
			String vendorIdParam = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : (String)getFacesUtils().getRequestParameter("vendorIdParam");
			String vendorMapPayeeIdParam = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : (String)getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			LOG.debug("navProgram : "+navProgram);
			LOG.debug("actionId : "+actionId);
			LOG.debug("actionValue : "+actionValue);
			LOG.debug("vendorIdParam : "+vendorIdParam);
			LOG.debug("vendorMapPayeeIdParam : "+vendorMapPayeeIdParam);
			if(StringUtils.equals("VENDOR_WITHOUT_CONTRACT", actionId)){
				if(semmmm001Bean.isOtherExpenseFlag()){
					actionValue = "Y";
				}else{
					actionValue = "N";
				}
			}else{
				actionValue = "";
			}
			
			ItemParamsSP params = new ItemParamsSP();
			params.setParam1(navProgram);
			params.setParam2(actionId);
			params.setParam3(actionValue);
			params.setParam4(vendorMapPayeeIdParam);
			params.setParam5(vendorIdParam);
			
			result = service.querySPList(EQueryName.SEM_SAP_VALIDATE_PAGE.name, params);
			
			if (result != null) {
				LOG.debug(">> result.size() = " + result.size());
				for (int i=0; i<result.size(); i++) {
					Mmm001ValidatePage o = result.get(i);
					Mmm001ValidatePage tmpWrapperBean = new Mmm001ValidatePage();
					LOG.debug("getContractInfoBox : "+o.getContractInfoBox());
					semmmm001Bean.setValidatePage(o);
//					LOG.debug(">> result = " + result.get(i).getCancelButton());
//					LOG.debug(">> result = " + result.get(i).getCancelVendorButton());
				}
				LOG.debug(">> result = " + result.toString());
				
//				semmmm001Bean.setRenderedExportBatchResultAlert(true);
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doValidateBtnPage >> END :::");
		}
		return flag;
	}
	
	private boolean doValidateBtnPage(String vendorIdParam, String vendorMapPayeeIdParam) {
		LOG.info("::: SEMMMM001Action :: doValidateBtnPage >> BEGIN :::");
		boolean flag = true;
		
		IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
		List<Mmm001ValidatePage> result = new ArrayList<Mmm001ValidatePage>();
		
		try {
			semmmm001Bean.setExportBatchResultList(new ArrayList<WrapperBeanObject<Mmm001ExportBatchResultSP>>());
			setSemmmm001Bean(semmmm001Bean);
			
			String navProgram = getFacesUtils().getRequestParameter("navProgram") == null ? "" : (String)getFacesUtils().getRequestParameter("navProgram");
			String actionId = getFacesUtils().getRequestParameter("actionId") == null ? "" : (String)getFacesUtils().getRequestParameter("actionId");
			String actionValue = getFacesUtils().getRequestParameter("actionValue") == null ? "" : (String)getFacesUtils().getRequestParameter("actionValue");
//			String vendorIdParam = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : (String)getFacesUtils().getRequestParameter("vendorIdParam");
//			String vendorMapPayeeIdParam = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : (String)getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			LOG.debug("navProgram : "+navProgram);
			LOG.debug("actionId : "+actionId);
			LOG.debug("actionValue : "+actionValue);
			LOG.debug("vendorIdParam : "+vendorIdParam);
			LOG.debug("vendorMapPayeeIdParam : "+vendorMapPayeeIdParam);
			if(StringUtils.equals("VENDOR_WITHOUT_CONTRACT", actionId)){
				if(semmmm001Bean.isOtherExpenseFlag()){
					actionValue = "Y";
				}else{
					actionValue = "N";
				}
			}else{
				actionValue = "";
			}
			
			ItemParamsSP params = new ItemParamsSP();
			params.setParam1(navProgram);
			params.setParam2(actionId);
			params.setParam3(actionValue);
			params.setParam4(vendorMapPayeeIdParam);
			params.setParam5(vendorIdParam);
			
			result = service.querySPList(EQueryName.SEM_SAP_VALIDATE_PAGE.name, params);
			
			if (result != null) {
				LOG.debug(">> result.size() = " + result.size());
				for (int i=0; i<result.size(); i++) {
					Mmm001ValidatePage o = result.get(i);
					Mmm001ValidatePage tmpWrapperBean = new Mmm001ValidatePage();
					LOG.debug("getContractInfoBox : "+o.getContractInfoBox());
					semmmm001Bean.setValidatePage(o);
//					LOG.debug(">> result = " + result.get(i).getCancelButton());
//					LOG.debug(">> result = " + result.get(i).getCancelVendorButton());
				}
				LOG.debug(">> result = " + result.toString());
				
//				semmmm001Bean.setRenderedExportBatchResultAlert(true);
			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doValidateBtnPage >> END :::");
		}
		return flag;
	}
	
	public void doVendorGetPayment(String vendorMapPayeeId, String contractNo){
		LOG.info("::: SEMMMM001Action :: doVendorGetPayment >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			ISiteContractService siteContractService = (ISiteContractService)getBean("siteContractService");
			List<Mmm001ExpenseWithContractOfVendorSP> to = null;
			
			
			String navProgram = getFacesUtils().getRequestParameter("navProgram") == null ? "" : (String)getFacesUtils().getRequestParameter("navProgram");
			
			// --
//			semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDt(null);
//			semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDtStr("");
//			semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDt(null);
//			semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDtStr("");
//			semmmm001Bean.getVendorInfo().setCompany("");
			
			ItemParamsSP params = new ItemParamsSP();
			params.setParam1(vendorMapPayeeId);			
			params.setParam2(contractNo);	
			params.setParam3(navProgram);
			// --
			LOG.debug("vendorMapPayeeId : "+vendorMapPayeeId);
			LOG.debug("contractNo : "+contractNo);
			LOG.debug("navProgram : "+navProgram);
//			if(semmmm001Bean.getExpCntrctOfVndObj().getContractNo() != null && 
//			  !semmmm001Bean.getExpCntrctOfVndObj().getContractNo().isEmpty()){
				// -- 
				to = siteContractService.querySPList(EQueryName.SEM_SAP_VENDOR_GET_PAYMENT.name, params);
				
				if(to != null && to.size() > 0){
					Mmm001ExpenseWithContractOfVendorSP objResult = (Mmm001ExpenseWithContractOfVendorSP)to.get(0);
					
					if(objResult.getContractEffectiveDt() != null){
						semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDt(SEMDataUtility.convertToThYear(objResult.getContractEffectiveDt()));
					}
					
					if(objResult.getContractExpireDt() != null){
						semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDt(SEMDataUtility.convertToThYear(objResult.getContractExpireDt()));
					}
					
					if(objResult.getVendorEffectiveDt() != null){
						semmmm001Bean.getExpCntrctOfVndObj().setVendorEffectiveDtStr(DateUtil.convertDateTime2StringWithLocale(objResult.getVendorEffectiveDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale));
					}
					
					if(semmmm001Bean.getExpCntrctOfVndObj().getExpenseType() == null || StringUtils.equals("", semmmm001Bean.getExpCntrctOfVndObj().getExpenseType()) ){
						if(objResult.getExpenseType() != null){
							semmmm001Bean.getExpCntrctOfVndObj().setExpenseType(objResult.getExpenseType());
						}
					}
					
					if(semmmm001Bean.getExpCntrctOfVndObj().getExpenseEffectiveDt() == null){
						semmmm001Bean.getExpCntrctOfVndObj().setExpenseEffectiveDt(new Date());
					}
					
					if(semmmm001Bean.getExpCntrctOfVndObj().getPayType() == null || StringUtils.equals("", semmmm001Bean.getExpCntrctOfVndObj().getPayType()) ){
						semmmm001Bean.getExpCntrctOfVndObj().setPayType("01");
					}
					
					if(objResult.getPayType() != null){
						semmmm001Bean.getExpCntrctOfVndObj().setPayType(objResult.getPayType());
					}
					
					// -- 2017/08/10
					semmmm001Bean.getVendorInfo().setCompany(objResult.getCompany());
					semmmm001Bean.getVendorInfoCmpObj().setCompany(objResult.getCompany());
				}
				
				// temp param for saveFlag
//				semmmm001Bean.getVendorInfo().setSaveFlag("V"); //VIEW
				semmmm001Bean.setDisableBtnSaveVendor(false);
//			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doVendorGetPayment >> END :::");
		}
	}
	
	private boolean doViewPayeeFromVendorDetail() {
		LOG.info("::: SEMMMM001Action :: doViewPayeeFromVendorDetail >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("payeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			String btnActionType = getFacesUtils().getRequestParameter("btnActionType") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("btnActionType");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);

			if(!StringUtils.equals("N", btnActionType)){
				this.doGetPYRequestParam();
			}
			
			
			if(contractNo.isEmpty()){
				semmmm001Bean.setVisiblePnlContractInfo(false);
			} else {
				semmmm001Bean.setVisiblePnlContractInfo(true);
			}
			
			
			// -- contract info + vendor of contract list
			this.doGetContractInfoByContractParam(contractNo);
			
			// -- vendor detail
			this.doGetVendorInfoByVendorParam(contractNo, vendorId, vendorMapPayeeId);
			
			// -- contract of vendor list
			this.doGetContractOfVendorByVendorParam(contractNo, vendorId);
			
			// -- payee detail
			this.doGetPayeeInfoByPayeeParam(contractNo, vendorId, payeeId, vendorMapPayeeId);
			
			// -- payee address
			this.doGetPayeeAddressByVendorParam(contractNo, payeeId);
			
			// -- bookbank of payee list
			this.doGetBookbankPayeeByPayeeParam(contractNo, vendorId, payeeId, vendorMapPayeeId);
			
			// -- contract of payee list
			this.doGetContractOfPayeeByPayeeParam(vendorId, payeeId);
			
			this.doSetPayeeLocation();
			
			semmmm001Bean.setDisableContent(true); 
			semmmm001Bean.setDisableEditPayeeContent(true); 
			
			semmmm001Bean.setDisableBtnSavePayee(true);
			semmmm001Bean.setDisableBtnEditPayee(false);
			
			semmmm001Bean.setRenderedPnlCmpPayeeInfo(false);
			
			// 2017/08/24 -- enabled BtnSendToMng (Payee) when flowStatus 01, 03, 05, 07
			String payeeFlowStatus = semmmm001Bean.getPayeeInfo().getPayeeFlowStatus() == null ? "" : 
				   (String) semmmm001Bean.getPayeeInfo().getPayeeFlowStatus();
			if(!payeeId.isEmpty() && StringUtils.indexOf("X01,03,05,07", payeeFlowStatus, 0) > 0)
				semmmm001Bean.setDisableBtnSendManagerPY(false);
			else
				semmmm001Bean.setDisableBtnSendManagerPY(true);
			
			semmmm001Bean.setFromVendorFlag(true);
			semmmm001Bean.setFromPayeeFlag(false);
			
			this.doManagePYDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewPayeeFromVendorDetail >> END :::");
		}
		return flag;
	}
	
	private boolean doBBPayeeCancel() {
		LOG.info("::: SEMMMM001Action :: doBBPayeeCancel >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("payeeIdParam");
			String bookbankPayeeId = getFacesUtils().getRequestParameter("bookbankPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("bookbankPayeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			String saveFlag = semmmm001Bean.getBookbankPayeeInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getBookbankPayeeInfo().getSaveFlag();
			
			String payeePageFlag = getFacesUtils().getRequestParameter("payeePageFlag") == null ? "" : 
				(String)getFacesUtils().getRequestParameter("payeePageFlag");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> bookbankPayeeId: " + bookbankPayeeId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);
			
			this.doGetPBRequestParam();

			if(contractNo.isEmpty()){
				semmmm001Bean.setVisiblePnlContractInfo(false);
			} else {
				semmmm001Bean.setVisiblePnlContractInfo(true);
			}
			
			
			if(StringUtils.equals("C", saveFlag)){
				// -- bookbank payee info (CMP)
				this.doGetBookbankPayeeInfoCmpByBookbankPayeeParam(contractNo, vendorId, bookbankPayeeId, vendorMapPayeeId);
				
				semmmm001Bean.setRenderedPnlCmpBookbankPayeeInfo(false);
			} else {
				// -- contract info + vendor of contract list
				this.doGetContractInfoByContractParam(contractNo);
				
				// -- vendor detail
				this.doGetVendorInfoByVendorParam(contractNo, vendorId, vendorMapPayeeId);
	
				// -- payee detail
				this.doGetPayeeInfoByPayeeParam(contractNo, vendorId, payeeId, vendorMapPayeeId);
				
				// -- bookbank payee info
				this.doGetBookbankPayeeInfoByBookbankPayeeParam(contractNo, vendorId, bookbankPayeeId, vendorMapPayeeId);
				
				semmmm001Bean.setDisableContent(true); 
				semmmm001Bean.setDisableEditBookbankPayeeContent(true); 
				
				semmmm001Bean.setDisableBtnSaveBookbankPayee(true);
				semmmm001Bean.setDisableBtnEditBookbankPayee(false);
				
				semmmm001Bean.setRenderedPnlCmpBookbankPayeeInfo(false);
			}
			
			this.doSetPayeeLocation();
			
			// 2017/08/24 -- enabled BtnSendToMng (BookBankPayee) when flowStatus 01, 03, 05, 07
			String bookbankPayeeFlowStatus = semmmm001Bean.getBookbankPayeeInfo().getBookbankFlowStatus() == null ? "" : 
				   (String) semmmm001Bean.getBookbankPayeeInfo().getBookbankFlowStatus();
			if(!bookbankPayeeId.isEmpty() && StringUtils.indexOf("X01,03,05,07", bookbankPayeeFlowStatus, 0) > 0)
				semmmm001Bean.setDisableBtnSendManagerPB(false);
			else
				semmmm001Bean.setDisableBtnSendManagerPB(true);
			
			if(!StringUtils.equals("", vendorMapPayeeId)){
				semmmm001Bean.getVendorInfo().setVendorMapPayeeId(vendorMapPayeeId);
			}
			
			if(!StringUtils.equals("", vendorMapPayeeId)){
				semmmm001Bean.getVendorInfo().setVendorMapPayeeId(vendorMapPayeeId);
			}
			
//			if(StringUtils.equals("Y", payeePageFlag)){
//				semmmm001Bean.setPayeePageFlag(true);
//			}else{
//				semmmm001Bean.setPayeePageFlag(false);
//			}
			//clear Account No Max Length
			if(semmmm001Bean.getBookbankPayeeInfo().getAccountNo() != null && StringUtils.isNotEmpty(semmmm001Bean.getBookbankPayeeInfo().getAccountNo())){
				int maxLength = semmmm001Bean.getBookbankPayeeInfo().getAccountNo().length();
				LOG.debug("maxLength : "+maxLength);
				semmmm001Bean.setAccountNoMaxLengthPayee(String.valueOf(maxLength));
			}else{
				semmmm001Bean.setAccountNoMaxLengthPayee("");
			}
			semmmm001Bean.setAccountNoMaxLengthPayeeCmp("");
			this.doManagePBDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doBBPayeeCancel >> END :::");
		}
		return flag;
	}
	
	private boolean doViewBBPayeeFromPayee() {
		LOG.info("::: SEMMMM001Action :: doViewBBPayeeFromPayee >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("payeeIdParam");
			String bookbankPayeeId = getFacesUtils().getRequestParameter("bookbankPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("bookbankPayeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			String saveFlag = semmmm001Bean.getBookbankPayeeInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getBookbankPayeeInfo().getSaveFlag();
			
			String payeePageFlag = getFacesUtils().getRequestParameter("payeePageFlag") == null ? "" : 
				(String)getFacesUtils().getRequestParameter("payeePageFlag");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> bookbankPayeeId: " + bookbankPayeeId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);
			
			this.doGetPBRequestParam();

			if(contractNo.isEmpty()){
				semmmm001Bean.setVisiblePnlContractInfo(false);
			} else {
				semmmm001Bean.setVisiblePnlContractInfo(true);
			}
			
			
			if(saveFlag.equalsIgnoreCase("C")){
				// -- bookbank payee info (CMP)
				this.doGetBookbankPayeeInfoCmpByBookbankPayeeParam(contractNo, vendorId, bookbankPayeeId, vendorMapPayeeId);
				
				semmmm001Bean.setRenderedPnlCmpBookbankInfo(true);
			} else {
				// -- contract info + vendor of contract list
				this.doGetContractInfoByContractParam(contractNo);
				
				// -- vendor detail
				this.doGetVendorInfoByVendorParam(contractNo, vendorId, vendorMapPayeeId);
	
				// -- payee detail
				this.doGetPayeeInfoByPayeeParam(contractNo, vendorId, payeeId, vendorMapPayeeId);
				
				// -- bookbank payee info
				this.doGetBookbankPayeeInfoByBookbankPayeeParam(contractNo, vendorId, bookbankPayeeId, vendorMapPayeeId);
				
				semmmm001Bean.setDisableContent(true); 
				semmmm001Bean.setDisableEditBookbankPayeeContent(true); 
				
				semmmm001Bean.setDisableBtnSaveBookbankPayee(true);
				semmmm001Bean.setDisableBtnEditBookbankPayee(false);
				
				semmmm001Bean.setRenderedPnlCmpBookbankPayeeInfo(false);
			}
			
			this.doSetPayeeLocation();
			
			// 2017/08/24 -- enabled BtnSendToMng (BookBankPayee) when flowStatus 01, 03, 05, 07
			String bookbankPayeeFlowStatus = semmmm001Bean.getBookbankPayeeInfo().getBookbankFlowStatus() == null ? "" : 
				   (String) semmmm001Bean.getBookbankPayeeInfo().getBookbankFlowStatus();
			if(!bookbankPayeeId.isEmpty() && StringUtils.indexOf("X01,03,05,07", bookbankPayeeFlowStatus, 0) > 0)
				semmmm001Bean.setDisableBtnSendManagerPB(false);
			else
				semmmm001Bean.setDisableBtnSendManagerPB(true);
			
			if(!StringUtils.equals("", vendorMapPayeeId)){
				semmmm001Bean.getVendorInfo().setVendorMapPayeeId(vendorMapPayeeId);
			}
			
			if(!StringUtils.equals("", vendorMapPayeeId)){
				semmmm001Bean.getVendorInfo().setVendorMapPayeeId(vendorMapPayeeId);
			}
			
			if(StringUtils.equals("Y", payeePageFlag)){
				semmmm001Bean.setPayeePageFlag(true);
			}else{
				semmmm001Bean.setPayeePageFlag(false);
			}
//			semmmm001Bean.setFromVendorFlag(true);
			semmmm001Bean.setFromPayeeFlag(true);
			this.doManagePBDetailBtn();
//			this.doCheckBBGSBPayee();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewBBPayeeFromPayee >> END :::");
		}
		return flag;
	}
	
	//added by NEW 20151015
	private boolean initExportExcel() {
		SEMMMM001Bean ct001Bean = getSemmmm001Bean();
		ct001Bean.setDisplayReport(false);
		ct001Bean.setCt001ExExcelList(new ArrayList<Mmm001VendorMasterSP>());
		List<Mmm001VendorMasterSP> exList = null;
		boolean flag = true;
//		String rowIdConcatParam = getFacesUtils().getRequestParameter("vendorMapPayeeId") == null ? "" : (String)getFacesUtils().getRequestParameter("vendorMapPayeeId");
//		String vendorIdParam = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : (String)getFacesUtils().getRequestParameter("vendorIdParam");
		try{
			
			exList = getVendorSelected();
			
			if(exList != null){
				ct001Bean.setCt001ExExcelList(exList);
				ct001Bean.setDisplayReport(true);
			}else{
				flag = false;
				ct001Bean.setDisplayReport(false);
//				
				ct001Bean.setRenderedMsgFormSearch(true);
				FrontMessageUtils.addMessageError("");
			}
			
			
			
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug(e);
			ct001Bean.setDisplayReport(false);
		}
		
		return flag;
	}
	
	public boolean doExportExcel(){
		SEMMMM001Bean ct001Bean = getSemmmm001Bean();
		ct001Bean.setDisplayReport(false);
		
		short line = 0;
		DocumentExportManager<CT001ExportBank> docManager = new DocumentExportManager<CT001ExportBank>(CT001ExportBank.class, EnumDocumentType.XLS);
		docManager.setRowStart(line);
		/***********************************************/
		EnumDocStyleDomain headerStyle = new EnumDocStyleDomain(EnumDocStyle.HEADER);
		EnumDocStyleDomain	titleStyle	= new EnumDocStyleDomain(EnumDocStyle.TITLE);
		EnumDocStyleDomain normalLeft =  docManager.getStyle("ct001Field");
		EnumDocStyleDomain normalHeader =  new EnumDocStyleDomain(EnumDocStyle.CELL_NORMAL_BIG_FONT_CENTER);
		EnumDocStyleDomain normalCenter =  docManager.getStyle("si002Field");
		EnumDocStyleDomain cellDefault = new EnumDocStyleDomain(EnumDocStyle.MANUAL);
		
		DateFormat df =  new SimpleDateFormat("dd/MM/yyyy HH:mm:ss"); 
		try{
		
			int rowNum = 1;
			String bankSum = "";
			int rowCount = 1;
			if(ct001Bean.getCt001ExExcelList()!=null&&ct001Bean.getCt001ExExcelList().size()>0){
		
				//start gen excel
				
				RowDomain row = new RowDomain(0,true);	
//				row2.setCell(new CellDomain(0, null, String.class,headerStyle, msg("message.company"),-1,1500));
				row.setCell(new CellDomain(0, null, String.class,headerStyle, "Action",-1,2500));
				row.setCell(new CellDomain(1, null, String.class,headerStyle, "Status",-1,2500));
				row.setCell(new CellDomain(2, null, String.class,headerStyle, getMessage("column.header.vendor.status"),-1,4000));
				row.setCell(new CellDomain(3, null, String.class,headerStyle, getMessage("column.header.vendor.flow"),-1,4000));
				row.setCell(new CellDomain(4, null, String.class,headerStyle, getMessage("column.header.vendor.code"),-1,4000));
				row.setCell(new CellDomain(5, null, String.class,headerStyle, getMessage("column.header.vendor.name"),-1,6000));
				row.setCell(new CellDomain(6, null, String.class,headerStyle, getMessage("column.header.citizen.id.and.taxid"),-1,4000));
				row.setCell(new CellDomain(7, null, String.class,headerStyle, getMessage("column.header.vendor.branch"),-1,3300));
				row.setCell(new CellDomain(8, null, String.class,headerStyle, getMessage("column.header.type"),-1,3000));
				row.setCell(new CellDomain(9, null, String.class,headerStyle, getMessage("column.header.contract.number"),-1,3000));
				row.setCell(new CellDomain(10, null, String.class,headerStyle, getMessage("column.header.contract.number.old.new"),-1,4000));
				row.setCell(new CellDomain(11, null, String.class,headerStyle, getMessage("column.header.expense.type"),-1,4000));
				row.setCell(new CellDomain(12, null, String.class,headerStyle, getMessage("column.header.contractStatus"),-1,4000));
				row.setCell(new CellDomain(13, null, String.class,headerStyle, getMessage("column.header.networkStatus"),-1,4000));
				row.setCell(new CellDomain(14, null, String.class,headerStyle, getMessage("column.header.contracteffectivedt"),-1,4000));
				row.setCell(new CellDomain(15, null, String.class,headerStyle, getMessage("column.header.contractexpiredt"),-1,4000));
				row.setCell(new CellDomain(16, null, String.class,headerStyle, getMessage("column.header.location.id"),-1,3000));
				row.setCell(new CellDomain(17, null, String.class,headerStyle, getMessage("column.header.location.code"),-1,3500));
				row.setCell(new CellDomain(18, null, String.class,headerStyle, getMessage("column.header.location.name"),-1,6000));
				row.setCell(new CellDomain(19, null, String.class,headerStyle, getMessage("column.header.vendor.batch"),-1,3500));
				row.setCell(new CellDomain(20, null, String.class,headerStyle, getMessage("column.header.bank.name"),-1,6000));
				row.setCell(new CellDomain(21, null, String.class,headerStyle, getMessage("column.header.account.no"),-1,4000));
				row.setCell(new CellDomain(22, null, String.class,headerStyle, getMessage("column.header.account.name"),-1,6000));
				row.setCell(new CellDomain(23, null, String.class,headerStyle, getMessage("column.header.bookbank.status"),-1,4000));				
				row.setCell(new CellDomain(24, null, String.class,headerStyle, getMessage("column.header.bookbank.flow"),-1,4800));
				row.setCell(new CellDomain(25, null, String.class,headerStyle, getMessage("column.header.bookbank.batch"),-1,3800));
				row.setCell(new CellDomain(26, null, String.class,headerStyle, getMessage("column.header.payee.id"),-1,3000));
				row.setCell(new CellDomain(27, null, String.class,headerStyle, getMessage("column.header.payee.name"),-1,6000));
				row.setCell(new CellDomain(28, null, String.class,headerStyle, getMessage("column.header.payee.status"),-1,3000));
				row.setCell(new CellDomain(29, null, String.class,headerStyle, getMessage("column.header.payee.flow"),-1,3000));
				row.setCell(new CellDomain(30, null, String.class,headerStyle, getMessage("column.header.payee.batch"),-1,3000));
				row.setCell(new CellDomain(31, null, String.class,headerStyle, getMessage("column.header.payee.bank.name"),-1,6000));
				row.setCell(new CellDomain(32, null, String.class,headerStyle, getMessage("column.header.payee.account.no"),-1,4000));
				row.setCell(new CellDomain(33, null, String.class,headerStyle, getMessage("column.header.payee.account.name"),-1,6000));
				row.setCell(new CellDomain(34, null, String.class,headerStyle, getMessage("column.header.bookbank.payee.status"),-1,5500));
				row.setCell(new CellDomain(35, null, String.class,headerStyle, getMessage("column.header.bookbank.payee.flow"),-1,5500));
				row.setCell(new CellDomain(36, null, String.class,headerStyle, getMessage("column.header.bookbank.payee.batch"),-1,5500));
				row.setCell(new CellDomain(37, null, String.class,headerStyle, getMessage("column.header.remark"),-1,6000));
				row.setCell(new CellDomain(38, null, String.class,cellDefault, "",-1,6000));
				
				for(Mmm001VendorMasterSP expBank : ct001Bean.getCt001ExExcelList()){
						
								RowDomain rowD = new RowDomain(rowNum++);
								rowD.setCell(new CellDomain(0, null, String.class, normalCenter, expBank.getActionType(),-1,2500));
								rowD.setCell(new CellDomain(1, null, String.class, normalCenter, expBank.getOtherStatus(),-1,2500));
								rowD.setCell(new CellDomain(2, null, String.class, normalCenter, expBank.getVendorStatus(),-1,4000));
								rowD.setCell(new CellDomain(3, null, String.class, normalCenter, expBank.getVendorFlowStatus(),-1,4000));
								rowD.setCell(new CellDomain(4, null, String.class, normalCenter, expBank.getVendorCode(),-1,4000));
								rowD.setCell(new CellDomain(5, null, String.class, normalLeft, expBank.getVendorName(),-1,6000));
								rowD.setCell(new CellDomain(6, null, String.class, normalLeft, expBank.getIdCard(),-1,3800));
								rowD.setCell(new CellDomain(7, null, String.class, normalLeft, expBank.getVendorBranchNo(),-1,3300));
								rowD.setCell(new CellDomain(8, null, String.class, normalCenter, expBank.getContractType(),-1,3000));
								rowD.setCell(new CellDomain(9, null, String.class, normalCenter, expBank.getContractNo(),-1,3000));
								rowD.setCell(new CellDomain(10, null, String.class, normalCenter, expBank.getContractOldNo(),-1,4000));
								rowD.setCell(new CellDomain(11, null, String.class, normalCenter, expBank.getExpenseType(),-1,4000));
								rowD.setCell(new CellDomain(12, null, String.class, normalCenter, expBank.getContractStatus(),-1,4000));
								
								rowD.setCell(new CellDomain(13, null, String.class, normalCenter, expBank.getNetworkStatus(),-1,4000));
								rowD.setCell(new CellDomain(14, null, String.class, normalCenter, expBank.getContractEffectiveDtStr(),-1,4000));
								rowD.setCell(new CellDomain(15, null, String.class, normalCenter, expBank.getContractExpireDtStr(),-1,4000));
								rowD.setCell(new CellDomain(16, null, String.class, normalCenter, expBank.getLocationId(),-1,3000));
								rowD.setCell(new CellDomain(17, null, String.class, normalCenter, expBank.getLocationCode(),-1,3500));
								rowD.setCell(new CellDomain(18, null, String.class, normalLeft, expBank.getLocationName(),-1,6000));
								rowD.setCell(new CellDomain(19, null, String.class, normalCenter, expBank.getVendorBatch(),-1,3500));
								rowD.setCell(new CellDomain(20, null, String.class, normalLeft, expBank.getBankName(),-1,6000));
								
								rowD.setCell(new CellDomain(21, null, String.class, normalCenter, expBank.getAccountNo(),-1,4000));
								rowD.setCell(new CellDomain(22, null, String.class, normalLeft, expBank.getAccountName(),-1,6000));
								rowD.setCell(new CellDomain(23, null, String.class, normalCenter, expBank.getBookbankStatus(),-1,4000));
								rowD.setCell(new CellDomain(24, null, String.class, normalCenter, expBank.getBookbankFlowStatus(),-1,4800));
								rowD.setCell(new CellDomain(25, null, String.class, normalCenter, expBank.getBookbankBatch(),-1,3800));
								rowD.setCell(new CellDomain(26, null, String.class, normalCenter, expBank.getPayeeId(),-1,3000));
								rowD.setCell(new CellDomain(27, null, String.class, normalLeft, expBank.getPayeeName(),-1,6000));
								rowD.setCell(new CellDomain(28, null, String.class, normalCenter, expBank.getPayeeStatus(),-1,3000));
								rowD.setCell(new CellDomain(29, null, String.class, normalCenter, expBank.getPayeeFlowStatus(),-1,3000));
								rowD.setCell(new CellDomain(30, null, String.class, normalCenter, expBank.getPayeeBatch(),-1,3000));
								
								rowD.setCell(new CellDomain(31, null, String.class, normalLeft, expBank.getPayeeBankName(),-1,6000));
								rowD.setCell(new CellDomain(32, null, String.class, normalCenter, expBank.getPayeeAccountNo(),-1,4000));
								rowD.setCell(new CellDomain(33, null, String.class, normalLeft, expBank.getPayeeAccountName(),-1,6000));
								rowD.setCell(new CellDomain(34, null, String.class, normalCenter, expBank.getBookbankPayeeStatus(),-1,5500));
								rowD.setCell(new CellDomain(35, null, String.class, normalCenter, expBank.getBookbankPayeeFlowStatus(),-1,5500));
								rowD.setCell(new CellDomain(36, null, String.class, normalCenter, expBank.getBookbankPayeeBatch(),-1,5500));
								rowD.setCell(new CellDomain(37, null, String.class, normalLeft, expBank.getRemark(),-1,6000));
								rowD.setCell(new CellDomain(38, null, String.class, cellDefault, "",-1,6000));
								
								docManager.putDetailRow(rowD);
								rowCount++;
//								bankSum = expBank.getBankSum();
					
				}
			
				docManager.putDetailRow(row);
				docManager.seteObjectList(null);
				docManager.setModule("VENDOR");
				docManager.setPrintPageLandScape(true);
				docManager.setMargin(0.05, 0.05, 0.5, 0.05);
				docManager.getObjectFromDocument();
				docManager.exportServletFile();
			}else{
				RowDomain row = new RowDomain(0,true);	
//				row2.setCell(new CellDomain(0, null, String.class,headerStyle, msg("message.company"),-1,1500));
				row.setCell(new CellDomain(0, null, String.class,headerStyle, "Action",-1,2500));
				row.setCell(new CellDomain(1, null, String.class,headerStyle, "Status",-1,2500));
				row.setCell(new CellDomain(2, null, String.class,headerStyle, getMessage("column.header.vendor.status"),-1,2500));
				row.setCell(new CellDomain(3, null, String.class,headerStyle, getMessage("column.header.vendor.flow"),-1,2700));
				row.setCell(new CellDomain(4, null, String.class,headerStyle, getMessage("column.header.vendor.code"),-1,2700));
				row.setCell(new CellDomain(5, null, String.class,headerStyle, getMessage("column.header.vendor.name"),-1,2900));
				row.setCell(new CellDomain(6, null, String.class,headerStyle, getMessage("column.header.citizen.id.and.taxid"),-1,3300));
				row.setCell(new CellDomain(7, null, String.class,headerStyle, getMessage("column.header.vendor.branch"),-1,3300));
				row.setCell(new CellDomain(8, null, String.class,headerStyle, getMessage("column.header.type"),-1,2200));
				row.setCell(new CellDomain(9, null, String.class,headerStyle, getMessage("column.header.contract.number"),-1,2200));
				row.setCell(new CellDomain(10, null, String.class,headerStyle, getMessage("column.header.contract.number.old.new"),-1,2200));
				row.setCell(new CellDomain(11, null, String.class,headerStyle, getMessage("column.header.expense.type"),-1,2200));
				row.setCell(new CellDomain(12, null, String.class,headerStyle, getMessage("column.header.contractStatus"),-1,2200));
				row.setCell(new CellDomain(13, null, String.class,headerStyle, getMessage("column.header.networkStatus"),-1,2900));
				row.setCell(new CellDomain(14, null, String.class,headerStyle, getMessage("column.header.contracteffectivedt"),-1,2900));
				row.setCell(new CellDomain(15, null, String.class,headerStyle, getMessage("column.header.contractexpiredt"),-1,2900));
				row.setCell(new CellDomain(16, null, String.class,headerStyle, getMessage("column.header.location.id"),-1,2900));
				row.setCell(new CellDomain(17, null, String.class,headerStyle, getMessage("column.header.location.code"),-1,2900));
				row.setCell(new CellDomain(18, null, String.class,headerStyle, getMessage("column.header.location.name"),-1,2900));
				row.setCell(new CellDomain(19, null, String.class,headerStyle, getMessage("column.header.vendor.batch"),-1,2900));
				row.setCell(new CellDomain(20, null, String.class,headerStyle, getMessage("column.header.bank.name"),-1,2900));
				row.setCell(new CellDomain(21, null, String.class,headerStyle, getMessage("column.header.account.no"),-1,2900));
				row.setCell(new CellDomain(22, null, String.class,headerStyle, getMessage("column.header.account.name"),-1,2900));
				row.setCell(new CellDomain(23, null, String.class,headerStyle, getMessage("column.header.bookbank.status"),-1,2900));				
				row.setCell(new CellDomain(24, null, String.class,headerStyle, getMessage("column.header.bookbank.flow"),-1,2900));
				row.setCell(new CellDomain(25, null, String.class,headerStyle, getMessage("column.header.bookbank.batch"),-1,2900));
				row.setCell(new CellDomain(26, null, String.class,headerStyle, getMessage("column.header.payee.id"),-1,2900));
				row.setCell(new CellDomain(27, null, String.class,headerStyle, getMessage("column.header.payee.name"),-1,2900));
				row.setCell(new CellDomain(28, null, String.class,headerStyle, getMessage("column.header.payee.status"),-1,2900));
				row.setCell(new CellDomain(29, null, String.class,headerStyle, getMessage("column.header.payee.flow"),-1,2900));
				row.setCell(new CellDomain(30, null, String.class,headerStyle, getMessage("column.header.payee.batch"),-1,2900));
				row.setCell(new CellDomain(31, null, String.class,headerStyle, getMessage("column.header.payee.bank.name"),-1,2900));
				row.setCell(new CellDomain(32, null, String.class,headerStyle, getMessage("column.header.payee.account.no"),-1,2900));
				row.setCell(new CellDomain(33, null, String.class,headerStyle, getMessage("column.header.payee.account.name"),-1,2900));
				row.setCell(new CellDomain(34, null, String.class,headerStyle, getMessage("column.header.bookbank.payee.status"),-1,2900));
				row.setCell(new CellDomain(35, null, String.class,headerStyle, getMessage("column.header.bookbank.payee.flow"),-1,2900));
				row.setCell(new CellDomain(36, null, String.class,headerStyle, getMessage("column.header.bookbank.payee.batch"),-1,2900));
				row.setCell(new CellDomain(37, null, String.class,headerStyle, getMessage("column.header.remark"),-1,2900));
				
				docManager.putDetailRow(row);
				docManager.seteObjectList(null);
				docManager.setModule("VENDOR");
				docManager.setPrintPageLandScape(true);
				docManager.setMargin(0.05, 0.05, 0.5, 0.05);
				docManager.getObjectFromDocument();
				docManager.exportServletFile();
			}
		}catch (Exception e) {
			e.printStackTrace();
		}
		return true;
	}
	
	private List<Mmm001VendorMasterSP> getVendorSelected(){
		LOG.info("::: SEMMMM001Action :: getVendorSelected >> BEGIN :::");
		
		List<Mmm001VendorMasterSP> tempList = new ArrayList<Mmm001VendorMasterSP>();
		
		try{
			semmmm001Bean = getSemmmm001Bean();
			
			List<WrapperBeanObject<Mmm001VendorMasterSP>> vendorTempResultList = new ArrayList<WrapperBeanObject<Mmm001VendorMasterSP>>();
			
			// condition with 2 tables cannot collected together
			// request changed 2017/06/07
			// lazy fixed low performance
			// >>
			// table ACTIVE (ACT)
			vendorTempResultList = semmmm001Bean.getVendorMasterResultList();
			
			int countTmp = 0; // lazy checked for collect by only one table
			
			for (WrapperBeanObject<Mmm001VendorMasterSP> obj : vendorTempResultList) {
				Mmm001VendorMasterSP contractSp = (Mmm001VendorMasterSP)obj.getDataObj();
				if(obj.isCheckBox()){
//					
					tempList.add(contractSp);
					countTmp++;
				}
			}
			
			// table TERMINATE (TMN)
			if(countTmp == 0){
				tempList = new ArrayList();
				vendorTempResultList = semmmm001Bean.getVendorMasterTerminateResultList();
				
				for (WrapperBeanObject<Mmm001VendorMasterSP> obj : vendorTempResultList) {
					Mmm001VendorMasterSP contractSp = (Mmm001VendorMasterSP)obj.getDataObj();
					if(obj.isCheckBox()){
						
						tempList.add(contractSp);
					}
				}
			}
			// <<
		
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			LOG.info("::: SEMMMM001Action :: getVendorSelected >> END :::");
		}
		return tempList;
	}
	
	public boolean doSelectContractOfExpense(){
		LOG.info("::: SEMMMM001Action :: doSelectContractOfExpense >> BEGIN :::");
		boolean flag = true;
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String expenseEffectiveDtStrParam = getFacesUtils().getRequestParameter("expenseEffectiveDtStrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("expenseEffectiveDtStrParam");
			String effectiveDtStrParam = getFacesUtils().getRequestParameter("effectiveDtStrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("effectiveDtStrParam");
			String expireDtStrParam = getFacesUtils().getRequestParameter("expireDtStrParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("expireDtStrParam");
			String expenseTypeIdParam = getFacesUtils().getRequestParameter("expenseTypeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("expenseTypeIdParam");
			String payTypeIdParam = getFacesUtils().getRequestParameter("payTypeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("payTypeIdParam");
			
			String vendorIdParam = semmmm001Bean.getVendorInfo().getVendorId() == null ? "" : 
				   (String) semmmm001Bean.getVendorInfo().getVendorId();
			String vendorMapPayeeIdParam = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			String saveFlag = semmmm001Bean.getVendorInfo().getSaveFlag() == null ? "" : 
				(String)semmmm001Bean.getVendorInfo().getSaveFlag();
			
//			String historyFlag = getFacesUtils().getRequestParameter("historyFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("historyFlag");
//			
//			// --
//			semmmm001Bean.setExpCntrctOfVndObj(new Mmm001ExpenseWithContractOfVendorSP());
//			semmmm001Bean.getExpCntrctOfVndObj().setContractNoOld(contractNo); // --
//			semmmm001Bean.getExpCntrctOfVndObj().setContractNo(contractNo);
//			semmmm001Bean.getExpCntrctOfVndObj().setExpenseType(expenseTypeIdParam);
//			semmmm001Bean.getExpCntrctOfVndObj().setPayType(payTypeIdParam);
//			
//			semmmm001Bean.getExpCntrctOfVndObj().setVendorId(vendorIdParam);
//			semmmm001Bean.getExpCntrctOfVndObj().setVendorMapPayeeId(vendorMapPayeeIdParam);
//			
//			if(!StringUtils.equals("Y", historyFlag)){
//				semmmm001Bean.setVendorInfoBackParam(new Mmm001VendorMasterSP());// --
//				semmmm001Bean.getVendorInfoBackParam().setContractNo(contractNo);
//				semmmm001Bean.getVendorInfoBackParam().setVendorId(vendorIdParam);
//				
//				semmmm001Bean.getVendorInfoBackParam().setVendorEffectiveDtStr(expenseEffectiveDtStrParam);
//				semmmm001Bean.getVendorInfoBackParam().setEffectiveDtStr(effectiveDtStrParam);
//				semmmm001Bean.getVendorInfoBackParam().setExpireDtStr(expireDtStrParam);
//				semmmm001Bean.getVendorInfoBackParam().setExpenseTypeId(expenseTypeIdParam);
//				semmmm001Bean.getVendorInfoBackParam().setPayTypeId(payTypeIdParam);
//				semmmm001Bean.getVendorInfoBackParam().setVendorMapPayeeId(vendorMapPayeeIdParam);
//				
//			}
//			
//			if(!expenseEffectiveDtStrParam.isEmpty())
//				semmmm001Bean.getExpCntrctOfVndObj().setExpenseEffectiveDt(SEMDataUtility.convertStringToDateByFormat(expenseEffectiveDtStrParam, DateUtil.SIMPLE_DATE_PATTERN));
//			
//			if(!effectiveDtStrParam.isEmpty())
//				semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDt(SEMDataUtility.convertStringToDateByFormat(effectiveDtStrParam, DateUtil.SIMPLE_DATE_PATTERN));
//			
//			if(!expireDtStrParam.isEmpty())
//				semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDt(SEMDataUtility.convertStringToDateByFormat(expireDtStrParam, DateUtil.SIMPLE_DATE_PATTERN));
//			
//			
//			// -- 2017/08/08
//			semmmm001Bean.setDisableBtnSaveVendor(false);
			
			
			this.doReloadAllVendorContent(contractNo, vendorIdParam, vendorMapPayeeId);
			
			semmmm001Bean.setSelectedTab("tab0");
			semmmm001Bean.setPayeeSelectedTab("tabP0");
			
			
			if(!StringUtils.equals("", vendorMapPayeeIdParam)){
				semmmm001Bean.getVendorInfo().setVendorMapPayeeId(vendorMapPayeeIdParam);
			}
			if(!StringUtils.equals("", saveFlag)){
				semmmm001Bean.getVendorInfo().setSaveFlag(saveFlag);
			}
			if(!StringUtils.equals("", contractNo)){
				semmmm001Bean.getExpCntrctOfVndObj().setContractNo(contractNo);
			}
			
			this.doSelectVendorPayment(vendorMapPayeeIdParam,contractNo);
			
			//set backup contractNo
			semmmm001Bean.getSemmmm001ReqParam().setContractNo(contractNo);
			
//			semmmm001Bean.setNewVendorFlag("");
			this.doCompareVendorWithSAP();
//			this.doChkWithoutContract();
			this.doGetVendorCheckBox();
//			this.doManageVendorDetailBtn();
//			this.doValidateBtnPage();
			
		} catch(Exception e) {
			flag = false;
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSelectContractOfExpense >> END :::");
		}
		return flag;
	}
	
	public void doSelectVendorPayment(String vendorMapPayeeId, String contractNo){
		LOG.info("::: SEMMMM001Action :: doSelectVendorPayment >> BEGIN :::");
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			ISiteContractService siteContractService = (ISiteContractService)getBean("siteContractService");
			List<Mmm001ExpenseWithContractOfVendorSP> to = null;
			
			
			String navProgram = getFacesUtils().getRequestParameter("navProgram") == null ? "" : (String)getFacesUtils().getRequestParameter("navProgram");
			
			// --
//			semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDt(null);
//			semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDtStr("");
//			semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDt(null);
//			semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDtStr("");
//			semmmm001Bean.getVendorInfo().setCompany("");
			
			ItemParamsSP params = new ItemParamsSP();
			params.setParam1(vendorMapPayeeId);			
			params.setParam2(contractNo);	
			params.setParam3(navProgram);
			// --
			LOG.debug("vendorMapPayeeId : "+vendorMapPayeeId);
			LOG.debug("contractNo : "+contractNo);
			LOG.debug("navProgram : "+navProgram);
//			if(semmmm001Bean.getExpCntrctOfVndObj().getContractNo() != null && 
//			  !semmmm001Bean.getExpCntrctOfVndObj().getContractNo().isEmpty()){
				// -- 
				to = siteContractService.querySPList(EQueryName.SEM_SAP_VENDOR_GET_PAYMENT.name, params);
				
				if(to != null && to.size() > 0){
					Mmm001ExpenseWithContractOfVendorSP objResult = (Mmm001ExpenseWithContractOfVendorSP)to.get(0);
					
					if(objResult.getContractEffectiveDt() != null){
						semmmm001Bean.getExpCntrctOfVndObj().setContractEffectiveDt(SEMDataUtility.convertToThYear(objResult.getContractEffectiveDt()));
					}
					
					if(objResult.getContractExpireDt() != null){
						semmmm001Bean.getExpCntrctOfVndObj().setContractExpireDt(SEMDataUtility.convertToThYear(objResult.getContractExpireDt()));
					}
					
					if(objResult.getVendorEffectiveDt() != null){
						semmmm001Bean.getExpCntrctOfVndObj().setVendorEffectiveDtStr(DateUtil.convertDateTime2StringWithLocale(objResult.getVendorEffectiveDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale));
					}
					
					if(objResult.getExpenseType() != null){
							semmmm001Bean.getExpCntrctOfVndObj().setExpenseType(objResult.getExpenseType());
					}
					
					if(semmmm001Bean.getExpCntrctOfVndObj().getExpenseEffectiveDt() == null){
						semmmm001Bean.getExpCntrctOfVndObj().setExpenseEffectiveDt(new Date());
					}
					
					if(semmmm001Bean.getExpCntrctOfVndObj().getPayType() == null || StringUtils.equals("", semmmm001Bean.getExpCntrctOfVndObj().getPayType()) ){
						semmmm001Bean.getExpCntrctOfVndObj().setPayType("01");
					}
					
					if(objResult.getPayType() != null){
						semmmm001Bean.getExpCntrctOfVndObj().setPayType(objResult.getPayType());
					}
					
					// -- 2017/08/10
					semmmm001Bean.getVendorInfo().setCompany(objResult.getCompany());
					semmmm001Bean.getVendorInfoCmpObj().setCompany(objResult.getCompany());
				}
				
				// temp param for saveFlag
//				semmmm001Bean.getVendorInfo().setSaveFlag("V"); //VIEW
				semmmm001Bean.setDisableBtnSaveVendor(false);
//			}
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doSelectVendorPayment >> END :::");
		}
	}
	
	private boolean doEditVendorData() {
		LOG.info("::: SEMMMM001Action :: doEditVendorData >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			String vendorFlowStatusParam = getFacesUtils().getRequestParameter("vendorFlowStatusParam") == null ? "" : (String)getFacesUtils().getRequestParameter("vendorFlowStatusParam");
//
//			semmmm001Bean.setDisableEditVendorContent(false); 
//			
//			semmmm001Bean.setDisableBtnNewBookbank(false);
//			semmmm001Bean.setDisableBtnNewPayee(false);
//			
//			semmmm001Bean.setRenderedPnlCmpVendorInfo(false);
//			semmmm001Bean.setDisableBtnSaveVendor(false);
//			
//			semmmm001Bean.setVisiblePnlAddContractInfo(false); //2017/07/11
//			
//			// temp param for saveFlag
			semmmm001Bean.getVendorInfo().setSaveFlag("ED"); //EDIT
//			
//			//disable contract panel
//			semmmm001Bean.setVisiblePnlContractInfo(false);
//			
//			//backup VendorFlowStatus
//			semmmm001Bean.setVendorFlowStatus(vendorFlowStatusParam);
//			//set VendorFlowStatus = Draft 
//			semmmm001Bean.getVendorInfo().setVendorFlowStatus("01");

//			this.doCopyVendorName();
			this.doManageVendorDetailBtn();
			this.doValidateBtnPage();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doEditVendorData >> END :::");
		}
		return flag;
	}
	
	private boolean doEditBookbankData() {
		LOG.info("::: SEMMMM001Action :: doEditBookbankData >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			semmmm001Bean.setRenderedPnlCmpBookbankInfo(false);
			
			semmmm001Bean.setDisableContent(true);
			semmmm001Bean.setDisableEditBookbankContent(false); 
			
			semmmm001Bean.setDisableBtnNewBookbank(false);
			semmmm001Bean.setDisableBtnSaveBookbank(false);
			
			// temp param for saveFlag
			semmmm001Bean.getBookbankInfo().setSaveFlag("ED"); //EDIT
			semmmm001Bean.setDisableBtnSaveBookbank(false);
			
			this.doManageVBDetailBtn();
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doEditBookbankData >> END :::");
		}
		return flag;
	}
	
	private boolean doEditPayeeData() {
		LOG.info("::: SEMMMM001Action :: doEditPayeeData >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			semmmm001Bean.setRenderedPnlCmpPayeeInfo(false);
			
			semmmm001Bean.setDisableContent(true);
			semmmm001Bean.setDisableEditPayeeContent(false); 
			
			semmmm001Bean.setDisableBtnNewPayee(false);
			semmmm001Bean.setDisableBtnSavePayee(false);
			
//			this.doSetPayeeLocation();
			
			// temp param for saveFlag
			semmmm001Bean.getPayeeInfo().setSaveFlag("ED"); //EDIT
			semmmm001Bean.setDisableBtnSavePayee(false);
			this.doManagePYDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doEditPayeeData >> END :::");
		}
		return flag;
	}
	
	private boolean doEditPayeeBBData() {
		LOG.info("::: SEMMMM001Action :: doEditPayeeBBData >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			semmmm001Bean.setRenderedPnlCmpBookbankPayeeInfo(false);
			
			semmmm001Bean.setDisableContent(true);
			semmmm001Bean.setDisableEditBookbankPayeeContent(false); 
			
			semmmm001Bean.setDisableBtnNewBookbankPayee(false);
			semmmm001Bean.setDisableBtnSaveBookbankPayee(false);
			
			// temp param for saveFlag
			semmmm001Bean.getBookbankPayeeInfo().setSaveFlag("ED"); //EDIT
			semmmm001Bean.setDisableBtnSaveBookbankPayee(false);
			this.doManagePBDetailBtn();
//			this.doCheckBBGSBPayee();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doEditPayeeBBData >> END :::");
		}
		return flag;
	}
	
	private boolean doViewVendorConfirm() {
		LOG.info("::: SEMMMM001Action :: doViewVendorConfirm >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			// -- 2017/08/23
//			semmmm001Bean.getContractInfo().setContractNo(contractNo);
			
			this.doGetConfirmData("VD", contractNo, vendorId, "", "", "", vendorMapPayeeId);
			
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewVendorConfirm >> END :::");
		}
		return flag;
	}
	
	private boolean doViewBookbankConfirm() {
		LOG.info("::: SEMMMM001Action :: doViewBookbankConfirm >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();

			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String vendorBookbankId = getFacesUtils().getRequestParameter("vendorBookbankIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorBookbankIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");

			String saveFlag = semmmm001Bean.getBookbankInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getBookbankInfo().getSaveFlag();
			
			
		
				// -- bookbank changed 
				this.doGetConfirmData("VB", contractNo, vendorId, vendorBookbankId, "", "", vendorMapPayeeId);
				
				
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewBookbankConfirm >> END :::");
		}
		return flag;
	}
	
	private boolean doViewPayeeConfirm() {
		LOG.info("::: SEMMMM001Action :: doViewPayeeConfirm >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("payeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);

		
			
			// -- payee changed 
			this.doGetConfirmData("PY", contractNo, vendorId, "", payeeId, "", vendorMapPayeeId);
			
//			
//			
//			this.doManagePYDetailBtn();
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewPayeeConfirm >> END :::");
		}
		return flag;
	}
	
	private boolean doViewBBPayeeConfirm() {
		LOG.info("::: SEMMMM001Action :: doViewBBPayeeConfirm >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			String contractNo = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("contractNoParam");
			String vendorId = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorIdParam");
			String payeeId = getFacesUtils().getRequestParameter("payeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("payeeIdParam");
			String bookbankPayeeId = getFacesUtils().getRequestParameter("bookbankPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("bookbankPayeeIdParam");
			String vendorMapPayeeId = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				   (String)getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			
			String saveFlag = semmmm001Bean.getBookbankPayeeInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getBookbankPayeeInfo().getSaveFlag();
			
			LOG.debug(">> contractNo: " + contractNo);
			LOG.debug(">> vendorId: " + vendorId);
			LOG.debug(">> payeeId: " + payeeId);
			LOG.debug(">> bookbankPayeeId: " + bookbankPayeeId);
			LOG.debug(">> vendorMapPayeeId: " + vendorMapPayeeId);

			
				
				
				this.doGetConfirmData("PB", contractNo, vendorId, "", payeeId, bookbankPayeeId, vendorMapPayeeId);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doViewBBPayeeConfirm >> END :::");
		}
		return flag;
	}
	
	private boolean doGetConfirmData(String HistPage, String contractNo, String vendorId, String bookbankId, String payeeId,
			String payeeBookbankId,String vendorMapPayeeId){
		semmmm001Bean = getSemmmm001Bean();
		boolean flag = true;
		try{
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			Mmm001CriteriaSP tmpCriteria = new Mmm001CriteriaSP();
			List<WrapperBeanObject<Mmm001HistorySP>> historyResultList = new ArrayList<WrapperBeanObject<Mmm001HistorySP>>();
			List<Mmm001HistorySP> masterHistorySP = new ArrayList<Mmm001HistorySP>();
			tmpCriteria.setHistoryPage(HistPage);
			tmpCriteria.setContractNo(contractNo);
			tmpCriteria.setVendorId(vendorId);
			tmpCriteria.setBookbankId(bookbankId);
			tmpCriteria.setPayeeId(payeeId);
			tmpCriteria.setBookbankPayeeId(payeeBookbankId);
			tmpCriteria.setVendorMapPayeeId(vendorMapPayeeId);
			masterHistorySP = service.querySPList(EQueryName.SEM_SAP_CONFIRM_INFO.name, tmpCriteria);
			
			semmmm001Bean.setConfirmResultList(new ArrayList<WrapperBeanObject<Mmm001HistorySP>>()); // clear object
			
			if(masterHistorySP != null && !masterHistorySP.isEmpty()) {
				LOG.debug(">> masterHistorySP.size() = " + masterHistorySP.size());
				for (int i=0; i<masterHistorySP.size(); i++) {
					Mmm001HistorySP obj = (Mmm001HistorySP) masterHistorySP.get(i);
					WrapperBeanObject<Mmm001HistorySP> tmpWrapperBean = new WrapperBeanObject<Mmm001HistorySP>();
					
					if(obj.getUpdateDt() != null){
						obj.setLastUpdateDtStr(convertYearENtoTHStr(obj.getUpdateDt()));
					}
					
					if(obj.getEffectiveDt() != null){
						obj.setEffectiveDtStr(convertYearENtoTHStr(obj.getEffectiveDt()));
					}
					
					if(obj.getExpireDt() != null){
						obj.setExpireDtStr(convertYearENtoTHStr(obj.getExpireDt()));
					}
					
					tmpWrapperBean.setDataObj(obj);
					tmpWrapperBean.setMessage("");
					tmpWrapperBean.setCheckBox(false);
					semmmm001Bean.getConfirmResultList().add(tmpWrapperBean);
				}
//				
			}	
		}catch (Exception e) {
			e.printStackTrace();
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
		return flag;
	}
	
	private void doBackupRequestParam(){
		semmmm001Bean = getSemmmm001Bean();
		try{
			String contractNo = semmmm001Bean.getExpCntrctOfVndObj().getContractNo() == null ? "" : 
				   (String) semmmm001Bean.getExpCntrctOfVndObj().getContractNo();
			String vendorId = semmmm001Bean.getVendorInfo().getVendorId() == null ? "" : 
				   (String) semmmm001Bean.getVendorInfo().getVendorId();
//			System.out.println("contractNo : "+contractNo);
//			System.out.println("vendorId : "+vendorId);
			
			String expenseEffectiveDtStrParam = null;
			if(semmmm001Bean.getExpCntrctOfVndObj().getExpenseEffectiveDt() != null){
				expenseEffectiveDtStrParam = DateUtil.convertDateTime2StringWithLocale(semmmm001Bean.getExpCntrctOfVndObj().getExpenseEffectiveDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale);
			}
			
			String effectiveDtStrParam = null;
			
			if(semmmm001Bean.getExpCntrctOfVndObj().getContractEffectiveDt() != null){
				expenseEffectiveDtStrParam = DateUtil.convertDateTime2StringWithLocale(semmmm001Bean.getExpCntrctOfVndObj().getContractEffectiveDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale);
			}
			
			String expireDtStrParam = null;
			if(semmmm001Bean.getExpCntrctOfVndObj().getContractExpireDt() != null){
				expenseEffectiveDtStrParam = DateUtil.convertDateTime2StringWithLocale(semmmm001Bean.getExpCntrctOfVndObj().getContractExpireDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale);
			}
			
			
			String expenseTypeIdParam = semmmm001Bean.getExpCntrctOfVndObj().getExpenseType() == null ? "" : 
				   (String) semmmm001Bean.getExpCntrctOfVndObj().getExpenseType();
			String payTypeIdParam = semmmm001Bean.getExpCntrctOfVndObj().getPayType() == null ? "" : 
				   (String) semmmm001Bean.getExpCntrctOfVndObj().getPayType();
			
			
			String vendorMapPayeeIdParam = semmmm001Bean.getVendorInfo().getVendorMapPayeeId() == null ? "" : 
				   (String)semmmm001Bean.getVendorInfo().getVendorMapPayeeId();
			
			semmmm001Bean.getSemmmm001ReqParam().setContractNo(contractNo);
			semmmm001Bean.getSemmmm001ReqParam().setVendorId(vendorId);
			semmmm001Bean.getSemmmm001ReqParam().setExpenseEffectiveDtStrParam(expenseEffectiveDtStrParam);
			semmmm001Bean.getSemmmm001ReqParam().setEffectiveDtStrParam(effectiveDtStrParam);
			semmmm001Bean.getSemmmm001ReqParam().setExpireDtStrParam(expireDtStrParam);
			semmmm001Bean.getSemmmm001ReqParam().setExpenseTypeIdParam(expenseTypeIdParam);
			semmmm001Bean.getSemmmm001ReqParam().setPayTypeIdParam(payTypeIdParam);
			
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action doBackupRequestParam : "+e);
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
	}
	
	private void doBackupVBRequestParam(){
		semmmm001Bean = getSemmmm001Bean();
		try{
			String contractNo = semmmm001Bean.getContractInfo().getContractNo() == null ? "" : 
				   (String) semmmm001Bean.getContractInfo().getContractNo();
			String vendorId = semmmm001Bean.getVendorInfo().getVendorId() == null ? "" : 
				   (String) semmmm001Bean.getVendorInfo().getVendorId();
			String vendorBookbankId = semmmm001Bean.getBookbankInfo().getVendorBookbankId() == null ? "" : 
				   (String) semmmm001Bean.getBookbankInfo().getVendorBookbankId();
			
			
			semmmm001Bean.getSemmmm001ReqParam().setContractNoVB(contractNo);
			semmmm001Bean.getSemmmm001ReqParam().setVendorIdVB(vendorId);
			semmmm001Bean.getSemmmm001ReqParam().setVendorBookbankId(vendorBookbankId);
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action doBackupVBRequestParam : "+e);
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
	}

	private void doBackupPYRequestParam(){
		semmmm001Bean = getSemmmm001Bean();
		try{
			String contractNo = semmmm001Bean.getContractInfo().getContractNo() == null ? "" : 
				   (String) semmmm001Bean.getContractInfo().getContractNo();
			String vendorId = semmmm001Bean.getVendorInfo().getVendorId() == null ? "" : 
				   (String) semmmm001Bean.getVendorInfo().getVendorId();
			String payeeId = semmmm001Bean.getPayeeInfo().getPayeeId() == null ? "" : 
				   (String) semmmm001Bean.getPayeeInfo().getPayeeId();
			String vendorMapPayeeId = semmmm001Bean.getVendorInfo().getVendorMapPayeeId() == null ? "" : 
				   (String) semmmm001Bean.getVendorInfo().getVendorMapPayeeId();
			
			semmmm001Bean.getSemmmm001ReqParam().setContractNoPY(contractNo);
			semmmm001Bean.getSemmmm001ReqParam().setVendorIdPY(vendorId);
			semmmm001Bean.getSemmmm001ReqParam().setPayeeIdPY(payeeId);
			semmmm001Bean.getSemmmm001ReqParam().setVendorMapPayeeIdPY(vendorMapPayeeId);
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action doBackupPYRequestParam : "+e);
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
	}
	
	private void doBackupPBRequestParam(){
		semmmm001Bean = getSemmmm001Bean();
		try{
			String contractNo = semmmm001Bean.getContractInfo().getContractNo() == null ? "" : 
				   (String)semmmm001Bean.getContractInfo().getContractNo();
			String vendorId = semmmm001Bean.getVendorInfo().getVendorId() == null ? "" : 
				   (String)semmmm001Bean.getVendorInfo().getVendorId();
			String payeeId = semmmm001Bean.getPayeeInfo().getPayeeId() == null ? "" : 
				   (String)semmmm001Bean.getPayeeInfo().getPayeeId();
			String bookbankPayeeId = semmmm001Bean.getBookbankPayeeInfo().getBookbankPayeeId() == null ? "" : 
				   (String)semmmm001Bean.getBookbankPayeeInfo().getBookbankPayeeId();
			String vendorMapPayeeId = semmmm001Bean.getVendorInfo().getVendorMapPayeeId() == null ? "" : 
				   (String)semmmm001Bean.getVendorInfo().getVendorMapPayeeId();
			
			semmmm001Bean.getSemmmm001ReqParam().setContractNoPB(contractNo);
			semmmm001Bean.getSemmmm001ReqParam().setVendorIdPB(vendorId);
			semmmm001Bean.getSemmmm001ReqParam().setPayeeIdPB(payeeId);
			semmmm001Bean.getSemmmm001ReqParam().setBookbankPayeeIdPB(bookbankPayeeId);
			semmmm001Bean.getSemmmm001ReqParam().setVendorMapPayeeIdPB(vendorMapPayeeId);
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("Error SEMMMM001Action doBackupPBRequestParam : "+e);
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
	}
	
	public boolean doInitValidateBack(){
		boolean flag = true;
		semmmm001Bean = getSemmmm001Bean();
		try{
			
			String navParam = getFacesUtils().getRequestParameter("navProgram") == null ? "" : (String) getFacesUtils().getRequestParameter("navProgram");
			
			String navModule = getFacesUtils().getRequestParameter("navModule") == null ? "" : (String) getFacesUtils().getRequestParameter("navModule");
			String navProgram = getFacesUtils().getRequestParameter("navProgram") == null ? "" : (String) getFacesUtils().getRequestParameter("navProgram");
			String moduleWithNavi = getFacesUtils().getRequestParameter("moduleWithNavi") == null ? "" : (String) getFacesUtils().getRequestParameter("moduleWithNavi");
			String actionWithNavi = getFacesUtils().getRequestParameter("actionWithNavi") == null ? "" : (String) getFacesUtils().getRequestParameter("actionWithNavi");
			String todoManagerFlag = getFacesUtils().getRequestParameter("todoManagerFlag") == null ? "" : (String) getFacesUtils().getRequestParameter("todoManagerFlag");
			String contractNoParam = getFacesUtils().getRequestParameter("contractNoParam") == null ? "" : (String) getFacesUtils().getRequestParameter("contractNoParam");
			String vendorIdParam = getFacesUtils().getRequestParameter("vendorIdParam") == null ? "" : (String) getFacesUtils().getRequestParameter("vendorIdParam");
			String actionId = getFacesUtils().getRequestParameter("actionId") == null ? "" : (String) getFacesUtils().getRequestParameter("actionId");
			String methodWithNavi = getFacesUtils().getRequestParameter("methodWithNavi") == null ? "" : (String) getFacesUtils().getRequestParameter("methodWithNavi");
			
			String mode = getFacesUtils().getRequestParameter("mode") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("mode");
			String headType = getFacesUtils().getRequestParameter("headType") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("headType");
			
			String expenseEffectiveDtStrParam = getFacesUtils().getRequestParameter("expenseEffectiveDtStrParam") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("expenseEffectiveDtStrParam");
			String effectiveDtStrParam = getFacesUtils().getRequestParameter("effectiveDtStrParam") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("effectiveDtStrParam");
			String expireDtStrParam = getFacesUtils().getRequestParameter("expireDtStrParam") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("expireDtStrParam");
			String expenseTypeIdParam = getFacesUtils().getRequestParameter("expenseTypeIdParam") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("expenseTypeIdParam");
			String payTypeIdParam = getFacesUtils().getRequestParameter("payTypeIdParam") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("payTypeIdParam");
			String vendorMapPayeeIdParam = getFacesUtils().getRequestParameter("vendorMapPayeeIdParam") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("vendorMapPayeeIdParam");
			String cancelFlag = getFacesUtils().getRequestParameter("cancelFlag") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("cancelFlag");
			
			String moduleType = getFacesUtils().getRequestParameter("moduleType") == null ? "" : 
				(String) getFacesUtils().getRequestParameter("moduleType");
			
			
			semmmm001Bean.setNavModuleBackAfterSave(navModule);
			semmmm001Bean.setNavProgramBackAfterSave(navProgram);
			semmmm001Bean.setModuleWithNaviBackAfterSave(moduleWithNavi);
			semmmm001Bean.setActionWithNaviBackAfterSave(actionWithNavi);
			semmmm001Bean.setTodoManagerFlagBackAfterSave(todoManagerFlag);
			semmmm001Bean.setContractNoParamBackAfterSave(contractNoParam);
			semmmm001Bean.setVendorIdParamBackAfterSave(vendorIdParam);
			semmmm001Bean.setActionIdBackAfterSave(actionId);
			semmmm001Bean.setMethodWithNaviBackAfterSave(methodWithNavi);
			
			semmmm001Bean.setModeBackAfterSave(mode);
			semmmm001Bean.setHeadTypeBackAfterSave(headType);
			
			semmmm001Bean.setExpenseEffectiveDtStrParamBackAfterSave(expenseEffectiveDtStrParam);
			semmmm001Bean.setEffectiveDtStrParamBackAfterSave(effectiveDtStrParam);
			semmmm001Bean.setExpireDtStrParamBackAfterSave(expireDtStrParam);
			semmmm001Bean.setExpenseTypeIdParamBackAfterSave(expenseTypeIdParam);
			semmmm001Bean.setPayTypeIdParamBackAfterSave(payTypeIdParam);
			semmmm001Bean.setVendorMapPayeeIdParamBackAfterSave(vendorMapPayeeIdParam);
			semmmm001Bean.setCancelFlagBackAfterSave(cancelFlag);
			
			semmmm001Bean.setRenderedBtnBackVD(false);
			semmmm001Bean.setRenderedBtnBackVB(false);
			semmmm001Bean.setRenderedBtnBackPY(false);
			semmmm001Bean.setRenderedBtnBackPB(false);
			semmmm001Bean.setRenderedBtnBackVDCancel(false);
			semmmm001Bean.setRenderedBtnBackVBCancel(false);
			semmmm001Bean.setRenderedBtnBackPYCancel(false);
			semmmm001Bean.setRenderedBtnBackPBCancel(false);
			
			semmmm001Bean.setResultMsg(msg("message.back")); 
			
//			if(navParam.equalsIgnoreCase("SEMMMM001-2") && !StringUtils.equals("CANCEL_VENDOR", actionIdBackAfterSave)){
//				semmmm001Bean.setRenderedBtnBackVD(true);
//			}else if(navParam.equalsIgnoreCase("SEMMMM001-2") && StringUtils.equals("CANCEL_VENDOR", actionIdBackAfterSave)){
//				semmmm001Bean.setRenderedBtnBackVDCancel(true);
//			}else if(navParam.equalsIgnoreCase("SEMMMM001-3") && !StringUtils.equals("CANCEL_VENDOR", actionIdBackAfterSave)){
//				semmmm001Bean.setRenderedBtnBackVB(true);
//			}else if(navParam.equalsIgnoreCase("SEMMMM001-3") && StringUtils.equals("CANCEL_VENDOR", actionIdBackAfterSave)){
//				semmmm001Bean.setRenderedBtnBackVBCancel(true);
//			}else if(navParam.equalsIgnoreCase("SEMMMM001-4") && !StringUtils.equals("CANCEL_VENDOR", actionIdBackAfterSave)){
//				semmmm001Bean.setRenderedBtnBackPY(true);
//			}else if(navParam.equalsIgnoreCase("SEMMMM001-4") && StringUtils.equals("CANCEL_VENDOR", actionIdBackAfterSave)){
//				semmmm001Bean.setRenderedBtnBackPYCancel(true);
//			}else if(navParam.equalsIgnoreCase("SEMMMM001-5") && !StringUtils.equals("CANCEL_VENDOR", actionIdBackAfterSave)){
//				semmmm001Bean.setRenderedBtnBackPB(true);
//			}else if(navParam.equalsIgnoreCase("SEMMMM001-5") && StringUtils.equals("CANCEL_VENDOR", actionIdBackAfterSave)){
//				semmmm001Bean.setRenderedBtnBackPBCancel(true);
//			}
//			
			if(StringUtils.equals("VD", moduleType)){
				flag = this.doValidateBackVD();
			}else if(StringUtils.equals("VB", moduleType)){
				flag = this.doValidateBackVB();
			}else if(StringUtils.equals("PY", moduleType)){
				flag = this.doValidateBackPY();
			}else if(StringUtils.equals("PB", moduleType)){
				flag = this.doValidateBackPB();
			}
			
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("ERROR SEMMMM001Action doInitValidateBack : " + e);
			addMessageError("EL0000", " SEMMMM001Action doInitValidateBack");
			// TODO: handle exception
		}finally{
			setSemmmm001Bean(semmmm001Bean);
		}
		return flag;
	}
	
	
	private boolean doValidateBackVD(){
		LOG.info("::: SEMMMM001Action :: doValidateBackVD >> BEGIN :::");
		boolean flag = true;
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<ItemResultSP> result = null;
//			
//			if(!doValidateVendorMaster()){
//				semmmm001Bean.setRenderedResultMsgAlert(false);
//				flag = false;
//			}
			
			String saveFlag = semmmm001Bean.getVendorInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getVendorInfo().getSaveFlag();
			String contractNo = semmmm001Bean.getExpCntrctOfVndObj().getContractNo() == null ? "" : 
				   (String) semmmm001Bean.getExpCntrctOfVndObj().getContractNo();
			String vedorIdForCallBack = "";
			String vendorMapPayeeId = semmmm001Bean.getVendorInfo().getVendorMapPayeeId() == null ? "" : 
				   (String) semmmm001Bean.getVendorInfo().getVendorMapPayeeId();
			String validateFlag = getFacesUtils().getRequestParameter("validateFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("validateFlag");
			String validateCaseId = getFacesUtils().getRequestParameter("validateCaseId") == null ? "" : (String)getFacesUtils().getRequestParameter("validateCaseId");
			
			
			LOG.debug(">>> saveFlag: " + saveFlag);
			LOG.debug(">>> contractNo: " + contractNo);
			LOG.debug(">>> validateFlag: " + validateFlag);
			LOG.debug(">>> validateCaseId: " + validateCaseId);
			LOG.debug(">>> vendorMapPayeeId: " + vendorMapPayeeId);
			
//	
				semmmm001Bean.getVendorInfo().setContractNo(contractNo);
				semmmm001Bean.getVendorInfo().setIncludeVAT(semmmm001Bean.getVendorInfo().isChkVAT() ? "Y" : "N");
				//added by NEW 2017/10/06
				semmmm001Bean.getVendorInfo().setValidateFlag(validateFlag);
				semmmm001Bean.getVendorInfo().setValidateCaseId(validateCaseId);
				semmmm001Bean.getVendorInfo().setUpdateBy(getUserLogIn());
				
				if(semmmm001Bean.getVendorInfo().getEffectiveDt() != null){
					String effectiveDtStr = DateUtil.convertDateTime2StringWithLocale(semmmm001Bean.getVendorInfo().getEffectiveDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale);
					semmmm001Bean.getVendorInfo().setEffectiveDtStr(effectiveDtStr);
				}
				this.doSetVendorCheckBox();
				LOG.info("semmmm001Bean.getVendorInfo(): " + semmmm001Bean.getVendorInfo());
				LOG.info("semmmm001Bean.getVendorInfo().getVendorBlackListStatus : " + semmmm001Bean.getVendorInfo().getVendorBlackListStatus());
				LOG.info("semmmm001Bean.getVendorInfo().getVendorMapPayeeId : " + semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
				LOG.info("semmmm001Bean.getVendorInfo().getVendorId : " + semmmm001Bean.getVendorInfo().getVendorId());
				
				result = service.querySPList(EQueryName.SEM_SAP_VALIDATE_BACK_VD.name, semmmm001Bean.getVendorInfo());
				
				if(result != null && result.size() != 0 && result.get(0) != null) {
					if(result.get(0).getResultCode() != null && 
					   !StringUtils.equals("Y", result.get(0).getResultCode())){
						addressLoop:
						for(int i = 1;i <= 7;i++){
							
							Mmm001AddressSP addressSP = new Mmm001AddressSP();
							switch (i) {
							case 1:
								addressSP = semmmm001Bean.getVendorAddrObj();
								break;
							case 2:
								addressSP = semmmm001Bean.getRentalAddrObj();
								break;
							case 3:
								addressSP = semmmm001Bean.getElectrictAddrObj();
								break;
							case 4:
								addressSP = semmmm001Bean.getPropertyAddrObj();
								break;
							case 5:
								addressSP = semmmm001Bean.getInsureAddrObj();
								break;
							case 6:
								addressSP = semmmm001Bean.getConstructAddrObj();
								break;
							case 7:
								addressSP = semmmm001Bean.getWithholdAddrObj();
								break;
							default:
								break;
							}
							
							
							
							result = new ArrayList<ItemResultSP>();
							result = service.querySPList(EQueryName.SEM_SAP_VALIDATE_BACK_AD.name, addressSP);
							
							if(result != null){
								if(StringUtils.equals("Y", result.get(0).getResultCode())){
									break addressLoop;
								}
								
							}else
								break addressLoop;
						}
					
					
					if(!StringUtils.equals("Y", result.get(0).getResultCode())){
						result = new ArrayList<ItemResultSP>();
						result = this.doValidateBackEP();
						
					}
					
				}
						
			}
			
			if(result != null && StringUtils.equals("Y", result.get(0).getResultCode())){
				semmmm001Bean.setRenderedPopupConfirmBackVD(true);	
				semmmm001Bean.setRenderedBtnBackVD(true);
				semmmm001Bean.setRenderedBtnBackVB(false);
				semmmm001Bean.setRenderedBtnBackPY(false);
				semmmm001Bean.setRenderedBtnBackPB(false);
			}else{
				semmmm001Bean.setRenderedPopupConfirmBackVD(false);	
				semmmm001Bean.setRenderedBtnBackVD(false);
				semmmm001Bean.setRenderedBtnBackVB(false);
				semmmm001Bean.setRenderedBtnBackPY(false);
				semmmm001Bean.setRenderedBtnBackPB(false);
			}
					
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action doValidateBackVD");
			flag = false;
			
			resultDialogException(SEMDataUtility.buildMessage(getMessageByCode("EL0000"), "SEMMMM001Action doValidateBackVD"));
		} finally {
			semmmm001Bean.setRenderedMsgFormSearch(true);
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doValidateBackVD >> END :::");
		}
		return flag;
	}
	
	private List<ItemResultSP> doValidateBackEP() {
		LOG.info("::: SEMMMM001Action :: doValidateBackEP >> BEGIN :::");
		boolean flag = true;
		List<ItemResultSP> result = new ArrayList<ItemResultSP>();
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			
			
			String contractNoOld = semmmm001Bean.getExpCntrctOfVndObj().getContractNoOld() == null ? "" : 
				   (String) semmmm001Bean.getExpCntrctOfVndObj().getContractNoOld();
			String contractNo = semmmm001Bean.getExpCntrctOfVndObj().getContractNo() == null ? "" : 
				   (String) semmmm001Bean.getExpCntrctOfVndObj().getContractNo();
			String expenseEffectiveDtStr = semmmm001Bean.getExpCntrctOfVndObj().getExpenseEffectiveDt() == null ? "" : 
				   (String) DateUtil.convertDateTime2StringWithLocale(semmmm001Bean.getExpCntrctOfVndObj().getExpenseEffectiveDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale);
			String vendorMapPayeeId = semmmm001Bean.getVendorInfo().getVendorMapPayeeId() == null ? "" : 
			  	   (String) semmmm001Bean.getVendorInfo().getVendorMapPayeeId();
			String vendorId = semmmm001Bean.getVendorInfo().getVendorId() == null ? "" : 
				   (String) semmmm001Bean.getVendorInfo().getVendorId();
			String expenseType = semmmm001Bean.getExpCntrctOfVndObj().getExpenseType() == null ? "" : 
				   (String) semmmm001Bean.getExpCntrctOfVndObj().getExpenseType();
			String payType = semmmm001Bean.getExpCntrctOfVndObj().getPayType() == null ? "" : 
				   (String) semmmm001Bean.getExpCntrctOfVndObj().getPayType();
			String saveFlag = semmmm001Bean.getVendorInfo().getSaveFlag() == null ? "" : 
				   (String) semmmm001Bean.getVendorInfo().getSaveFlag();
			LOG.debug("doSaveExpenseInfo() saveFlag : "+saveFlag);
			String withoutContractFlag = semmmm001Bean.getExpCntrctOfVndObj().isChkWithoutContract() ? "Y" : "N";
			String withoutContractRemark = semmmm001Bean.getVendorInfo().getRemarkWithoutContract() == null ? "" : 
				   (String)semmmm001Bean.getVendorInfo().getRemarkWithoutContract();
			
			ItemResultSP resultSP = new ItemResultSP();
			
			if(flag){
				ItemParamsSP params = new ItemParamsSP();
				params.setParam1(vendorMapPayeeId);			
				params.setParam2(vendorId);	
				params.setParam3(contractNo);
				params.setParam4(expenseEffectiveDtStr);
				params.setParam5(expenseType);
				params.setParam6(payType);
				params.setParam7(withoutContractFlag);
				params.setParam8(withoutContractRemark);
				params.setParam9(getUserLogIn());
				params.setParam10(contractNoOld); // --
				params.setParam11(saveFlag);
				result = service.querySPList(EQueryName.SEM_SAP_VALIDATE_BACK_EP.name, params);
				
				
			}
			
			// - result dialog -
			//resultDialog(result);
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action doValidateBackEP");
			flag = false;
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doValidateBackEP >> END :::");
		}
		return result;
	}
	
	private boolean doValidateBackVB(){
		boolean flag = true;
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<ItemResultSP> result = null;
			
			String saveFlag = semmmm001Bean.getBookbankInfo() == null ? "" : 
				   (String)semmmm001Bean.getBookbankInfo().getSaveFlag();
			
			String validateFlag = getFacesUtils().getRequestParameter("validateFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("validateFlag");
			String validateCaseId = getFacesUtils().getRequestParameter("validateCaseId") == null ? "" : (String)getFacesUtils().getRequestParameter("validateCaseId");
			
			LOG.debug(">>> saveFlag: " + saveFlag);
			LOG.debug(">>> contractInfoObj: " + semmmm001Bean.getContractInfo().toString());
			LOG.debug(">>> validateFlag: " + validateFlag);
			LOG.debug(">>> validateCaseId: " + validateCaseId);
			
		
			
			if(StringUtils.equals("C", saveFlag)){ // CHANGE
				if(flag){
					semmmm001Bean.getBookbankInfoCmpObj().setSaveFlag("C");
					semmmm001Bean.getBookbankInfoCmpObj().setContractNo(semmmm001Bean.getContractInfo().getContractNo());
					semmmm001Bean.getBookbankInfoCmpObj().setVendorId(semmmm001Bean.getVendorInfo().getVendorId());
					semmmm001Bean.getBookbankInfoCmpObj().setVendorBookbankId(semmmm001Bean.getBookbankInfo().getVendorBookbankId());
					semmmm001Bean.getBookbankInfoCmpObj().setUpdateBy(getUserLogIn());

					semmmm001Bean.getBookbankInfoCmpObj().setValidateFlag(validateFlag);
					semmmm001Bean.getBookbankInfoCmpObj().setValidateCaseId(validateCaseId);
					
					LOG.debug(">>> bookbankInfoCmpObj: " + semmmm001Bean.getBookbankInfoCmpObj().toString());
					result = service.querySPList(EQueryName.SEM_SAP_VALIDATE_BACK_VB.name, semmmm001Bean.getBookbankInfoCmpObj());
				}
			} else { // NEW, EDIT
				if(flag){
					semmmm001Bean.getBookbankInfo().setContractNo(semmmm001Bean.getContractInfo().getContractNo());
					semmmm001Bean.getBookbankInfo().setVendorId(semmmm001Bean.getVendorInfo().getVendorId());
					semmmm001Bean.getBookbankInfo().setUpdateBy(getUserLogIn());
					

					semmmm001Bean.getBookbankInfo().setValidateFlag(validateFlag);
					semmmm001Bean.getBookbankInfo().setValidateCaseId(validateCaseId);
					
					LOG.debug(">>> bookbankInfoObj: " + semmmm001Bean.getBookbankInfo().toString());
					
					LOG.debug("getContractNo : "+semmmm001Bean.getBookbankInfo().getContractNo());
					LOG.debug("getVendorId : "+semmmm001Bean.getBookbankInfo().getVendorId());
					LOG.debug("getUpdateBy : "+semmmm001Bean.getBookbankInfo().getUpdateBy());
					result = service.querySPList(EQueryName.SEM_SAP_VALIDATE_BACK_VB.name, semmmm001Bean.getBookbankInfo());
				}
			}
			
			
			if(result != null && result.size() != 0 && result.get(0) != null) {
				if(result.get(0).getResultCode() != null && StringUtils.equals("Y", result.get(0).getResultCode())){
					semmmm001Bean.setRenderedPopupConfirmBackVD(true);	
					semmmm001Bean.setRenderedBtnBackVD(false);
					semmmm001Bean.setRenderedBtnBackVB(true);
					semmmm001Bean.setRenderedBtnBackPY(false);
					semmmm001Bean.setRenderedBtnBackPB(false);
				}else{
					semmmm001Bean.setRenderedPopupConfirmBackVD(false);	
					semmmm001Bean.setRenderedBtnBackVD(false);
					semmmm001Bean.setRenderedBtnBackVB(false);
					semmmm001Bean.setRenderedBtnBackPY(false);
					semmmm001Bean.setRenderedBtnBackPB(false);
				}
					
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action doValidateBackVB");
			flag = false;
			
			resultDialogException(SEMDataUtility.buildMessage(getMessageByCode("EL0000"), "SEMMMM001Action doValidateBackVB"));
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doValidateBackVB >> END :::");
		}
		return flag;
	}
	
	private boolean doValidateBackPY(){
		LOG.info("::: SEMMMM001Action :: doValidateBackPY >> BEGIN :::");
		boolean flag = true;

		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			List<ItemResultSP> result = null;
			
			String saveFlag = semmmm001Bean.getPayeeInfo().getSaveFlag() == null ? "" :
				   (String) semmmm001Bean.getPayeeInfo().getSaveFlag();
			
			String payeeIdForCallBack = "";
			
			String validateFlag = getFacesUtils().getRequestParameter("validateFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("validateFlag");
			String validateCaseId = getFacesUtils().getRequestParameter("validateCaseId") == null ? "" : (String)getFacesUtils().getRequestParameter("validateCaseId");
			
			LOG.debug(">>> saveFlag: " + saveFlag);
			LOG.debug(">>> validateFlag: " + validateFlag);
			LOG.debug(">>> validateCaseId: " + validateCaseId);
			
			
			
				semmmm001Bean.getPayeeInfo().setContractNo(semmmm001Bean.getContractInfo().getContractNo());
				semmmm001Bean.getPayeeInfo().setVendorId(semmmm001Bean.getVendorInfo().getVendorId());
				semmmm001Bean.getPayeeInfo().setUpdateBy(getUserLogIn());
				
			
				
				if(StringUtils.equals("C", saveFlag)){ // CHANGE

					semmmm001Bean.getPayeeInfoCmpObj().setSaveFlag("C");
				}
				
				if(semmmm001Bean.getPayeeInfo().getExpenseEffectiveDt() != null){
					String expenseEffectiveDtStr = DateUtil.convertDateTime2StringWithLocale(semmmm001Bean.getPayeeInfo().getExpenseEffectiveDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale);
					semmmm001Bean.getPayeeInfo().setExpenseEffectiveDtStr(expenseEffectiveDtStr);
				}
				
				semmmm001Bean.getPayeeInfo().setpTaxFlag(semmmm001Bean.getPayeeInfo().isChkLocalDepartment() ? "Y" : "N");
				
				if(semmmm001Bean.getVendorInfo().getVendorMapPayeeId() != null)
					semmmm001Bean.getPayeeInfo().setVendorMapPayeeId(semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
				semmmm001Bean.getPayeeInfo().setValidateFlag(validateFlag);
				semmmm001Bean.getPayeeInfo().setValidateCaseId(validateCaseId);
				LOG.debug(">>> payeeInfoObj: " + semmmm001Bean.getPayeeInfo().toString());
				LOG.debug(">>> payeeInfoObj getContractNo : " + semmmm001Bean.getPayeeInfo().getContractNo());
				LOG.debug(">>> payeeInfoObj getVendorId  : " + semmmm001Bean.getPayeeInfo().getVendorId());
				LOG.debug(">>> payeeInfoObj getVendorMapPayeeId : " + semmmm001Bean.getPayeeInfo().getVendorMapPayeeId());
				result = service.querySPList(EQueryName.SEM_SAP_VALIDATE_BACK_PY.name, semmmm001Bean.getPayeeInfo());
			
			
			
			
			if(result != null && result.size() != 0 && result.get(0) != null) {
				if(result.get(0).getResultCode() != null && 
				   !StringUtils.equals("Y", result.get(0).getResultCode())){
					
					addressLoop : 
					for(int i = 1;i <= 6;i++){
						
						Mmm001AddressSP addressSP = new Mmm001AddressSP();
						switch (i) {
						case 1:
							addressSP = semmmm001Bean.getPayeeAddrObj();
							break;
						case 2:
							addressSP = semmmm001Bean.getRentalPayeeAddrObj();
							break;
						case 3:
							addressSP = semmmm001Bean.getElectrictPayeeAddrObj();
							break;
						case 4:
							addressSP = semmmm001Bean.getPropertyPayeeAddrObj();
							break;
						case 5:
							addressSP = semmmm001Bean.getInsurePayeeAddrObj();
							break;
						case 6:
							addressSP = semmmm001Bean.getConstructPayeeAddrObj();
							break;
						default:
							break;
						}
						
						
						
						result = new ArrayList<ItemResultSP>();
						result = service.querySPList(EQueryName.SEM_SAP_VENDOR_SAVE_ADDRESS.name, addressSP);
						
						if(result != null){
							if(StringUtils.equals("Y", result.get(0).getResultCode())){
								break addressLoop;
							}
							
						}else{
							
							addMessageError("EL0000", "SEMMMM001Action doValidateBackPY");
							flag = false;
							return flag;
						}
					}
				
				
				if(!StringUtils.equals("Y", result.get(0).getResultCode())){
					result = new ArrayList<ItemResultSP>();
					result = this.doValidateBackEP();
					
				}
				
			}
					
		}
		
		if(result != null && StringUtils.equals("Y", result.get(0).getResultCode())){
			semmmm001Bean.setRenderedPopupConfirmBackVD(true);	
			semmmm001Bean.setRenderedBtnBackVD(false);
			semmmm001Bean.setRenderedBtnBackVB(false);
			semmmm001Bean.setRenderedBtnBackPY(true);
			semmmm001Bean.setRenderedBtnBackPB(false);
		}else{
			semmmm001Bean.setRenderedPopupConfirmBackVD(false);	
			semmmm001Bean.setRenderedBtnBackVD(false);
			semmmm001Bean.setRenderedBtnBackVB(false);
			semmmm001Bean.setRenderedBtnBackPY(false);
			semmmm001Bean.setRenderedBtnBackPB(false);
		}
			
			
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action doValidateBackPY");
			flag = false;
			
			resultDialogException(SEMDataUtility.buildMessage(getMessageByCode("EL0000"), "SEMMMM001Action doValidateBackPY"));
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doValidateBackPY >> END :::");
		}
		return flag;
	}
	
	private boolean doValidateBackPB(){
		LOG.info("::: SEMMMM001Action :: doValidateBackPB >> BEGIN :::");
		boolean flag = true;

		List<ItemResultSP> result = null;
		
		try {
			
			semmmm001Bean = getSemmmm001Bean();
			IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
			
			String saveFlag = semmmm001Bean.getBookbankPayeeInfo().getSaveFlag() == null ? "" : 
				   (String)semmmm001Bean.getBookbankPayeeInfo().getSaveFlag();
			
			String validateFlag = getFacesUtils().getRequestParameter("validateFlag") == null ? "" : (String)getFacesUtils().getRequestParameter("validateFlag");
			String validateCaseId = getFacesUtils().getRequestParameter("validateCaseId") == null ? "" : (String)getFacesUtils().getRequestParameter("validateCaseId");
			
			LOG.debug(">>> saveFlag: " + saveFlag);
			LOG.debug(">>> contractInfoObj: " + semmmm001Bean.getContractInfo().toString());
			LOG.debug(">>> validateFlag: " + validateFlag);
			LOG.debug(">>> validateCaseId: " + validateCaseId);
		
//			
				
			semmmm001Bean.getBookbankPayeeInfo().setContractNo(semmmm001Bean.getContractInfo().getContractNo());
			semmmm001Bean.getBookbankPayeeInfo().setVendorId(semmmm001Bean.getVendorInfo().getVendorId());
			semmmm001Bean.getBookbankPayeeInfo().setPayeeId(semmmm001Bean.getPayeeInfo().getPayeeId());
			semmmm001Bean.getBookbankPayeeInfo().setUpdateBy(getUserLogIn());
				
			if(semmmm001Bean.getBookbankPayeeInfo().getFirstEffectiveDt() != null){
				String firstEffectiveDtStr = DateUtil.convertDateTime2StringWithLocale(semmmm001Bean.getBookbankPayeeInfo().getFirstEffectiveDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale);
				semmmm001Bean.getBookbankPayeeInfo().setFirstEffectiveDtStr(firstEffectiveDtStr);
			}
				
			if(semmmm001Bean.getBookbankPayeeInfo().getEffectiveDt() != null){
				String effectiveDtStr = DateUtil.convertDateTime2StringWithLocale(semmmm001Bean.getBookbankPayeeInfo().getEffectiveDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale);
				semmmm001Bean.getBookbankPayeeInfo().setEffectiveDtStr(effectiveDtStr);
			}
				
			if(semmmm001Bean.getBookbankPayeeInfo().getExpireDt() != null){
				String expireDtStr = DateUtil.convertDateTime2StringWithLocale(semmmm001Bean.getBookbankPayeeInfo().getExpireDt(), DateUtil.SIMPLE_DATE_PATTERN, DateUtil.enLocale);
				semmmm001Bean.getBookbankPayeeInfo().setExpireDtStr(expireDtStr);
			}
				
			semmmm001Bean.getBookbankPayeeInfo().setValidateFlag(validateFlag);
			semmmm001Bean.getBookbankPayeeInfo().setValidateCaseId(validateCaseId);
			if(semmmm001Bean.getVendorInfo().getVendorMapPayeeId() != null)
				semmmm001Bean.getBookbankPayeeInfo().setVendorMapPayeeId(semmmm001Bean.getVendorInfo().getVendorMapPayeeId());
				
			LOG.debug(">>> bookbankPayeeInfoObj: " + semmmm001Bean.getBookbankPayeeInfo().toString());
				
			result = service.querySPList(EQueryName.SEM_SAP_VALIDATE_BACK_PB.name, semmmm001Bean.getBookbankPayeeInfo());
//			}
			
			if(result != null && result.size() != 0 && result.get(0) != null) {
				if(result.get(0).getResultCode() != null && StringUtils.equals("Y", result.get(0).getResultCode())){
					semmmm001Bean.setRenderedPopupConfirmBackVD(true);	
					semmmm001Bean.setRenderedBtnBackVD(false);
					semmmm001Bean.setRenderedBtnBackVB(false);
					semmmm001Bean.setRenderedBtnBackPY(false);
					semmmm001Bean.setRenderedBtnBackPB(true);
				}
					
			}
			
		} catch(Exception e) {
			e.printStackTrace();
			LOG.error(e);
			LOG.debug(e);
			addMessageError("EL0000", "SEMMMM001Action doValidateBackPB");
			flag = false;
			
			resultDialogException(SEMDataUtility.buildMessage(getMessageByCode("EL0000"), "SEMMMM001Action doValidateBackPB"));
		} finally {
			setSemmmm001Bean(semmmm001Bean);
			LOG.info("::: SEMMMM001Action :: doValidateBackPB >> END :::");
		}
		return flag;
	}
	
	public String doConcatRegion(){
		LOG.debug("  ############# Start semmmm001Action doConcatRegion ##############");
		boolean flag = true;
		String regionConcatParam = "";
		semmmm001Bean = getSemmmm001Bean();
		try{
			String arrRegion[] = semmmm001Bean.getVendorMasterCriteria().getArrRegion().length == 0 ? null : 
								 semmmm001Bean.getVendorMasterCriteria().getArrRegion();
			if(arrRegion != null){
				for(Object s : arrRegion){
					LOG.debug("REGION: " + s.toString());
					regionConcatParam += s.toString().concat("|");
				}
				regionConcatParam = regionConcatParam.substring(0, regionConcatParam.lastIndexOf("|"));
				semmmm001Bean.getVendorMasterCriteria().setRegion(regionConcatParam);
				LOG.debug(">> regionConcatParam: " + regionConcatParam);
			}
		}catch (Exception e) {
			e.printStackTrace();
			LOG.debug("ERROR SEMMMM001Action doConcatRegion");
			// TODO: handle exception
		}
		
		LOG.debug("  ############# End semmmm001Action doConcatRegion ##############");
    	return regionConcatParam;
	}
	
	public void doCheckBBGSB(){
		LOG.debug("  ############# Start semmmm001Action doCheckBBGSB ##############");
		semmmm001Bean = getSemmmm001Bean();
		IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
		String result = "N";
		try{
			semmmm001Bean.setAccountNoMaxLength("10");
			List<Mmm001BookbankSP> bookbankResultList = null;
			Mmm001BookbankSP tmpCriteria = new Mmm001BookbankSP();
			
			if(semmmm001Bean.getBookbankInfo().getBankCode() != null)tmpCriteria.setBankCode(semmmm001Bean.getBookbankInfo().getBankCode());
			
			bookbankResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_CHECK_GSB.name, tmpCriteria);
			
			if(bookbankResultList != null && bookbankResultList.size() > 0){
				Mmm001BookbankSP bookbackSP = new Mmm001BookbankSP();
				bookbackSP = bookbankResultList.get(0);
				
				if(bookbackSP.getResult() != null){
					
					if(StringUtils.equals("Y", bookbackSP.getResult())){
						semmmm001Bean.setAccountNoMaxLength("12");
					}else{
						semmmm001Bean.setAccountNoMaxLength("10");
					}
				}else{
					semmmm001Bean.setAccountNoMaxLength("10");
				}
			}
		}catch (Exception e) {
			// TODO: handle exception
			e.printStackTrace();
			LOG.error(" ERROR SEMMSA001Action doCheckBBGSB ");
		}finally{
			LOG.debug("  ############# End semmmm001Action doCheckBBGSB ##############");
			setSemmmm001Bean(semmmm001Bean);
		}
		
	}
	
	public void doCheckBBGSBCmp(){
		LOG.debug("  ############# Start semmmm001Action doCheckBBGSBCmp ##############");
		semmmm001Bean = getSemmmm001Bean();
		IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
		String result = "N";
		try{
			semmmm001Bean.setAccountNoMaxLengthCmp("10");
			List<Mmm001BookbankSP> bookbankResultList = null;
			Mmm001BookbankSP tmpCriteria = new Mmm001BookbankSP();
			
			if(semmmm001Bean.getBookbankInfoCmpObj().getBankCode() != null)tmpCriteria.setBankCode(semmmm001Bean.getBookbankInfoCmpObj().getBankCode());
			
			bookbankResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_CHECK_GSB.name, tmpCriteria);
			
			if(bookbankResultList != null && bookbankResultList.size() > 0){
				Mmm001BookbankSP bookbackSP = new Mmm001BookbankSP();
				bookbackSP = bookbankResultList.get(0);
				
				if(bookbackSP.getResult() != null){
					
					if(StringUtils.equals("Y", bookbackSP.getResult())){
						semmmm001Bean.setAccountNoMaxLengthCmp("12");
					}else{
						semmmm001Bean.setAccountNoMaxLengthCmp("10");
					}
				}else{
					semmmm001Bean.setAccountNoMaxLengthCmp("10");
				}
			}
		}catch (Exception e) {
			// TODO: handle exception
			e.printStackTrace();
			LOG.error(" ERROR SEMMSA001Action doCheckBBGSBCmp ");
		}finally{
			LOG.debug("  ############# End semmmm001Action doCheckBBGSBCmp ##############");
			setSemmmm001Bean(semmmm001Bean);
		}
		
	}
	
	public void doCheckBBGSBPayee(){
		LOG.debug("  ############# Start semmmm001Action doCheckBBGSBPayee ##############");
		semmmm001Bean = getSemmmm001Bean();
		IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
		String result = "N";
		try{
			semmmm001Bean.setAccountNoMaxLengthPayee("10");
			List<Mmm001BookbankSP> bookbankResultList = null;
			Mmm001BookbankSP tmpCriteria = new Mmm001BookbankSP();
			
			if(semmmm001Bean.getBookbankPayeeInfo().getBankCode() != null)tmpCriteria.setBankCode(semmmm001Bean.getBookbankPayeeInfo().getBankCode());
			
			bookbankResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_CHECK_GSB.name, tmpCriteria);
			
			if(bookbankResultList != null && bookbankResultList.size() > 0){
				Mmm001BookbankSP bookbackSP = new Mmm001BookbankSP();
				bookbackSP = bookbankResultList.get(0);
				
				if(bookbackSP.getResult() != null){
					
					if(StringUtils.equals("Y", bookbackSP.getResult())){
						semmmm001Bean.setAccountNoMaxLengthPayee("12");
					}else{
						semmmm001Bean.setAccountNoMaxLengthPayee("10");
					}
				}else{
					semmmm001Bean.setAccountNoMaxLengthPayee("10");
				}
			}
		}catch (Exception e) {
			// TODO: handle exception
			e.printStackTrace();
			LOG.error(" ERROR SEMMSA001Action doCheckBBGSBPayee ");
		}finally{
			LOG.debug("  ############# End semmmm001Action doCheckBBGSBPayee ##############");
			setSemmmm001Bean(semmmm001Bean);
		}
		
	}
	
	public void doCheckBBGSBPayeeCmp(){
		LOG.debug("  ############# Start semmmm001Action doCheckBBGSBPayeeCmp ##############");
		semmmm001Bean = getSemmmm001Bean();
		IVendorMasterService service = (IVendorMasterService)getBean("vendorMasterService");
		String result = "N";
		try{
			semmmm001Bean.setAccountNoMaxLengthPayeeCmp("10");
			List<Mmm001BookbankSP> bookbankResultList = null;
			Mmm001BookbankSP tmpCriteria = new Mmm001BookbankSP();
			
			if(semmmm001Bean.getBookbankPayeeInfoCmpObj().getBankCode() != null)tmpCriteria.setBankCode(semmmm001Bean.getBookbankPayeeInfoCmpObj().getBankCode());
			
			bookbankResultList = service.querySPList(EQueryName.SEM_SAP_BOOKBANK_CHECK_GSB.name, tmpCriteria);
			
			if(bookbankResultList != null && bookbankResultList.size() > 0){
				Mmm001BookbankSP bookbackSP = new Mmm001BookbankSP();
				bookbackSP = bookbankResultList.get(0);
				
				if(bookbackSP.getResult() != null){
					
					if(StringUtils.equals("Y", bookbackSP.getResult())){
						semmmm001Bean.setAccountNoMaxLengthPayeeCmp("12");
					}else{
						semmmm001Bean.setAccountNoMaxLengthPayeeCmp("10");
					}
				}else{
					semmmm001Bean.setAccountNoMaxLengthPayeeCmp("10");
				}
			}
		}catch (Exception e) {
			// TODO: handle exception
			e.printStackTrace();
			LOG.error(" ERROR SEMMSA001Action doCheckBBGSBPayeeCmp ");
		}finally{
			LOG.debug("  ############# End semmmm001Action doCheckBBGSBPayeeCmp ##############");
			setSemmmm001Bean(semmmm001Bean);
		}
		
	}
}
